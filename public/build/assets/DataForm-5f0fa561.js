import{a as Pe,r as m,G as Fe,u as Me,I as ze,P as ue,H as ce,o as v,c as h,w as d,d as o,v as Qe,k as R,V as $e,b as t,t as p,p as k,y as V,af as pe,C as r,E as K,f as M,s as y,j as C,e as O,J as D,i as I,q as z,F as B,S as ve,R as Ye,N as Ge,W as _e,Z as He,B as Q,D as Je,M as Ke,aF as me,aG as fe,aH as he,aI as ye,aJ as We,_ as Ze,$ as Xe,m as et,n as E}from"./app-2443e7d1.js";import{_ as tt}from"./ApppageHeader-6db7d1f6.js";import{_ as at,r as Ve}from"./Studio-0a2eef9e.js";import{_ as st}from"./AppSnackBar-86534646.js";import{Q as lt}from"./QrcodeReaderVue3.common-744cf961.js";import{d as ot,e as dt}from"./encrypt-6d075844.js";import{u as ge}from"./formatDate-b9aad8c5.js";const it={key:0,class:"text-error text-h6"},nt={class:"v-col-12 v-col-md-8"},rt={key:0,class:"no-print"},ut={class:"v-col-12 v-col-md-6"},ct={class:"v-col-12 v-col-md-6"},pt={class:"v-col-12 v-col-md-6"},vt={class:"v-col-12 v-col-md-6"},_t={class:"v-col-12"},mt={class:"wd-100"},ft={class:"wd-60 text-caption"},ht={class:"wd-40"},yt={class:"wd-60"},Vt={class:"wd-40"},gt={class:"wd-100"},bt={class:"v-col-12"},wt=t("small",{class:"mx-5 text-info"},"UOM: ( pcs, pack, box, etc.. )",-1),kt=t("div",{class:"wd-30"},"ITEM DESCRIPTION",-1),xt=t("div",{class:"wd-15"},"ASSET CODE",-1),St=t("div",{class:"wd-5"},"QTY",-1),qt=t("div",{class:"wd-10"},"UOM",-1),Ct=t("div",{class:"wd-10"},"WEIGHT",-1),Tt=t("div",{class:"wd-10"},"VALUE",-1),At=t("div",{class:"wd-15"},"REASON FOR REQUEST",-1),Ut={class:"wd-30"},Ot={class:"wd-15"},Et={class:"wd-5"},jt={class:"wd-10"},Rt={class:"wd-10"},Dt={class:"wd-10"},It={class:"wd-15"},Nt={class:"v-col-12 v-col-md-1 px-1 no-print"},Bt={class:"v-col-12 v-col-md-12 pa-2",style:{position:"relative"}},Lt={style:{height:"680px",width:"100%"},class:"d-flex align-center justify-center"},Pt={class:"v-col-12 pt-0 pb-0"},Ft={class:"v-col-12 v-col-md-1 custom-width-description"},Mt={class:"v-col-12 v-col-md-2 d-flex"},zt={class:"v-col-12 v-col-md-1"},Qt={class:"v-col-12 v-col-md-1 custom-width-uom"},$t={class:"v-col-12 v-col-md-1"},Yt={class:"v-col-12 v-col-md-1"},Gt={class:"v-col-12 v-col-md-2 d-flex"},Ht={class:"v-col-12 font-weight-bold text-uppercase d-flex justify-space-between"},Jt=t("div",null,"APPROVAL SETUP",-1),Kt={key:0,class:"no-print"},Wt=t("div",{class:"wd-20"},"Requestor",-1),Zt={class:"wd-50"},Xt=t("div",{class:"wd-10"},"Status",-1),ea=t("div",{class:"wd-20"},"Date Approved",-1),ta={class:"wd-20"},aa={class:"wd-50"},sa={class:"wd-10"},la={class:"wd-20"},oa=t("div",{class:"v-col-12 v-col-md-2"},"Requestor",-1),da={class:"v-col-12 v-col-md-6"},ia=t("div",{class:"v-col-12 v-col-md-1"},"Status",-1),na=t("div",{class:"v-col-12 v-col-md-2"},"Date Approved",-1),ra={class:"v-col-12 v-col-md-2"},ua={class:"v-col-12 v-col-md-7 d-flex"},ca={class:"my-auto"},pa={class:"v-col-12 no-print"},va={class:"v-col-12 text-error"},_a=t("div",{class:"v-col-12 no-print v-col-md-12 text-info"}," Note: Once submitted and approval is on-going, you will no longer allowed to update the request. ",-1),wa={__name:"DataForm",props:{objectdata:{type:Object,default:{}},headertitle:{type:String,default:null}},emits:["deleted"],setup(be,{emit:we}){const x=be,c=Pe(),W=m("Note: Administrator needs to setup signatories first."),$=m(!1),S=Fe(),ke=Me(),i=m({}),q=m(!1),g=m([{qty:1,attachment:{}}]),xe=m(new Date),Se=m(["Nos","Set","Pcs","Pack","Pallet","SqM"]),Y=a=>{if(a=="approve")return"Approved By";if(a=="reviewer")return"Reviewed By";if(a=="receiver")return"Received By";if(a=="transport")return"Transport Arranged By";if(a=="releasing")return"Released By";if(a=="verify")return"Verified By"},qe=m(window.location.origin),Ce=(a,l)=>{g.value[a].attachment=l[0]},G=m(!1),Z=m(1),Te=a=>{Z.value=a,G.value=!0},Ae=a=>{g.value[a].attachment=""},X=m(""),L=m(!1),ee=m([]),Ue=async()=>{let a="request";x.headertitle=="Transfer Assets"&&(a="transfer"),await E(c.token).get("/api/fetch/approval-setups/non-paginated/data/"+a).then(l=>{var e,s;ee.value=l.data,X.value=(s=(e=l.data.filter(f=>f.id==_.value.request_type_id))==null?void 0:e[0])==null?void 0:s.title}).catch(l=>{})},N=m(!1),te=m(0),Oe=a=>{te.value=a,N.value=!0},ae=async(a,l)=>{let e=te.value;l!==void 0&&(e=l),await E(c.token).get("/api/fetch/asset-info/by/asset-code/"+a).then(s=>{g.value[e].item_description=s.data.asset_name,g.value[e].asset_code=a,N.value=!1}).catch(s=>{})},j=m({}),se=m([]),Ee=async()=>{await E(c.token).get("/api/fetch/companies").then(a=>{se.value=a.data}).catch(a=>{})},le=m(""),oe=m(""),H=m([]),je=async()=>{await E(c.token).get("/api/fetch/locations/non-paginated/data").then(a=>{var l,e,s,f;H.value=a.data,le.value=(e=(l=a.data.filter(b=>b.id==_.value.transferred_from))==null?void 0:l[0])==null?void 0:e.title,oe.value=(f=(s=a.data.filter(b=>b.id==_.value.transferred_to))==null?void 0:s[0])==null?void 0:f.title}).catch(a=>{})},Re=()=>{g.value.push({qty:1,attachment:{}}),A()},De=(a,l)=>{g.value.splice(l,1),A()},Ie=()=>{j.value={status:!0,type:"info",text:"Please wait..."};let a={data:i.value,assets:g.value,approval:T.value,profile_id:c.user.profile.id,role:c.user.profile.role,type:"transfer"};localStorage.setItem("draft-transfer",dt(a)),L.value=!0,setTimeout(()=>{j.value={status:!0,type:"success",text:"Data has been saved to Draft"}},800)},Ne=()=>{j.value={status:!0,type:"info",text:"Please wait..."};let a=g.value.map((e,s)=>(e.file_id="",e.attachment&&(e.file_id=e.attachment.id),delete e.assets,delete e.updated_at,delete e.created_at,delete e.id,delete e.attachment,e)),l={data:i.value,assets:a,approval:T.value,profile_id:c.user.profile.id,role:c.user.profile.role,type:"transfer"};E(c.token).post("/api/request-asset/store-update/data",l).then(e=>{let s="",f="";e.data.message?(s=e.data.message,f="success"):e.data.error&&(s=e.data.error,f="error"),j.value={status:!0,type:f,text:s},L.value=!1,localStorage.setItem("draft-transfer",null),S.params.id||setTimeout(()=>{ke.push({name:"EditTransferAsset",params:{id:e.data.id}}).catch(b=>{})},800)}).catch(e=>{console.log(e)})},T=m([]),P=m(!0),J=async()=>{await E(c.token).get("/api/fetch/request-asset/approval-setup-fetch/"+i.value.request_type_id).then(a=>{var l,e;T.value=(l=a.data)==null?void 0:l.stages,S.params.id&&T.value.length>0&&T.value.map((s,f)=>(s.profile_id=w.value[f].profile_id,s.status=w.value[f].status,s.date_approved=w.value[f].date_approved,s.reason_rejected=w.value[f].reason_rejected,s)),((e=a.data)==null?void 0:e.stages.length)>0?P.value=!0:P.value=!1}).catch(a=>{})},A=()=>{let a=!1;$.value=!1,i.value.company_id&&i.value.request_type_id&&i.value.subject&&i.value.transferred_from&&i.value.transferred_to&&(a=!0);let l=!0;g.value.map(s=>{(!s.item_description||!s.reason_for_request||!s.uom||!s.qty||s.qty<=0)&&(l=!1)});let e=!0;T.value.map(s=>{s.profile_id||(e=!1)}),e&&l&&a&&($.value=!0)},de=a=>{let l={status:a,profile_id:c.user.profile.id,ID:_.value.id};E(c.token).post("/api/request-asset/change-request/data",l).then(e=>{j.value={status:!0,type:"success",text:e.data.message},_.value.status=a,we("saved",e.data.message)}).catch(e=>{})},ie=(a,l=6)=>{let e="00000"+a;return e.substring(e.length-l)},w=m([]),_=m({}),F=m({});ze(()=>{var a,l,e,s,f,b;if(Ue().then(()=>{Ee().then(()=>{je()})}),S.params.id){q.value=!0;let n=x.objectdata;_.value=n,i.value.company_id=n.company_id,i.value.request_type_id=n.request_type_id,i.value.subject=n.subject,i.value.transferred_from=n.transferred_from,i.value.transferred_to=n.transferred_to,i.value.id=n.id,i.value.requestor_id=n.profile_id,w.value=n.request_approvals,g.value=n.items,F.value=(l=(a=n.request_approvals)==null?void 0:a.filter(u=>u.status=="awaiting-approval"))==null?void 0:l[0],J()}else{i.value.company_id=c.user.profile.company_id;let n=localStorage.getItem("draft-transfer");n&&(n=ot(n),L.value=!0,i.value.request_type_id=(e=n==null?void 0:n.data)==null?void 0:e.request_type_id,i.value.transferred_from=(s=n==null?void 0:n.data)==null?void 0:s.transferred_from,i.value.transferred_to=(f=n==null?void 0:n.data)==null?void 0:f.transferred_to,i.value.subject=(b=n==null?void 0:n.data)==null?void 0:b.subject,i.value.request_type_id&&J().then(()=>{w.value=n.approval,T.value.map((u,U)=>(u.profile_id=w.value[U].profile_id,u.status=w.value[U].status,u.date_approved=w.value[U].date_approved,u.reason_rejected=w.value[U].reason_rejected,u))}),g.value=n==null?void 0:n.assets)}});const Be=m("https://assets.grandiose.ae"),Le=ue(()=>{var n,u,U,ne,re;let a=null,l=Be.value+"/pv/employee-signatory",e=Ve(50),s=Ve(50),f=95,b=99;return((u=(n=c.user)==null?void 0:n.profile)==null?void 0:u.id)==((U=F.value)==null?void 0:U.profile_id)&&(f=(ne=F.value)==null?void 0:ne.profile_id,b=(re=F.value)==null?void 0:re.orders),_.value&&(a=l+"/transfer/approvals?o="+b+"&key="+e+"&pid="+f+"&pv="+s+"&id="+_.value.id),a});return ue(()=>c.user.role=="receiving-releasing"||c.user.role=="facility"),ce(i.value,async(a,l)=>{A()}),ce(g.value,async(a,l)=>{A()}),(a,l)=>(v(),h(et,null,{default:d(()=>[o(tt,{title:x.headertitle,class:"no-print"},null,8,["title"]),o(y,{class:"mb-3"},{default:d(()=>[o(Qe,{class:"v-col-12 mt-1 col-sm-12 py-0"},{default:d(()=>[o(R,null,{default:d(()=>[o($e,{class:"my-0 ml-3 text-uppercase text-h6 d-flex justify-space-between font-weight-bold"},{default:d(()=>[t("div",null,p(x.headertitle)+" "+p(L.value?"(Draft)":""),1),P.value?V("",!0):(v(),k("div",it,p(W.value),1)),q.value?(v(),k("div",{key:1,class:pe(_.value.status=="cancelled"?"text-error":_.value.status=="complete"?"text-success":"")}," STATUS ("+p(_.value.status)+") ",3)):V("",!0),t("div",null,"DATE: "+p(r(ge)(xe.value)),1)]),_:1}),o(K),o(M,null,{default:d(()=>[o(y,{class:"no-print"},{default:d(()=>[q.value?(v(),k("div",{key:0,class:pe(`${_.value.status=="complete"?"v-col-12":"v-col-md-12"}`)}," REQUEST NO: SN-3"+p(ie(_.value.id)),3)):V("",!0),t("div",nt,[q.value&&(_.value.status=="pending"||_.value.status=="cancelled")?(v(),k("div",rt,[_.value.status=="pending"&&i.value.requestor_id==r(c).user.profile.id?(v(),h(C,{key:0,onClick:l[0]||(l[0]=e=>de("cancelled")),size:"small",color:"warning"},{default:d(()=>[O("Cancel request")]),_:1})):V("",!0),i.value.requestor_id==r(c).user.profile.id&&_.value.status=="cancelled"?(v(),h(C,{key:1,onClick:l[1]||(l[1]=e=>de("pending")),size:"small",color:"info"},{default:d(()=>[O("Change status to Pending")]),_:1})):V("",!0)])):V("",!0)]),t("div",ut,[o(D,{items:ee.value,modelValue:i.value.request_type_id,"onUpdate:modelValue":[l[2]||(l[2]=e=>i.value.request_type_id=e),J],variant:"outlined",density:"compact","hide-details":"","item-value":"id",disabled:q.value,"item-title":"title",label:"TYPE OF REQUEST*"},null,8,["items","modelValue","disabled"])]),t("div",ct,[o(D,{items:se.value,modelValue:i.value.company_id,"onUpdate:modelValue":l[3]||(l[3]=e=>i.value.company_id=e),variant:"outlined",density:"compact","hide-details":"","item-value":"id","item-title":"title",label:"COMPANY*"},null,8,["items","modelValue"])]),t("div",pt,[o(D,{items:H.value,modelValue:i.value.transferred_from,"onUpdate:modelValue":l[4]||(l[4]=e=>i.value.transferred_from=e),variant:"outlined",density:"compact","hide-details":"","item-value":"id","item-title":"title",label:"LOCATION FROM*"},null,8,["items","modelValue"])]),t("div",vt,[o(D,{items:H.value,modelValue:i.value.transferred_to,"onUpdate:modelValue":l[5]||(l[5]=e=>i.value.transferred_to=e),variant:"outlined",density:"compact","hide-details":"","item-value":"id","item-title":"title",label:"LOCATION TO*"},null,8,["items","modelValue"])]),t("div",_t,[o(I,{modelValue:i.value.subject,"onUpdate:modelValue":l[6]||(l[6]=e=>i.value.subject=e),variant:"outlined",density:"compact","hide-details":"",clearable:"",label:"SUBJECT*"},null,8,["modelValue"])])]),_:1}),o(y,{class:"for-print-flex mx-2 mb-1"},{default:d(()=>{var e,s;return[t("div",mt,"REQUEST NO: "+p(_.value.id?"SN-3"+ie(_.value.id):""),1),t("div",ft,"TYPE OF REQUEST: "+p(X.value),1),t("div",ht,"COMPANY: "+p((s=(e=_.value)==null?void 0:e.company)==null?void 0:s.title),1),t("div",yt,"LOCATION FROM: "+p(le.value),1),t("div",Vt,"LOCATION TO: "+p(oe.value),1),t("div",gt,"SUBJECT: "+p(_.value.subject),1)]}),_:1})]),_:1})]),_:1}),o(R,{class:"my-2"},{default:d(()=>[o(M,null,{default:d(()=>[o(y,null,{default:d(()=>{var e;return[t("div",bt,[_.value.status!="complete"&&(!r(S).params.id||i.value.requestor_id==r(c).user.profile.id&&((e=x.objectdata)==null?void 0:e.status)=="pending"||r(c).user.profile.role=="superadmin"||r(c).user.profile.role=="administrator")?(v(),h(C,{key:0,size:"small",color:"primary",class:"no-print",onClick:Re},{default:d(()=>[O("Add")]),_:1})):V("",!0),wt])]}),_:1}),o(y,{class:"for-print-flex mx-2 header mb-1"},{default:d(()=>[kt,xt,St,qt,Ct,Tt,At]),_:1}),(v(!0),k(B,null,z(g.value,(e,s)=>(v(),h(y,{key:s,class:"for-print-flex mx-2 row-bordered"},{default:d(()=>[t("div",Ut,p(e.item_description),1),t("div",Ot,p(e.asset_code),1),t("div",Et,p(e.qty),1),t("div",jt,p(e.uom),1),t("div",Rt,p(e.weight),1),t("div",Dt,p(e.item_value),1),t("div",It,p(e.reason_for_request),1)]),_:2},1024))),128)),(v(!0),k(B,null,z(g.value,(e,s)=>(v(),h(y,{key:s,class:"no-print"},{default:d(()=>{var f,b,n;return[t("div",Nt,[(f=e.attachment)!=null&&f.id?(v(),h(y,{key:0,class:"px-1"},{default:d(()=>[t("div",Bt,[o(I,{style:{display:"none"},type:"hidden",class:"hidden",modelValue:e.attachment.id,"onUpdate:modelValue":u=>e.attachment.id=u},null,8,["modelValue","onUpdate:modelValue"]),!q.value||q.value&&i.value.requestor_id==r(c).user.profile.id?(v(),h(C,{key:0,style:{position:"absolute",top:"0",right:"0","z-index":"1"},icon:a.mdiClose,size:"16px",color:"error",onClick:()=>Ae(s,e.attachment.id)},null,8,["icon","onClick"])):V("",!0),o(R,{onClick:()=>Te(e),maxHeight:"40",style:{"background-image":"url('/assets/images/fav.png')","background-size":"cover",height:"100px",width:"100px"}},null,8,["onClick"])]),o(ve,{modelValue:G.value,"onUpdate:modelValue":l[7]||(l[7]=u=>G.value=u),width:"95%","max-width":"900"},{default:d(()=>[o(R,{class:"bg-black"},{default:d(()=>[t("div",Lt,[o(Ye,{src:qe.value+"/file/"+Z.value.attachment.path},null,8,["src"])])]),_:1})]),_:1},8,["modelValue"])]),_:2},1024)):(v(),h(y,{key:1,class:"mt-0"},{default:d(()=>[t("div",Pt,[o(Ge,{color:"grey-lighten-4",class:"text-center"},{default:d(()=>[o(at,{options:{multiSelect:!1,type:"transfer-asset"},onSelect:u=>Ce(s,u)},null,8,["onSelect"])]),_:2},1024)])]),_:2},1024))]),t("div",Ft,[o(_e,{modelValue:e.item_description,"onUpdate:modelValue":u=>e.item_description=u,variant:"outlined",density:"compact","hide-details":"",label:"ITEM DESC*",rows:"2",class:"no-print"},null,8,["modelValue","onUpdate:modelValue"])]),t("div",Mt,[o(I,{modelValue:e.asset_code,"onUpdate:modelValue":u=>e.asset_code=u,variant:"outlined",density:"compact","hide-details":"",label:"ASSET CODE","append-inner-icon":r(He),"onClick:appendInner":u=>ae(e.asset_code,s)},null,8,["modelValue","onUpdate:modelValue","append-inner-icon","onClick:appendInner"]),(!r(S).params.id||i.value.requestor_id==r(c).user.profile.id&&((b=x.objectdata)==null?void 0:b.status)=="pending"||r(c).user.profile.role=="superadmin"||r(c).user.profile.role=="administrator")&&_.value.status!="complete"?(v(),h(Q,{key:0,onClick:u=>Oe(s),class:"ml-2 my-auto",size:"x-small",icon:r(Je)},null,8,["onClick","icon"])):V("",!0)]),t("div",zt,[o(I,{type:"number","onUpdate:modelValue":[A,u=>e.qty=u],modelValue:e.qty,variant:"outlined",density:"compact","hide-details":"",class:"no-print",label:"QTY*"},null,8,["modelValue","onUpdate:modelValue"])]),t("div",Qt,[o(D,{items:Se.value,modelValue:e.uom,"onUpdate:modelValue":[u=>e.uom=u,A],variant:"outlined",density:"compact","hide-details":"",label:"UOM*",disabled:e.status=="done"},null,8,["items","modelValue","onUpdate:modelValue","disabled"])]),t("div",$t,[o(I,{type:"number",modelValue:e.weight,"onUpdate:modelValue":u=>e.weight=u,variant:"outlined",density:"compact",class:"no-print","hide-details":"",disabled:"",label:"WGT(KG)"},null,8,["modelValue","onUpdate:modelValue"])]),t("div",Yt,[o(I,{type:"number",modelValue:e.item_value,"onUpdate:modelValue":u=>e.item_value=u,variant:"outlined",density:"compact","hide-details":"",disabled:"",class:"no-print",label:"VALUE"},null,8,["modelValue","onUpdate:modelValue"])]),t("div",Gt,[o(_e,{modelValue:e.reason_for_request,"onUpdate:modelValue":u=>e.reason_for_request=u,variant:"outlined",density:"compact","hide-details":"",rows:"2",label:"REASON*"},null,8,["modelValue","onUpdate:modelValue"]),!q.value||q.value&&r(c).user.profile.id==x.objectdata.profile_id&&((n=x.objectdata)==null?void 0:n.status)=="pending"?(v(),h(Q,{key:0,size:"small",onClick:()=>De(e.id,s),icon:r(Ke),class:"my-auto ml-2 no-print",color:"error"},null,8,["onClick","icon"])):V("",!0)])]}),_:2},1024))),128))]),_:1})]),_:1}),o(R,{class:"my-2 page-break"},{default:d(()=>[o(M,null,{default:d(()=>[o(y,null,{default:d(()=>[t("div",Ht,[Jt,r(S).params.id?(v(),k("div",Kt,[o(C,{color:"info",size:"small",target:"_blank",href:Le.value},{default:d(()=>[O("View Approval Page")]),_:1},8,["href"])])):V("",!0)]),o(K)]),_:1}),o(y,{class:"for-print-flex mx-2 mt-5 mb-1"},{default:d(()=>{var e,s;return[Wt,t("div",Zt,p((s=(e=_.value)==null?void 0:e.profile)==null?void 0:s.display_name),1),Xt,ea]}),_:1}),(v(!0),k(B,null,z(w.value,e=>(v(),h(y,{class:"for-print-flex mx-2 mb-2 mt-0",key:e.id},{default:d(()=>{var s;return[t("div",ta,p(Y(e.approval_type)),1),t("div",aa,p((s=e==null?void 0:e.profile)==null?void 0:s.display_name),1),t("div",sa,[e.status?(v(),h(Q,{key:0,class:"mx-2 my-0",icon:e.status=="awaiting-approval"?r(me):e.status=="pending"?r(fe):e.status=="reject"?r(he):r(ye),color:e.status=="awaiting-approval"?"info":e.status=="pending"?"":e.status=="reject"?"error":"success"},null,8,["icon","color"])):V("",!0)]),t("div",la,p(e.date_approved),1)]}),_:2},1024))),128)),o(y,{class:"no-print"},{default:d(()=>{var e,s;return[oa,t("div",da,p((s=(e=_.value)==null?void 0:e.profile)==null?void 0:s.display_name),1),ia,na]}),_:1}),P.value?(v(),k(B,{key:0},[(v(!0),k(B,null,z(T.value,(e,s)=>(v(),h(y,{key:e.id,class:"no-print"},{default:d(()=>[t("div",ra,p(e.types?Y(e.types):Y(e.approval_type)),1),t("div",ua,[o(D,{items:e.signatures,modelValue:e.profile_id,"onUpdate:modelValue":[f=>e.profile_id=f,A],variant:"outlined",density:"compact","hide-details":"","item-value":"id","item-title":"display_name",label:"SELECT SIGNATORY*",disabled:e.status=="done"},null,8,["items","modelValue","onUpdate:modelValue","disabled"]),o(C,{variant:"text",size:"x-small",class:"no-print"},{default:d(()=>[e.status?(v(),h(Q,{key:0,class:"mx-2 my-3",icon:e.status=="awaiting-approval"?r(me):e.status=="pending"?r(fe):e.status=="reject"?r(he):r(ye),color:e.status=="awaiting-approval"?"info":e.status=="pending"?"":e.status=="reject"?"error":"success"},null,8,["icon","color"])):V("",!0),o(We,{activator:"parent",location:"top","max-width":"400"},{default:d(()=>[O(p(e.status=="awaiting-approval"?"Awaiting Approval":e.status=="pending"?"Pending":e.status=="reject"?e.reason_rejected:"Already Signed"),1)]),_:2},1024)]),_:2},1024)]),t("div",ca,p(e.date_approved?r(ge)(e.date_approved):""),1)]),_:2},1024))),128)),o(y,{class:"no-print"},{default:d(()=>{var e;return[o(K),t("div",pa,[(!r(S).params.id||i.value.requestor_id==r(c).user.profile.id&&((e=x.objectdata)==null?void 0:e.status)=="pending"||r(c).user.profile.role=="superadmin"||r(c).user.profile.role=="administrator")&&_.value.status!="complete"?(v(),h(C,{key:0,size:"small",disabled:!$.value,onClick:Ne,color:"primary"},{default:d(()=>[O(p(r(S).params.id?"Update Request":"Submit For Approval"),1)]),_:1},8,["disabled"])):V("",!0),r(S).params.id?V("",!0):(v(),h(C,{key:1,size:"small",class:"mx-3",onClick:Ie,color:"warning"},{default:d(()=>[O("Save Draft")]),_:1}))])]}),_:1})],64)):(v(),h(y,{key:1},{default:d(()=>[t("div",va,p(W.value),1)]),_:1})),o(y,null,{default:d(()=>[_a]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),o(st,{options:j.value},null,8,["options"]),o(ve,{width:"500",modelValue:N.value,"onUpdate:modelValue":l[9]||(l[9]=e=>N.value=e)},{default:d(()=>[o(R,null,{default:d(()=>[o(M,null,{default:d(()=>[o(r(lt.QrcodeStream),{onDecode:ae})]),_:1}),o(Ze,null,{default:d(()=>[o(Xe),o(C,{text:"Close",onClick:l[8]||(l[8]=e=>N.value=!1)})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}};export{wa as _};

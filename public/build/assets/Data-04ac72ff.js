import{i as k,r as y,j as n,k as d,C as x,b as o,l,e as s,A as T,m as V,J as I,K as h,L as O,I as p,E as v,t as e,M as _,c as f,F as g,d as D,D as B}from"./app-4d09b9e7.js";import{S as L}from"./StreamBarcodeReader-30f8a2c4.js";import{u as C}from"./formatDate-d9866ad4.js";import"./_plugin-vue_export-helper-c27b6911.js";const M={class:"v-col-12 v-col-md-5 pb-0"},j=s("small",null,"Recommended mobile / tablet used only",-1),F={class:"text-h6 text-capitalize text-center"},K=s("div",{class:"v-col-4 py-1"},"COMPANY:",-1),Y={class:"v-col-8 py-1"},P=s("div",{class:"v-col-4 py-1"},"LOCATION:",-1),z={class:"v-col-8 py-1"},G=s("div",{class:"v-col-4 py-1"},"CATEGORY:",-1),J={class:"v-col-8 py-1"},U=s("div",{class:"v-col-4 py-1"},"ASSET CODE:",-1),W={class:"v-col-8 py-1"},q=s("div",{class:"v-col-4 py-1"},"ASSET NAME:",-1),H={class:"v-col-8 py-1"},Q=s("div",{class:"v-col-4 py-1"},"BRAND:",-1),X={class:"v-col-8 py-1"},Z=s("div",{class:"v-col-4 py-1"},"MODEL:",-1),$={class:"v-col-8 py-1"},ss=s("div",{class:"v-col-4 py-1"},"SPECIFICATION:",-1),ts={class:"v-col-8 py-1"},es=s("div",{class:"v-col-12 py-1 font-weight-bold"},"WARRANTY",-1),as=s("div",{class:"v-col-4 py-1"},"START DATE:",-1),os={class:"v-col-8 py-1"},cs=s("div",{class:"v-col-4 py-1"},"END DATE:",-1),ls={class:"v-col-8 py-1"},ds=s("div",{class:"v-col-12 py-1 font-weight-bold"},"AMC VENDOR",-1),is=s("div",{class:"v-col-4 py-1"},"VENDOR",-1),ns={class:"v-col-8 py-1"},vs=s("div",{class:"v-col-4 py-1"},"START DATE:",-1),_s={class:"v-col-8 py-1"},rs=s("div",{class:"v-col-4 py-1"},"END DATE:",-1),us={class:"v-col-8 py-1"},ys=s("div",{class:"v-col-12 py-1 font-weight-bold"},"MAINTENANCE & INCIDENTS",-1),hs={key:0,class:"v-col-12 py-4",style:{"background-color":"#e0e0e0"}},ps=s("div",{class:"v-col-4 py-1"},"STATUS:",-1),fs={class:"v-col-8 py-1 text-uppercase"},Es=s("div",{class:"v-col-4 py-1"},"SERVICE TYPE:",-1),ms={class:"v-col-8 py-1"},As=s("div",{class:"v-col-4 py-1"},"DATE RECEIVED:",-1),ws={class:"v-col-8 py-1"},Ts=s("div",{class:"v-col-4 py-1"},"DATE CLOSED:",-1),gs={class:"v-col-8 py-1"},Ds=s("div",{class:"v-col-4 py-1"},"REMARKS:",-1),Cs={class:"v-col-8 py-1 pb-4"},Ss={class:"v-col-12 text-center"},Is={__name:"Data",setup(Ns){const S=k(),t=y({}),i=y({warranty_start_date:"",warranty_end_date:""}),r=y(!1),N=()=>{t.value={},r.value=!0},u=y(""),b=async E=>{u.value=E,await B(S.token).get("/api/fetch/asset-info/by/asset-code/"+E).then(c=>{t.value=c.data,t.value.asset_code&&(r.value=!1,u.value=""),c.data.warranty.length>0&&(i.value=c.data.warranty[c.data.warranty.length-1])}).catch(c=>{var a;((a=c==null?void 0:c.response)==null?void 0:a.status)==401&&(alert("Error: Something went wrong. page will be refresh."),window.location.href=window.location.href)})},R=()=>{console.log("Ready to start scanning barcodes")};return(E,c)=>(o(),n(x,null,{default:d(()=>[l(v,{class:"mb-3 justify-center"},{default:d(()=>[s("div",M,[j,r.value?r.value?(o(),n(T,{key:1,color:"primary",height:"100%",width:"100%",class:"d-flex align-center justify-center rounded-lg"},{default:d(()=>[l(h(L),{onDecode:b,onLoaded:R})]),_:1})):p("",!0):(o(),n(T,{key:0,onClick:N,color:"primary",height:"50",width:"100%",class:"d-flex align-center justify-center rounded-lg"},{default:d(()=>[s("div",F,[V(" CLICK TO START SCAN "),l(I,{class:"ml-2",size:"large",icon:h(O)},null,8,["icon"])])]),_:1}))])]),_:1}),t.value.asset_code?(o(),n(v,{key:0,style:{"max-width":"600px"},class:"mx-auto"},{default:d(()=>[K,s("div",Y,e(t.value.company?t.value.company.title:""),1),P,s("div",z,e(t.value.location?t.value.location.title:""),1),G,s("div",J,e(t.value.category?t.value.category.title:""),1),U,s("div",W,e(t.value.asset_code),1),q,s("div",H,e(t.value.asset_name),1),l(_),Q,s("div",X,e(t.value.brand?t.value.brand.title:""),1),Z,s("div",$,e(t.value.model?t.value.model.title:""),1),ss,s("div",ts,e(t.value.specification),1),l(_),es,as,s("div",os,e(i.value.warranty_start_date),1),cs,s("div",ls,e(i.value.warranty_end_date),1),l(_),ds,is,s("div",ns,e(i.value.vendor?i.value.vendor.title:""),1),vs,s("div",_s,e(i.value.warranty_end_date),1),rs,s("div",us,e(i.value.warranty_start_date),1),l(_),ys,t.value.incidents.length>0?(o(),f("div",hs,[(o(!0),f(g,null,D(t.value.incidents,(a,bs)=>(o(),n(v,{key:a.id},{default:d(()=>{var m,A;return[ps,s("div",fs,e((m=a.status)==null?void 0:m.title),1),Es,s("div",ms,e((A=a.type)==null?void 0:A.title),1),As,s("div",ws,e(h(C)(a.created_at)),1),Ts,s("div",gs,e(a.date_closed?h(C)(a.date_closed):""),1),Ds,s("div",Cs,[l(v,null,{default:d(()=>[(o(!0),f(g,null,D(a.remarks,w=>(o(),f("div",{class:"v-col-12 py-1",key:w.id}," - "+e(w.remarks),1))),128))]),_:2},1024)]),l(_)]}),_:2},1024))),128))])):p("",!0)]),_:1})):p("",!0),u.value?(o(),n(v,{key:1},{default:d(()=>[s("div",Ss," Asset Code: "+e(u.value)+" not in the system. ",1)]),_:1})):p("",!0)]),_:1}))}};export{Is as default};

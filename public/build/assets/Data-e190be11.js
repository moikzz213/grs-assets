import{i as k,r as h,j as i,k as l,C as x,b as a,l as o,e as s,A as g,m as V,E as I,G as p,H as O,I as v,D as _,t as e,J as r,c as f,F as T,d as D,K as B}from"./app-2c5a49eb.js";import{S as L}from"./StreamBarcodeReader-6d8945cd.js";import{u as C}from"./formatDate-e2fbee14.js";import"./_plugin-vue_export-helper-c27b6911.js";const M={class:"v-col-12 v-col-md-5 pb-0"},j=s("small",null,"Recommended mobile / tablet used only",-1),F={class:"text-h6 text-capitalize text-center"},K=s("div",{class:"v-col-4 py-1"},"COMPANY:",-1),Y={class:"v-col-8 py-1"},G=s("div",{class:"v-col-4 py-1"},"LOCATION:",-1),P={class:"v-col-8 py-1"},z=s("div",{class:"v-col-4 py-1"},"CATEGORY:",-1),H={class:"v-col-8 py-1"},J=s("div",{class:"v-col-4 py-1"},"ASSET CODE:",-1),U={class:"v-col-8 py-1"},W=s("div",{class:"v-col-4 py-1"},"ASSET NAME:",-1),q={class:"v-col-8 py-1"},Q=s("div",{class:"v-col-4 py-1"},"BRAND:",-1),X={class:"v-col-8 py-1"},Z=s("div",{class:"v-col-4 py-1"},"MODEL:",-1),$={class:"v-col-8 py-1"},ss=s("div",{class:"v-col-4 py-1"},"SPECIFICATION:",-1),ts={class:"v-col-8 py-1"},es=s("div",{class:"v-col-12 py-1 font-weight-bold"},"WARRANTY",-1),as=s("div",{class:"v-col-4 py-1"},"START DATE:",-1),os={class:"v-col-8 py-1"},cs=s("div",{class:"v-col-4 py-1"},"END DATE:",-1),ls={class:"v-col-8 py-1"},ds=s("div",{class:"v-col-12 py-1 font-weight-bold"},"AMC VENDOR",-1),ns=s("div",{class:"v-col-4 py-1"},"VENDOR",-1),is={class:"v-col-8 py-1"},vs=s("div",{class:"v-col-4 py-1"},"START DATE:",-1),_s={class:"v-col-8 py-1"},rs=s("div",{class:"v-col-4 py-1"},"END DATE:",-1),us={class:"v-col-8 py-1"},ys=s("div",{class:"v-col-12 py-1 font-weight-bold"},"MAINTENANCE & INCIDENTS",-1),hs={key:0,class:"v-col-12 py-4",style:{"background-color":"#e0e0e0"}},ps=s("div",{class:"v-col-4 py-1"},"STATUS:",-1),fs={class:"v-col-8 py-1 text-uppercase"},Es=s("div",{class:"v-col-4 py-1"},"SERVICE TYPE:",-1),ms={class:"v-col-8 py-1"},As=s("div",{class:"v-col-4 py-1"},"DATE RECEIVED:",-1),ws={class:"v-col-8 py-1"},gs=s("div",{class:"v-col-4 py-1"},"DATE CLOSED:",-1),Ts={class:"v-col-8 py-1"},Ds=s("div",{class:"v-col-4 py-1"},"REMARKS:",-1),Cs={class:"v-col-8 py-1 pb-4"},Ns={class:"v-col-12 text-center"},Is={__name:"Data",setup(Ss){const N=k(),t=h({}),d=h({warranty_start_date:"",warranty_end_date:""}),u=h(!1),S=()=>{t.value={},u.value=!0},y=h(""),b=async E=>{y.value=E,await B(N.token).get("/api/fetch/asset-info/by/asset-code/"+E).then(c=>{t.value=c.data,t.value.asset_code&&(console.log("res.data",c.data),y.value=""),c.data.warranty.length>0&&(d.value=c.data.warranty[c.data.warranty.length-1]),u.value=!1}).catch(c=>{c.response.status==401&&(alert("Error: Something went wrong. page will be refresh."),window.location.href=window.location.href)})},R=()=>{console.log("Ready to start scanning barcodes")};return(E,c)=>(a(),i(x,null,{default:l(()=>[o(_,{class:"mb-3 justify-center"},{default:l(()=>[s("div",M,[j,u.value?v("",!0):(a(),i(g,{key:0,onClick:S,color:"primary",height:"50",width:"100%",class:"d-flex align-center justify-center rounded-lg"},{default:l(()=>[s("div",F,[V(" CLICK TO START SCANNING "),o(I,{class:"ml-2",size:"large",icon:p(O)},null,8,["icon"])])]),_:1})),u.value?(a(),i(g,{key:1,color:"primary",height:"100%",width:"100%",class:"d-flex align-center justify-center rounded-lg"},{default:l(()=>[o(p(L),{onDecode:b,onLoaded:R})]),_:1})):v("",!0)])]),_:1}),t.value.asset_code?(a(),i(_,{key:0,style:{"max-width":"600px"},class:"mx-auto"},{default:l(()=>[K,s("div",Y,e(t.value.company?t.value.company.title:""),1),G,s("div",P,e(t.value.location?t.value.location.title:""),1),z,s("div",H,e(t.value.category?t.value.category.title:""),1),J,s("div",U,e(t.value.asset_code),1),W,s("div",q,e(t.value.asset_name),1),o(r),Q,s("div",X,e(t.value.brand?t.value.brand.title:""),1),Z,s("div",$,e(t.value.model?t.value.model.title:""),1),ss,s("div",ts,e(t.value.specification),1),o(r),es,as,s("div",os,e(d.value.warranty_start_date),1),cs,s("div",ls,e(d.value.warranty_end_date),1),o(r),ds,ns,s("div",is,e(d.value.vendor?d.value.vendor.title:""),1),vs,s("div",_s,e(d.value.warranty_end_date),1),rs,s("div",us,e(d.value.warranty_start_date),1),o(r),ys,t.value.incidents.length>0?(a(),f("div",hs,[(a(!0),f(T,null,D(t.value.incidents,(n,bs)=>(a(),i(_,{key:n.id},{default:l(()=>{var m,A;return[ps,s("div",fs,e((m=n.status)==null?void 0:m.title),1),Es,s("div",ms,e((A=n.type)==null?void 0:A.title),1),As,s("div",ws,e(p(C)(n.created_at)),1),gs,s("div",Ts,e(n.date_closed?p(C)(n.date_closed):""),1),Ds,s("div",Cs,[o(_,null,{default:l(()=>[(a(!0),f(T,null,D(n.remarks,w=>(a(),f("div",{class:"v-col-12 py-1",key:w.id}," - "+e(w.remarks),1))),128))]),_:2},1024)]),o(r)]}),_:2},1024))),128))])):v("",!0)]),_:1})):v("",!0),y.value?(a(),i(_,{key:1},{default:l(()=>[s("div",Ns," Asset Code: "+e(y.value)+" not in the system. ",1)]),_:1})):v("",!0)]),_:1}))}};export{Is as default};

import{a as C,u as b,r as E,c as A,w as a,m as I,n as g,o as c,d as l,b as t,k as h,f as x,e as f,p as d,q as y,t as o,F as N,s as r,v as T,x as R,y as m,z as k,A as D}from"./app-1471f76a.js";import{_ as V}from"./_plugin-vue_export-helper-c27b6911.js";const w=n=>(k("data-v-fb767776"),n=n(),D(),n),Q={class:"v-col-12 v-col-md-3 pb-0 scan-barcode"},M={class:"text-h6 text-capitalize"},U={class:"text-capitalize"},q={class:"v-col-12"},z=w(()=>t("thead",null,[t("tr",null,[t("th",{class:"text-left"}," Company "),t("th",{class:"text-left"}," Location "),t("th",{class:"text-left"}," Category "),t("th",{class:"text-left"}," AssetName"),t("th",{class:"text-left"}," AssetCode"),t("th",{class:"text-left"}," Type"),t("th",{class:"text-left"}," Author"),t("th",{class:"text-left"},[f("Update"),t("br"),t("small",null,"DD/MM/YY")])])],-1)),B={key:0},F={class:"text-capitalize"},G={__name:"Dashboard",setup(n){const i=C(),S=b(),p=E([{id:1,title:"PENDING MAINTENANCE"},{id:2,title:"PENDING TICKETS"},{id:3,title:"TRANSFER REQUEST"},{id:4,title:"REQUEST ASSET"}]),_=E([]);(async()=>{await g(i.token).get("/api/dashboard/fetch-query/data?role="+i.user.profile.role+"&id="+i.user.profile.id).then(s=>{_.value=s.data.table,p.value=[{id:1,title:"PENDING MAINTENANCE",value:s.data.count.maintenance,to:"Maintenance"},{id:2,title:"PENDING TICKETS",value:s.data.count.incident,to:"Incident"},{id:3,title:"TRANSFER REQUEST",value:s.data.count.transfer,to:"Transferasset"},{id:4,title:"REQUEST ASSET",value:s.data.count.request,to:"RequestAsset"}]}).catch(s=>{console.log(s)})})();const v=s=>{S.push({name:s}).catch(u=>{console.log(u)})};return(s,u)=>(c(),A(I,null,{default:a(()=>[l(r,{class:"mb-3"},{default:a(()=>[t("div",Q,[l(h,{width:"100%",class:"rounded-lg text-center my-auto py-4",color:"primary",onClick:u[0]||(u[0]=e=>v("Scan"))},{default:a(()=>[l(x,null,{default:a(()=>[f(" SCAN QRCODE ")]),_:1})]),_:1})]),(c(!0),d(N,null,y(p.value,e=>(c(),d("div",{class:"v-col-12 v-col-md-3 pb-0",key:e.id},[l(h,{height:"80",width:"100%",class:"rounded-lg text-center pt-3 cursor-pointer",onClick:K=>v(e.to)},{default:a(()=>[t("div",M,o(e.value),1),t("div",U,o(e.title),1)]),_:2},1032,["onClick"])]))),128))]),_:1}),l(r,null,{default:a(()=>[t("div",q,[l(h,null,{default:a(()=>[l(x,null,{default:a(()=>[l(r,null,{default:a(()=>[l(T,{col:"12",class:"text-body-1"},{default:a(()=>[f("RECENT ACTIVITIES")]),_:1})]),_:1}),l(r,null,{default:a(()=>[l(T,{col:"12"},{default:a(()=>[l(R,{"fixed-header":"",height:"590px"},{default:a(()=>[z,_.value.length>0?(c(),d("tbody",B,[(c(!0),d(N,null,y(_.value,e=>(c(),d("tr",{key:e.id},[t("td",null,o(e.company),1),t("td",null,o(e.location),1),t("td",null,o(e.category),1),t("td",null,o(e.asset_name),1),t("td",null,o(e.asset_code),1),t("td",F,o(e.type),1),t("td",null,o(e.author),1),t("td",null,o(e.date),1)]))),128))])):m("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1})]),_:1}))}},$=V(G,[["__scopeId","data-v-fb767776"]]);export{$ as default};

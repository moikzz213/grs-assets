import{I as re,a as ve,r as x,J as Z,n as ae,o as u,c as h,w as o,b as t,E as d,j as F,e as S,d as s,D as G,ab as _e,y as N,k as T,x as le,p as U,F as L,q as B,t as c,ai as Ce,P as ee,X as de,V as fe,U as ye,f as ge,s as $,L as J,Y as Ve,Z as be,W as ie,u as ce,aj as Se,T as Ue,K as Ae,i as w,a0 as A,ak as ne,R as K,_ as De,S as H}from"./app-a94ba3ec.js";import{F as xe,c as Me,a as q,d as $e,b as D}from"./index.esm-5ab90c63.js";import{_ as he}from"./AppSnackBar-94a750b1.js";import{_ as Ne}from"./Studio-ea60e765.js";import{d as X}from"./dayjs.min-5f27030e.js";import{u as ue,a as pe}from"./formatDate-b9aad8c5.js";import{u as ze,a as Ye}from"./locations-34ade151.js";import{u as je}from"./categories-dad4a940.js";import{u as Ie}from"./vendors-907b779b.js";import{u as qe}from"./status-566a2aea.js";const Re={class:"v-col-12 pt-0 pb-2"},Oe=t("thead",null,[t("tr",null,[t("th",{class:"text-left text-primary"},"#"),t("th",{class:"text-left text-primary"},"Image"),t("th",{class:"text-left text-primary"},"Title"),t("th",{class:"text-left text-primary"},"Vendor"),t("th",{class:"text-left text-primary"}," Warranty Start "),t("th",{class:"text-left text-primary"},"Warranty End"),t("th",{class:"text-left text-primary"},"AMC Start"),t("th",{class:"text-left text-primary"},"AMC End")])],-1),Pe=["onClick"],We=["onClick"],Fe=["onClick"],Te=["onClick"],Ee=["onClick"],Le=["onClick"],Be=["onClick"],Ke={class:"v-col-12 v-col-md-12 pt-0 pb-2"},He={class:"v-col-12 pt-0 pb-2 d-flex justify-end"},Je={style:{height:"680px",width:"100%"},class:"d-flex align-center justify-center"},Xe={__name:"AssetWarranties",props:{page:{type:String,default:"add"},asset:{type:Object,default:null}},setup(R){const _=R,z=re(),j=ve(),Y=x(window.location.origin),e=x({}),r=x({status:!1,action:"add",loading:!1,data:{}}),y=x([]);Z(()=>_.asset,C=>{y.value=C.pivot_warranties,W()});const g=x(!1),i=x([]),M=x(1),V=(C,b)=>{i.value=C,M.value=b,g.value=!0},O=x(0),f=(C=null)=>{r.value.status=!0,C?(r.value.action="edit",r.value.data=Object.assign({},C),O.value=C.id):(r.value.action="add",r.value.data={})},P=async()=>{r.value.loading=!0;let C={id:r.value.data.id,asset_id:z.params.id,warranty_id:r.value.data.warranty_id,old_warranty_id:O.value};await ae(j.token).post("/api/asset/save-warranty",C).then(b=>{I().then(()=>{e.value={status:!0,type:"success",text:b.data.message},r.value.loading=!1,r.value.status=!1})}).catch(b=>{r.value.loading=!1,e.value={status:!0,type:"eroor",text:"Error while saving warranty"},console.log("err",b)})},E=x([]),W=()=>{ae(j.token).get("/api/fetch-warranties/non-paginated").then(C=>{E.value=C.data}).catch(C=>{r.value.loading=!1})},I=async()=>{await ae(j.token).get("/api/asset/warranty/"+z.params.id).then(C=>{y.value=C.data,r.value.loading=!1}).catch(C=>{r.value.loading=!1})};return(C,b)=>(u(),h($,null,{default:o(()=>[t("div",Re,[d(z).name!="view-asset"?(u(),h(F,{key:0,onClick:b[0]||(b[0]=()=>f()),class:"mb-3",size:"small"},{default:o(()=>[S(" New Warranty "),s(G,{class:"ml-2",icon:d(_e)},null,8,["icon"])]),_:1})):N("",!0),s(T,null,{default:o(()=>{var k;return[s(le,{density:"compact"},{default:o(()=>[Oe,t("tbody",null,[(u(!0),U(L,null,B(y.value,(v,te)=>(u(),U("tr",{key:v.id,class:"cursor-pointer table-cell-hover"},[t("td",{onClick:()=>f(v)},c(te+1),9,Pe),t("td",null,[v.attachment.length>0?(u(),h(G,{key:0,icon:d(Ce),color:"success",onClick:me=>V(v.attachment,te)},null,8,["icon","onClick"])):N("",!0)]),t("td",{onClick:()=>f(v)},c(v.warranty_title),9,We),t("td",{onClick:()=>f(v)},c(v.vendor&&v.vendor.title),9,Fe),t("td",{onClick:()=>f(v)},c(v.warranty_start_date&&v.warranty_start_date!="0000-00-00"?d(X)(v.warranty_start_date).format("MMM. DD, YYYY"):""),9,Te),t("td",{onClick:()=>f(v)},c(v.warranty_end_date&&v.warranty_end_date!="0000-00-00"?d(X)(v.warranty_end_date).format("MMM. DD, YYYY"):""),9,Ee),t("td",{onClick:()=>f(v)},c(v.amc_start_date&&v.amc_start_date!="0000-00-00"?d(X)(v.amc_start_date).format("MMM. DD, YYYY"):""),9,Le),t("td",{onClick:()=>f(v)},c(v.amc_end_date&&v.amc_end_date!="0000-00-00"?d(X)(v.amc_end_date).format("MMM. DD, YYYY"):""),9,Be)]))),128))])]),_:1}),((k=y.value)==null?void 0:k.length)==0?(u(),h(ee,{key:0,class:"pa-3 text-center"},{default:o(()=>[S("No record at the moment")]),_:1})):N("",!0)]}),_:1})]),s(de,{modelValue:r.value.status,"onUpdate:modelValue":b[3]||(b[3]=k=>r.value.status=k),persistent:"",width:"600"},{default:o(()=>[s(T,null,{default:o(()=>[s(fe,{class:"text-capitalize mb-3 d-flex justify-space-between align-center"},{default:o(()=>[S(c(r.value.action+" Warranty")+" ",1),s(F,{icon:d(ye),variant:"flat",size:"small",onClick:b[1]||(b[1]=k=>r.value.status=!1)},null,8,["icon"])]),_:1}),s(ge,null,{default:o(()=>[s(d(xe),{as:"v-form"},{default:o(()=>[s($,{class:"mb-0"},{default:o(()=>[t("div",Ke,[s(J,{modelValue:r.value.data.warranty_id,"onUpdate:modelValue":b[2]||(b[2]=k=>r.value.data.warranty_id=k),items:E.value,"item-title":"warranty_title","item-value":"id",label:"Select Warranty",density:"compact",variant:"outlined"},null,8,["modelValue","items"])]),t("div",He,[s(F,{color:"primary",loading:r.value.loading,onClick:P,disabled:!r.value.data.warranty_id},{default:o(()=>[S("Save")]),_:1},8,["loading","disabled"])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),s(de,{modelValue:g.value,"onUpdate:modelValue":b[5]||(b[5]=k=>g.value=k),width:"95%","max-width":"900"},{default:o(()=>[s(T,{class:"bg-black"},{default:o(()=>[s(Ve,{"hide-delimiter-background":"","show-arrows":"hover",height:"680px",modelValue:M.value,"onUpdate:modelValue":b[4]||(b[4]=k=>M.value=k)},{default:o(()=>[(u(!0),U(L,null,B(i.value,(k,v)=>(u(),h(be,{key:v,"reverse-transition":"fade",transition:"fade"},{default:o(()=>[t("div",Je,[s(ie,{src:Y.value+"/file/"+k.path},null,8,["src"])])]),_:2},1024))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue"]),s(he,{options:e.value},null,8,["options"])]),_:1}))}},Ze={class:"v-col-12 pt-0 pb-2"},Ge=t("thead",null,[t("tr",null,[t("th",{class:"text-left text-primary"},"ISR ID"),t("th",{class:"text-left text-primary"},"Urgency"),t("th",{class:"text-left text-primary"},"Priority"),t("th",{class:"text-left text-primary"},"Reported by"),t("th",{class:"text-left text-primary"},"Handled by"),t("th",{class:"text-left text-primary"},"Date Reported"),t("th",{class:"text-left text-primary"},"Date Completed"),t("th",{class:"text-left text-primary"},"Status"),t("th",{class:"text-left text-primary"})])],-1),Qe={__name:"AssetMaintenances",props:{asset:{type:Object,default:null}},setup(R){const _=R,z=ce(),j=re(),Y=()=>{z.push({name:"NewMaintenance",query:{type:"details",asset_code:g.value.asset_code,asset_id:g.value.id,comp:g.value.company_id,loc:g.value.location_id,title:g.value.asset_name}})},e=i=>{z.push({name:"EditMaintenance",params:{id:i},query:{type:"details",pd:"ox2rKaIYFhBOQW31j6kkiMrJ4KfnYpLmwJhMzBFwPBlVjgGR4g",v:1,vv:"xK2sX1sDL1BBAvmuoPpWoNRgc4wzbdZ9F2OXAKrS3N2g65xNgy"}}).catch(M=>{console.log(M)})},r=i=>i?i==1?"Normal":i==2?"Medium":"High":"",y=(i,M=5)=>{let V="0000"+i;return V.substring(V.length-M)},g=x({});return Z(()=>_.asset,(i,M)=>{g.value=i,console.log("assetDetail.value",g.value)},{deep:!0}),(i,M)=>(u(),h($,null,{default:o(()=>[t("div",Ze,[g.value.status_id!=2&&d(j).name!="view-asset"?(u(),h(F,{key:0,onClick:Y,class:"mb-3",size:"small"},{default:o(()=>[S(" New Maintenance "),s(G,{class:"ml-2",icon:d(_e)},null,8,["icon"])]),_:1})):N("",!0),s(T,null,{default:o(()=>[s(le,{density:"compact"},{default:o(()=>[Ge,t("tbody",null,[(u(!0),U(L,null,B(_.asset.maintenance,(V,O)=>{var f,P,E;return u(),U("tr",{key:V.id},[t("td",null,"ISR-2"+c(y(V.id)),1),t("td",null,c(r(V.urgency)),1),t("td",null,c(r(V.priority)),1),t("td",null,c((f=V.profile)==null?void 0:f.display_name),1),t("td",null,c((P=V.handle_by)==null?void 0:P.display_name),1),t("td",null,c(d(ue)(V.created_at)),1),t("td",null,c(V.date_closed?d(ue)(V.date_closed):""),1),t("td",null,c((E=V.status)==null?void 0:E.title),1),t("td",null,[s(F,{color:"info",size:"x-small",onClick:W=>e(V.id)},{default:o(()=>[S("Details")]),_:2},1032,["onClick"])])])}),128))])]),_:1}),_.asset.maintenance&&_.asset.maintenance.length==0?(u(),h(ee,{key:0,class:"pa-3 text-center"},{default:o(()=>[S("No record at the moment")]),_:1})):N("",!0)]),_:1})])]),_:1}))}},et={class:"v-col-12 pt-0 pb-2"},tt=t("thead",null,[t("tr",null,[t("th",{class:"text-left text-primary"},"ISR ID"),t("th",{class:"text-left text-primary"},"Urgency"),t("th",{class:"text-left text-primary"},"Priority"),t("th",{class:"text-left text-primary"},"Reported by"),t("th",{class:"text-left text-primary"},"Handled by"),t("th",{class:"text-left text-primary"},"Date Reported"),t("th",{class:"text-left text-primary"},"Date Completed"),t("th",{class:"text-left text-primary"},"Status")])],-1),at=["onClick"],lt={__name:"AssetIncidents",props:{asset:{type:Object,default:null}},setup(R){const _=R,z=ce(),j=y=>{z.push({name:"EditIncident",params:{id:y},query:{type:"details"}}).catch(g=>{console.log(g)})},Y=y=>y?y==1?"Normal":y==2?"Medium":"High":"",e=(y,g=5)=>{let i="0000"+y;return i.substring(i.length-g)},r=x({});return Z(()=>_.asset,(y,g)=>{r.value=y,console.log("assetDetail.value",r.value)},{deep:!0}),(y,g)=>(u(),h($,null,{default:o(()=>[t("div",et,[s(T,null,{default:o(()=>[s(le,{density:"compact"},{default:o(()=>[tt,t("tbody",null,[(u(!0),U(L,null,B(_.asset.incidents,(i,M)=>{var V,O,f,P;return u(),U("tr",{key:i.id},[t("td",{class:"text-decoration-underline d-flex align-center cursor-pointer",onClick:E=>j(i.id)},[S(" ISR-2"+c(e(i.id))+" ",1),s(G,{class:"ml-1",size:"small",icon:d(Se)},null,8,["icon"])],8,at),t("td",null,c(i.urgency.title),1),t("td",null,c(i.priority?Y(i.priority):"-"),1),t("td",null,c((V=i.profile)==null?void 0:V.display_name),1),t("td",null,c((O=i.handle_by)!=null&&O.display_name?(f=i.handle_by)==null?void 0:f.display_name:"-"),1),t("td",null,c(i.created_at?d(X)(i.created_at).format("MMM. DD, YYYY"):"-"),1),t("td",null,c(i.date_closed?d(X)(i.date_closed).format("MMM. DD, YYYY"):"-"),1),t("td",null,c((P=i.status)==null?void 0:P.title),1)])}),128))])]),_:1}),_.asset.incidents&&_.asset.incidents.length==0?(u(),h(ee,{key:0,class:"pa-3 text-center"},{default:o(()=>[S("No record at the moment")]),_:1})):N("",!0)]),_:1})])]),_:1}))}},st={class:"v-col-12 pt-0 pb-2"},ot=t("thead",null,[t("tr",null,[t("th",{class:"text-left text-primary"},"#"),t("th",{class:"text-left text-primary"},"Transferred from"),t("th",{class:"text-left text-primary"},"Remarks"),t("th",{class:"text-left text-primary"},"Date")])],-1),nt={__name:"AssetAllotedLocations",props:{asset:{type:Object,default:null}},setup(R){const _=R;return(z,j)=>(u(),h($,null,{default:o(()=>[t("div",st,[s(T,null,{default:o(()=>[s(le,{density:"compact"},{default:o(()=>[ot,t("tbody",null,[(u(!0),U(L,null,B(_.asset.allotted_informations,(Y,e)=>{var r;return u(),U("tr",{key:Y.id},[t("td",null,c(e+1),1),t("td",null,c((r=Y.location)==null?void 0:r.title),1),t("td",null,c(Y.remarks),1),t("td",null,c(d(ue)(Y.created_at)),1)])}),128))])]),_:1}),_.asset.allotted_informations&&_.asset.allotted_informations.length==0?(u(),h(ee,{key:0,class:"pa-3 text-center"},{default:o(()=>[S("No record at the moment")]),_:1})):N("",!0)]),_:1})])]),_:1}))}},dt={class:"text-primary text-capitalize"},it={class:"d-flex align-center"},ut=t("div",{class:"v-col-12 font-weight-bold"},"Asset Info",-1),rt={class:"v-col-12 v-col-md-6 pt-0 pb-2"},ct={class:"v-col-12 v-col-md-6 pt-0 pb-2"},mt={class:"v-col-12 v-col-md-6 pt-0 pb-2"},pt={class:"v-col-12 v-col-md-6 pt-0 pb-2"},vt={class:"v-col-12 v-col-md-6 pt-0 pb-2"},_t={class:"v-col-12 v-col-md-6 pt-0 pb-2"},ft={class:"v-col-12 v-col-md-6 pt-0 pb-2 d-flex align-start"},yt={class:"v-col-12 v-col-md-6 pt-0 pb-2"},gt={key:0,class:"v-col-12 pt-0 font-weight-bold"},Vt={key:1,class:"v-col-12 pt-0"},bt={class:"v-col-12 pt-0 text-capitalize"},xt={class:"v-col-12"},ht={key:0,class:"v-col-12 pt-0 d-flex justify-space-between"},kt=t("br",null,null,-1),wt={class:"v-col-12 v-col-md-6 pt-0 pb-2"},Ct={class:"v-col-12 v-col-md-6 pt-0 pb-2"},St={class:"v-col-12 v-col-md-6 pt-0 pb-2"},Ut={class:"v-col-12 v-col-md-6 pt-0 pb-2"},At={class:"v-col-12 v-col-md-12 pt-0 pb-2"},Dt={class:"v-col-12"},Mt={class:"v-col-12 v-col-md-4 pt-0 pb-2"},$t={class:"v-col-12 v-col-md-2 pt-0 pb-2"},Nt={class:"v-col-12 v-col-md-6 pt-0 pb-2"},zt={class:"v-col-12 v-col-md-6 pt-0 pb-2"},Yt={class:"v-col-12 v-col-md-6 pt-0 pb-2"},jt={class:"v-col-12"},It={class:"v-col-12 v-col-md-6 pt-0 pb-2"},qt={class:"v-col-12 v-col-md-6 pt-0 pb-2"},Rt={class:"v-col-12 v-col-md-6 pt-0 pb-2"},Ot={class:"v-col-12 v-col-md-6 pt-0 pb-2"},Pt={class:"v-col-12 v-col-md-6 pt-0 pb-2"},Wt={class:"v-col-12 v-col-md-6 pt-0 pb-2"},Ft={class:"v-col-12 mb-6"},Tt={class:"v-col-12 mb-6"},Et={class:"v-col-12 mb-6"},Lt={class:"v-col-12 mb-6"},Bt=t("div",{class:"v-col-12 pt-0 font-weight-bold"},"Attachment",-1),Kt={class:"v-col-12 pt-0"},Ht={class:"v-col-12 pb-2"},Jt={style:{height:"680px",width:"100%"},class:"d-flex align-center justify-center"},Xt={class:"v-col-12 pt-0 pb-2"},da={__name:"AssetForm",props:{page:{type:String,default:"add"},asset:{type:Object,default:null}},setup(R){const _=R,z=ce(),j=re(),Y=x(["specification","purchase","financial","warranty","transfer history","maintenance","incident"]),e=x({}),r=x({}),y=ve(),g=ze();g.getCompanies(y.token),Z(()=>e.value.company_id,m=>{var l;e.value.company_code=(l=g.list.filter(a=>a.id==m)[0])==null?void 0:l.code});const i=je();i.getCategories(y.token),Z(()=>e.value.category_id,m=>{var l;e.value.category_code=(l=i.list.filter(a=>a.id==m)[0])==null?void 0:l.code});const M=Ye();M.getLocations(y.token);const V=Ie();V.getVendors(y.token);const O=x(window.location.origin),f=x("specification"),P=m=>{f.value=m};let E=Me({Name:q().required().max(150),"Serial Number":q().max(80).nullable(),"Asset Number":$e().typeError("Asset number must be a number").required(),"Section code":q().max(30).nullable(),Category:q().required(),Company:q().required(),Location:q().required(),"Asset Status":q().required(),Specification:q().max(120).nullable(),Brand:q().required(),Model:q().required(),Condition:q().required()});const W=x(!1),I=x([]),C=Ue(()=>I.value.map(m=>m.id)),b=m=>{var l,a;if(e.value=Object.assign({},m),e.value.asset_code){let p=(e.value.asset_code+"").split("-");e.value.asset_tag=p[p.length-1],e.value.company_code=(l=g.list.filter(Q=>Q.id==e.value.company_id)[0])==null?void 0:l.code,e.value.category_code=(a=i.list.filter(Q=>Q.id==e.value.category_id)[0])==null?void 0:a.code}I.value=m&&m.attachments?Object.assign([],m.attachments):[],m&&m.financial_information&&(e.value.capitalization_price=m.financial_information.capitalization_price,e.value.depreciation_percentage=m.financial_information.depreciation_percentage,e.value.scrap_value=m.financial_information.scrap_value,e.value.scrap_date=m.financial_information.scrap_date,e.value.capitalization_date=m.financial_information.capitalization_date,e.value.end_of_life=m.financial_information.end_of_life)};Ae(()=>{setTimeout(()=>{b(_.asset)},800)}),Z(()=>_.asset,m=>{b(m)});const k=qe();(k.list.length==0||k.conditions.length==0)&&k.getStatuses(y.token);const v=()=>{z.go(-1)},te=async()=>{W.value=!0,e.value.file_ids=C.value,e.value.asset_code=e.value.company_code+"-"+e.value.category_code+"-"+e.value.asset_tag,e.value.financial_information_id=e.value.financial_information?e.value.financial_information.id:null,await ae(y.token).post("/api/asset/save",e.value).then(m=>{r.value={status:!0,type:"success",text:m.data.message},W.value=!1,_.page=="add"&&z.push({name:"edit-asset",params:{id:m.data.asset.id}}).catch(l=>{console.log("router.push",l)})}).catch(m=>{console.log("saveAsset",m),r.value={status:!0,type:"error",text:"Error while saving asset"},W.value=!1})},me=m=>{let l=null;m.map(a=>{l=I.value.find(n=>n.id==a.id),l||I.value.push(a)})},se=x(!1),oe=x(1),ke=m=>{oe.value=m,se.value=!0},we=m=>{I.value=I.value.filter(l=>l.id!==m)};return(m,l)=>(u(),h(T,{loading:W.value,"max-width":"1600px",class:"mx-auto elevation-0"},{default:o(()=>[s(d(xe),{as:"v-form","validation-schema":d(E)},{default:o(()=>[s(fe,{class:"pb-6 pt-3 d-flex align-center justify-space-between"},{default:o(()=>[t("div",dt,[S(c(_.page+": ")+" ",1),t("strong",null,c(e.value.asset_code),1)]),t("div",it,[s(F,{color:"primary",class:"mr-4",loading:W.value,onClick:v},{default:o(()=>[S("Cancel")]),_:1},8,["loading"]),d(j).name!="view-asset"?(u(),h(F,{key:0,color:"primary",loading:W.value,onClick:te},{default:o(()=>[S("Save")]),_:1},8,["loading"])):N("",!0)])]),_:1}),s(ge,null,{default:o(()=>[s($,null,{default:o(()=>[ut,t("div",rt,[s(d(D),{name:"Name",modelValue:e.value.asset_name,"onUpdate:modelValue":l[1]||(l[1]=a=>e.value.asset_name=a)},{default:o(({field:a,errors:n})=>[s(w,A({modelValue:e.value.asset_name,"onUpdate:modelValue":l[0]||(l[0]=p=>e.value.asset_name=p)},a,{label:"Name*",variant:"outlined",density:"compact","error-messages":n}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])]),t("div",ct,[s(d(D),{name:"Serial Number",modelValue:e.value.serial_number,"onUpdate:modelValue":l[3]||(l[3]=a=>e.value.serial_number=a)},{default:o(({field:a,errors:n})=>[s(w,A({modelValue:e.value.serial_number,"onUpdate:modelValue":l[2]||(l[2]=p=>e.value.serial_number=p)},a,{label:"Serial Number(Optional)",variant:"outlined",density:"compact","error-messages":n}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])]),t("div",mt,[s(d(D),{name:"Section code",modelValue:e.value.section_code,"onUpdate:modelValue":l[5]||(l[5]=a=>e.value.section_code=a)},{default:o(({field:a,errors:n})=>[s(w,A({modelValue:e.value.section_code,"onUpdate:modelValue":l[4]||(l[4]=p=>e.value.section_code=p)},a,{label:"Section code (optional)",variant:"outlined",density:"compact","error-messages":n}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])]),t("div",pt,[s(J,{modelValue:e.value.category_id,"onUpdate:modelValue":l[6]||(l[6]=a=>e.value.category_id=a),items:d(i).list,"item-title":"title","item-value":"id",label:"Category*",density:"compact",variant:"outlined",rules:[a=>!!a||"Category is required"]},null,8,["modelValue","items","rules"])]),t("div",vt,[s(J,{modelValue:e.value.company_id,"onUpdate:modelValue":l[7]||(l[7]=a=>e.value.company_id=a),items:d(g).list,"item-title":"title","item-value":"id",label:"Company*",density:"compact",variant:"outlined",rules:[a=>!!a||"Company is required"]},null,8,["modelValue","items","rules"])]),t("div",_t,[s(J,{modelValue:e.value.location_id,"onUpdate:modelValue":l[8]||(l[8]=a=>e.value.location_id=a),items:d(M).list,"item-title":"title","item-value":"id",label:"Location*",density:"compact",variant:"outlined",rules:[a=>!!a||"Location is required"]},null,8,["modelValue","items","rules"])]),t("div",ft,[s(w,{style:{width:"33.33%"},modelValue:e.value.company_code,"onUpdate:modelValue":l[9]||(l[9]=a=>e.value.company_code=a),readonly:"",label:"Company Code",variant:"outlined",density:"compact",apped:d(ne)},null,8,["modelValue","apped"]),s(G,{icon:d(ne),class:"mt-3 mx-1"},null,8,["icon"]),s(w,{style:{width:"33.33%"},readonly:"",modelValue:e.value.category_code,"onUpdate:modelValue":l[10]||(l[10]=a=>e.value.category_code=a),label:"Asset Code",variant:"outlined",density:"compact"},null,8,["modelValue"]),s(G,{icon:d(ne),class:"mt-3 mx-1"},null,8,["icon"]),s(d(D),{name:"Asset Number",modelValue:e.value.asset_tag,"onUpdate:modelValue":l[12]||(l[12]=a=>e.value.asset_tag=a)},{default:o(({field:a,errors:n})=>[s(w,A({style:{width:"33.33%"}},a,{"error-messages":n,type:"number",modelValue:e.value.asset_tag,"onUpdate:modelValue":l[11]||(l[11]=p=>e.value.asset_tag=p),label:"Asset Number*",variant:"outlined",density:"compact"}),null,16,["error-messages","modelValue"])]),_:1},8,["modelValue"])]),t("div",yt,[s(J,{modelValue:e.value.status_id,"onUpdate:modelValue":l[13]||(l[13]=a=>e.value.status_id=a),items:d(k).assets,disabled:e.value.status_id==2,"item-title":"title","item-value":"id",label:"Asset Status*",density:"compact",variant:"outlined",rules:[a=>!!a||"Asset Status is required"]},null,8,["modelValue","items","disabled","rules"])])]),_:1}),s($,null,{default:o(()=>[_.page=="edit"||_.page=="view"?(u(),U("div",gt," Additional Info ")):N("",!0),_.page=="edit"||_.page=="view"?(u(),U("div",Vt,[(u(!0),U(L,null,B(Y.value,(a,n)=>(u(),h(F,{key:n,class:"mr-2 mb-2",onClick:()=>P(a),color:f.value==a?"primary":"white"},{default:o(()=>[S(c(a),1)]),_:2},1032,["onClick","color"]))),128))])):N("",!0),t("div",bt,c(f.value+" Information"),1),K(t("div",xt,[s($,null,{default:o(()=>{var a;return[_.page=="edit"||_.page=="view"?(u(),U("div",ht,[t("div",null,[S(" Date Created: "+c(d(pe)(e.value.created_at)),1),kt,S(" Date Updated: "+c(d(pe)(e.value.updated_at)),1)]),t("div",null,"UpdatedBy: "+c((a=e.value.last_updated_by)==null?void 0:a.display_name),1)])):N("",!0),t("div",wt,[s(d(D),{name:"Specification",modelValue:e.value.specification,"onUpdate:modelValue":l[15]||(l[15]=n=>e.value.specification=n)},{default:o(({field:n,errors:p})=>[s(w,A({modelValue:e.value.specification,"onUpdate:modelValue":l[14]||(l[14]=Q=>e.value.specification=Q)},n,{label:"Specification*",variant:"outlined",density:"compact","error-messages":p}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])]),t("div",Ct,[s(w,{modelValue:e.value.model,"onUpdate:modelValue":l[16]||(l[16]=n=>e.value.model=n),label:"Model*",variant:"outlined",density:"compact"},null,8,["modelValue"])]),t("div",St,[s(w,{modelValue:e.value.brand,"onUpdate:modelValue":l[17]||(l[17]=n=>e.value.brand=n),label:"Brand*",variant:"outlined",density:"compact"},null,8,["modelValue"])]),t("div",Ut,[s(J,{modelValue:e.value.condition_id,"onUpdate:modelValue":l[18]||(l[18]=n=>e.value.condition_id=n),items:d(k).conditions,"item-title":"title","item-value":"id",label:"Condition*",density:"compact",variant:"outlined",rules:[n=>!!n||"Condition is required"]},null,8,["modelValue","items","rules"])]),t("div",At,[s(De,{modelValue:e.value.remarks,"onUpdate:modelValue":l[19]||(l[19]=n=>e.value.remarks=n),label:"Asset Remarks",density:"compact",variant:"outlined",rows:"2"},null,8,["modelValue"])])]}),_:1})],512),[[H,f.value=="specification"]]),K(t("div",Dt,[s($,null,{default:o(()=>[t("div",Mt,[s(d(D),{name:"Price",modelValue:e.value.price,"onUpdate:modelValue":l[21]||(l[21]=a=>e.value.price=a)},{default:o(({field:a,errors:n})=>[s(w,A({modelValue:e.value.price,"onUpdate:modelValue":l[20]||(l[20]=p=>e.value.price=p)},a,{label:"Price (Numeric Only)",variant:"outlined",density:"compact","error-messages":n}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])]),t("div",$t,[s(d(D),{name:"Currency",modelValue:e.value.currency,"onUpdate:modelValue":l[23]||(l[23]=a=>e.value.currency=a)},{default:o(({field:a,errors:n})=>[s(w,A({modelValue:e.value.currency,"onUpdate:modelValue":l[22]||(l[22]=p=>e.value.currency=p)},a,{label:"Currency(AED/USD)",variant:"outlined",density:"compact","error-messages":n}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])]),t("div",Nt,[s(J,{modelValue:e.value.vendor_id,"onUpdate:modelValue":l[24]||(l[24]=a=>e.value.vendor_id=a),items:d(V).list,"item-title":"title","item-value":"id",label:"Vendor",density:"compact",variant:"outlined",rules:[a=>!!a||"Vendor is required"]},null,8,["modelValue","items","rules"])]),t("div",zt,[s(d(D),{name:"PO Number",modelValue:e.value.po_number,"onUpdate:modelValue":l[26]||(l[26]=a=>e.value.po_number=a)},{default:o(({field:a,errors:n})=>[s(w,A({modelValue:e.value.po_number,"onUpdate:modelValue":l[25]||(l[25]=p=>e.value.po_number=p)},a,{label:"PO Number",variant:"outlined",density:"compact","error-messages":n}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])]),t("div",Yt,[s(d(D),{name:"Purchase Date",modelValue:e.value.purchased_date,"onUpdate:modelValue":l[28]||(l[28]=a=>e.value.purchased_date=a)},{default:o(({field:a,errors:n})=>[s(w,A({type:"date",modelValue:e.value.purchased_date,"onUpdate:modelValue":l[27]||(l[27]=p=>e.value.purchased_date=p)},a,{label:"Purchase Date",variant:"outlined",density:"compact","error-messages":n}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])])]),_:1})],512),[[H,f.value=="purchase"]]),K(t("div",jt,[s($,null,{default:o(()=>[t("div",It,[s(d(D),{name:"Capitalization Price",modelValue:e.value.capitalization_price,"onUpdate:modelValue":l[30]||(l[30]=a=>e.value.capitalization_price=a)},{default:o(({field:a,errors:n})=>[s(w,A({modelValue:e.value.capitalization_price,"onUpdate:modelValue":l[29]||(l[29]=p=>e.value.capitalization_price=p)},a,{label:"Capitalization Price",variant:"outlined",density:"compact","error-messages":n}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])]),t("div",qt,[s(d(D),{name:"Depreciation Percentage",modelValue:e.value.depreciation_percentage,"onUpdate:modelValue":l[32]||(l[32]=a=>e.value.depreciation_percentage=a)},{default:o(({field:a,errors:n})=>[s(w,A({modelValue:e.value.depreciation_percentage,"onUpdate:modelValue":l[31]||(l[31]=p=>e.value.depreciation_percentage=p)},a,{label:"Depreciation Percentage",variant:"outlined",density:"compact","error-messages":n}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])]),t("div",Rt,[s(d(D),{name:"Scrap Value",modelValue:e.value.scrap_value,"onUpdate:modelValue":l[34]||(l[34]=a=>e.value.scrap_value=a)},{default:o(({field:a,errors:n})=>[s(w,A({modelValue:e.value.scrap_value,"onUpdate:modelValue":l[33]||(l[33]=p=>e.value.scrap_value=p)},a,{label:"Scrap Value",variant:"outlined",density:"compact","error-messages":n}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])]),t("div",Ot,[s(d(D),{name:"Scrap Date",modelValue:e.value.scrap_date,"onUpdate:modelValue":l[36]||(l[36]=a=>e.value.scrap_date=a)},{default:o(({field:a,errors:n})=>[s(w,A({type:"date",modelValue:e.value.scrap_date,"onUpdate:modelValue":l[35]||(l[35]=p=>e.value.scrap_date=p)},a,{label:"Scrap Date",variant:"outlined",density:"compact","error-messages":n}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])]),t("div",Pt,[s(d(D),{name:"Capitalization Date",modelValue:e.value.capitalization_date,"onUpdate:modelValue":l[38]||(l[38]=a=>e.value.capitalization_date=a)},{default:o(({field:a,errors:n})=>[s(w,A({type:"date",modelValue:e.value.capitalization_date,"onUpdate:modelValue":l[37]||(l[37]=p=>e.value.capitalization_date=p)},a,{label:"Capitalization Date",variant:"outlined",density:"compact","error-messages":n}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])]),t("div",Wt,[s(d(D),{name:"End of Life",modelValue:e.value.end_of_life,"onUpdate:modelValue":l[40]||(l[40]=a=>e.value.end_of_life=a)},{default:o(({field:a,errors:n})=>[s(w,A({type:"date",modelValue:e.value.end_of_life,"onUpdate:modelValue":l[39]||(l[39]=p=>e.value.end_of_life=p)},a,{label:"End of Life",density:"compact",variant:"outlined","error-messages":n}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])])]),_:1})],512),[[H,f.value=="financial"]]),K(t("div",Ft,[_.page!="add"?(u(),h(Xe,{key:0,asset:e.value,page:_.page},null,8,["asset","page"])):N("",!0)],512),[[H,f.value=="warranty"]]),K(t("div",Tt,[s(nt,{asset:e.value},null,8,["asset"])],512),[[H,f.value=="transfer history"]]),K(t("div",Et,[s(Qe,{asset:e.value},null,8,["asset"])],512),[[H,f.value=="maintenance"]]),K(t("div",Lt,[s(lt,{asset:e.value},null,8,["asset"])],512),[[H,f.value=="incident"]]),Bt,t("div",Kt,[s($,null,{default:o(()=>[t("div",Ht,[d(j).name!="view-asset"?(u(),h(Ne,{key:0,options:{multiSelect:!0},onSelect:me})):N("",!0)])]),_:1}),I.value.length>0?(u(),h($,{key:0,class:"px-1"},{default:o(()=>[(u(!0),U(L,null,B(I.value,(a,n)=>(u(),U("div",{key:a.id,class:"v-col-12 v-col-md-2 pa-2",style:{position:"relative"}},[s(F,{style:{position:"absolute",top:"0",right:"0","z-index":"1"},icon:d(ye),size:"26px",color:"error",onClick:()=>we(a.id)},null,8,["icon","onClick"]),s(T,{onClick:()=>ke(n)},{default:o(()=>[s(ie,{src:O.value+"/file/"+a.path,cover:"","aspect-ratio":"1"},null,8,["src"])]),_:2},1032,["onClick"])]))),128)),s(de,{modelValue:se.value,"onUpdate:modelValue":l[42]||(l[42]=a=>se.value=a),width:"95%","max-width":"900"},{default:o(()=>[s(T,{class:"bg-black"},{default:o(()=>[s(Ve,{"hide-delimiter-background":"","show-arrows":"hover",height:"680px",modelValue:oe.value,"onUpdate:modelValue":l[41]||(l[41]=a=>oe.value=a)},{default:o(()=>[(u(!0),U(L,null,B(I.value,(a,n)=>(u(),h(be,{key:n,"reverse-transition":"fade",transition:"fade"},{default:o(()=>[t("div",Jt,[s(ie,{src:O.value+"/file/"+a.path},null,8,["src"])])]),_:2},1024))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])]),_:1})):(u(),h($,{key:1},{default:o(()=>[t("div",Xt,[s(ee,{color:"grey-lighten-4",class:"pa-6 text-center"},{default:o(()=>[S(" Attachment is empty at the moment. ")]),_:1})])]),_:1}))])]),_:1})]),_:1})]),_:1},8,["validation-schema"]),s(he,{options:r.value},null,8,["options"])]),_:1},8,["loading"]))}};export{da as _};

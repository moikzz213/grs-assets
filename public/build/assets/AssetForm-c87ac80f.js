import{I as ce,a as _e,r as b,J as G,n as se,o as i,c as h,w as o,b as t,E as d,j as T,e as U,d as s,D as Q,ab as fe,y as $,k as W,x as ne,p as S,F as E,q as L,t as c,ai as Ue,P as te,X as ue,V as ye,U as ge,f as Ve,s as Y,L as J,Y as be,Z as he,W as oe,u as me,aj as Se,T as Ae,K as De,i as C,a0 as D,ak as ie,R as K,_ as pe,S as H}from"./app-cbca2ade.js";import{F as xe,c as Me,a as q,d as $e,b as M}from"./index.esm-a8501831.js";import{_ as ke}from"./AppSnackBar-9cc5c9ac.js";import{_ as Ne}from"./Studio-0b20125f.js";import{d as Z}from"./dayjs.min-78dcb4a2.js";import{u as re,a as ve}from"./formatDate-b9aad8c5.js";import{u as ze,a as Ye}from"./locations-55c17a49.js";import{u as je}from"./categories-d546f959.js";import{u as Re}from"./vendors-930e161c.js";import{u as Ie}from"./status-d9361a5d.js";const qe={class:"v-col-12 pt-0 pb-2"},Pe=t("thead",null,[t("tr",null,[t("th",{class:"text-left text-primary"},"#"),t("th",{class:"text-left text-primary"},"Image"),t("th",{class:"text-left text-primary"},"Title"),t("th",{class:"text-left text-primary"},"Vendor"),t("th",{class:"text-left text-primary"}," Warranty Start "),t("th",{class:"text-left text-primary"},"Warranty End"),t("th",{class:"text-left text-primary"},"AMC Start"),t("th",{class:"text-left text-primary"},"AMC End")])],-1),Oe=["onClick"],Te=["onClick"],We=["onClick"],Fe=["onClick"],Ee=["onClick"],Le=["onClick"],Be=["onClick"],Ke={class:"v-col-12 v-col-md-12 pt-0 pb-2"},He={class:"v-col-12 pt-0 pb-2 d-flex justify-end"},Je={style:{height:"680px",width:"100%"},class:"d-flex align-center justify-center"},Xe=["data"],Ze={__name:"AssetWarranties",props:{page:{type:String,default:"add"},asset:{type:Object,default:null}},setup(O){const _=O,j=ce(),R=_e(),N=b(window.location.origin),e=b({}),r=b({status:!1,action:"add",loading:!1,data:{}}),y=b([]);G(()=>_.asset,x=>{y.value=x.pivot_warranties,I()});const V=b(!1),u=b([]),z=b(1),f=b("image"),F=(x,g)=>{let k=x[0].path.split(".");f.value=k[k.length-1],u.value=x,z.value=g,V.value=!0},w=b(0),A=(x=null)=>{r.value.status=!0,x?(r.value.action="edit",r.value.data=Object.assign({},x),w.value=x.id):(r.value.action="add",r.value.data={})},B=async()=>{r.value.loading=!0;let x={id:r.value.data.id,asset_id:j.params.id,warranty_id:r.value.data.warranty_id,old_warranty_id:w.value};await se(R.token).post("/api/asset/save-warranty",x).then(g=>{de().then(()=>{e.value={status:!0,type:"success",text:g.data.message},r.value.loading=!1,r.value.status=!1})}).catch(g=>{r.value.loading=!1,e.value={status:!0,type:"eroor",text:"Error while saving warranty"},console.log("err",g)})},P=b([]),I=()=>{se(R.token).get("/api/fetch-warranties/non-paginated").then(x=>{P.value=x.data}).catch(x=>{r.value.loading=!1})},de=async()=>{await se(R.token).get("/api/asset/warranty/"+j.params.id).then(x=>{y.value=x.data,console.log("warranties.value",y.value),r.value.loading=!1}).catch(x=>{r.value.loading=!1})};return(x,g)=>(i(),h(Y,null,{default:o(()=>[t("div",qe,[d(j).name!="view-asset"?(i(),h(T,{key:0,onClick:g[0]||(g[0]=()=>A()),class:"mb-3",size:"small"},{default:o(()=>[U(" New Warranty "),s(Q,{class:"ml-2",icon:d(fe)},null,8,["icon"])]),_:1})):$("",!0),s(W,null,{default:o(()=>{var k;return[s(ne,{density:"compact"},{default:o(()=>[Pe,t("tbody",null,[(i(!0),S(E,null,L(y.value,(v,ae)=>{var X;return i(),S("tr",{key:v.id,class:"cursor-pointer table-cell-hover"},[t("td",{onClick:()=>A(v)},c(ae+1),9,Oe),t("td",null,[((X=v==null?void 0:v.attachment)==null?void 0:X.length)>0?(i(),h(Q,{key:0,icon:d(Ue),color:"success",onClick:le=>F(v.attachment,ae)},null,8,["icon","onClick"])):$("",!0)]),t("td",{onClick:()=>A(v)},c(v.warranty_title),9,Te),t("td",{onClick:()=>A(v)},c(v.vendor&&v.vendor.title),9,We),t("td",{onClick:()=>A(v)},c(v.warranty_start_date&&v.warranty_start_date!="0000-00-00"?d(Z)(v.warranty_start_date).format("MMM. DD, YYYY"):""),9,Fe),t("td",{onClick:()=>A(v)},c(v.warranty_end_date&&v.warranty_end_date!="0000-00-00"?d(Z)(v.warranty_end_date).format("MMM. DD, YYYY"):""),9,Ee),t("td",{onClick:()=>A(v)},c(v.amc_start_date&&v.amc_start_date!="0000-00-00"?d(Z)(v.amc_start_date).format("MMM. DD, YYYY"):""),9,Le),t("td",{onClick:()=>A(v)},c(v.amc_end_date&&v.amc_end_date!="0000-00-00"?d(Z)(v.amc_end_date).format("MMM. DD, YYYY"):""),9,Be)])}),128))])]),_:1}),((k=y.value)==null?void 0:k.length)==0?(i(),h(te,{key:0,class:"pa-3 text-center"},{default:o(()=>[U("No record at the moment")]),_:1})):$("",!0)]}),_:1})]),s(ue,{modelValue:r.value.status,"onUpdate:modelValue":g[3]||(g[3]=k=>r.value.status=k),persistent:"",width:"600"},{default:o(()=>[s(W,null,{default:o(()=>[s(ye,{class:"text-capitalize mb-3 d-flex justify-space-between align-center"},{default:o(()=>[U(c(r.value.action+" Warranty")+" ",1),s(T,{icon:d(ge),variant:"flat",size:"small",onClick:g[1]||(g[1]=k=>r.value.status=!1)},null,8,["icon"])]),_:1}),s(Ve,null,{default:o(()=>[s(d(xe),{as:"v-form"},{default:o(()=>[s(Y,{class:"mb-0"},{default:o(()=>[t("div",Ke,[s(J,{modelValue:r.value.data.warranty_id,"onUpdate:modelValue":g[2]||(g[2]=k=>r.value.data.warranty_id=k),items:P.value,"item-title":"warranty_title","item-value":"id",label:"Select Warranty",density:"compact",variant:"outlined"},null,8,["modelValue","items"])]),t("div",He,[s(T,{color:"primary",loading:r.value.loading,onClick:B,disabled:!r.value.data.warranty_id},{default:o(()=>[U("Save")]),_:1},8,["loading","disabled"])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),s(ue,{modelValue:V.value,"onUpdate:modelValue":g[5]||(g[5]=k=>V.value=k),width:"95%","max-width":"1200"},{default:o(()=>[s(W,{class:"bg-black"},{default:o(()=>[s(be,{"hide-delimiter-background":"","show-arrows":"hover",height:"680px",modelValue:z.value,"onUpdate:modelValue":g[4]||(g[4]=k=>z.value=k)},{default:o(()=>[(i(!0),S(E,null,L(u.value,(k,v)=>(i(),h(he,{key:v,"reverse-transition":"fade",transition:"fade"},{default:o(()=>[t("div",Je,[s(oe,{src:N.value+"/file/"+k.path},null,8,["src"]),f.value=="jpg"||f.value=="jpeg"||f.value=="gif"||f.value=="png"?(i(),h(oe,{key:0,src:N.value+"/file/"+k.path},null,8,["src"])):$("",!0),f.value=="pdf"?(i(),S("object",{key:1,data:N.value+"/file/"+k.path,type:"application/pdf",width:"100%",height:"800px"},null,8,Xe)):$("",!0)])]),_:2},1024))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue"]),s(ke,{options:e.value},null,8,["options"])]),_:1}))}},Ge={class:"v-col-12 pt-0 pb-2"},Qe=t("thead",null,[t("tr",null,[t("th",{class:"text-left text-primary"},"ISR ID"),t("th",{class:"text-left text-primary"},"Urgency"),t("th",{class:"text-left text-primary"},"Priority"),t("th",{class:"text-left text-primary"},"Reported by"),t("th",{class:"text-left text-primary"},"Handled by"),t("th",{class:"text-left text-primary"},"Date Reported"),t("th",{class:"text-left text-primary"},"Date Completed"),t("th",{class:"text-left text-primary"},"Status"),t("th",{class:"text-left text-primary"})])],-1),et={__name:"AssetMaintenances",props:{asset:{type:Object,default:null}},setup(O){const _=O,j=me(),R=ce(),N=()=>{j.push({name:"NewMaintenance",query:{type:"details",asset_code:V.value.asset_code,asset_id:V.value.id,comp:V.value.company_id,loc:V.value.location_id,title:V.value.asset_name}})},e=u=>{j.push({name:"EditMaintenance",params:{id:u},query:{type:"details",pd:"ox2rKaIYFhBOQW31j6kkiMrJ4KfnYpLmwJhMzBFwPBlVjgGR4g",v:1,vv:"xK2sX1sDL1BBAvmuoPpWoNRgc4wzbdZ9F2OXAKrS3N2g65xNgy"}}).catch(z=>{console.log(z)})},r=u=>u?u==1?"Normal":u==2?"Medium":"High":"",y=(u,z=5)=>{let f="0000"+u;return f.substring(f.length-z)},V=b({});return G(()=>_.asset,(u,z)=>{V.value=u,console.log("assetDetail.value",V.value)},{deep:!0}),(u,z)=>(i(),h(Y,null,{default:o(()=>[t("div",Ge,[V.value.status_id!=2&&d(R).name!="view-asset"?(i(),h(T,{key:0,onClick:N,class:"mb-3",size:"small"},{default:o(()=>[U(" New Maintenance "),s(Q,{class:"ml-2",icon:d(fe)},null,8,["icon"])]),_:1})):$("",!0),s(W,null,{default:o(()=>[s(ne,{density:"compact"},{default:o(()=>[Qe,t("tbody",null,[(i(!0),S(E,null,L(_.asset.maintenance,(f,F)=>{var w,A,B;return i(),S("tr",{key:f.id},[t("td",null,"ISR-2"+c(y(f.id)),1),t("td",null,c(r(f.urgency)),1),t("td",null,c(r(f.priority)),1),t("td",null,c((w=f.profile)==null?void 0:w.display_name),1),t("td",null,c((A=f.handle_by)==null?void 0:A.display_name),1),t("td",null,c(d(re)(f.created_at)),1),t("td",null,c(f.date_closed?d(re)(f.date_closed):""),1),t("td",null,c((B=f.status)==null?void 0:B.title),1),t("td",null,[s(T,{color:"info",size:"x-small",onClick:P=>e(f.id)},{default:o(()=>[U("Details")]),_:2},1032,["onClick"])])])}),128))])]),_:1}),_.asset.maintenance&&_.asset.maintenance.length==0?(i(),h(te,{key:0,class:"pa-3 text-center"},{default:o(()=>[U("No record at the moment")]),_:1})):$("",!0)]),_:1})])]),_:1}))}},tt={class:"v-col-12 pt-0 pb-2"},at=t("thead",null,[t("tr",null,[t("th",{class:"text-left text-primary"},"ISR ID"),t("th",{class:"text-left text-primary"},"Urgency"),t("th",{class:"text-left text-primary"},"Priority"),t("th",{class:"text-left text-primary"},"Reported by"),t("th",{class:"text-left text-primary"},"Handled by"),t("th",{class:"text-left text-primary"},"Date Reported"),t("th",{class:"text-left text-primary"},"Date Completed"),t("th",{class:"text-left text-primary"},"Status")])],-1),lt=["onClick"],st={__name:"AssetIncidents",props:{asset:{type:Object,default:null}},setup(O){const _=O,j=me(),R=y=>{j.push({name:"EditIncident",params:{id:y},query:{type:"details"}}).catch(V=>{console.log(V)})},N=y=>y?y==1?"Normal":y==2?"Medium":"High":"",e=(y,V=5)=>{let u="0000"+y;return u.substring(u.length-V)},r=b({});return G(()=>_.asset,(y,V)=>{r.value=y,console.log("assetDetail.value",r.value)},{deep:!0}),(y,V)=>(i(),h(Y,null,{default:o(()=>[t("div",tt,[s(W,null,{default:o(()=>[s(ne,{density:"compact"},{default:o(()=>[at,t("tbody",null,[(i(!0),S(E,null,L(_.asset.incidents,(u,z)=>{var f,F,w,A;return i(),S("tr",{key:u.id},[t("td",{class:"text-decoration-underline d-flex align-center cursor-pointer",onClick:B=>R(u.id)},[U(" ISR-2"+c(e(u.id))+" ",1),s(Q,{class:"ml-1",size:"small",icon:d(Se)},null,8,["icon"])],8,lt),t("td",null,c(u.urgency.title),1),t("td",null,c(u.priority?N(u.priority):"-"),1),t("td",null,c((f=u.profile)==null?void 0:f.display_name),1),t("td",null,c((F=u.handle_by)!=null&&F.display_name?(w=u.handle_by)==null?void 0:w.display_name:"-"),1),t("td",null,c(u.created_at?d(Z)(u.created_at).format("MMM. DD, YYYY"):"-"),1),t("td",null,c(u.date_closed?d(Z)(u.date_closed).format("MMM. DD, YYYY"):"-"),1),t("td",null,c((A=u.status)==null?void 0:A.title),1)])}),128))])]),_:1}),_.asset.incidents&&_.asset.incidents.length==0?(i(),h(te,{key:0,class:"pa-3 text-center"},{default:o(()=>[U("No record at the moment")]),_:1})):$("",!0)]),_:1})])]),_:1}))}},ot={class:"v-col-12 pt-0 pb-2"},nt=t("thead",null,[t("tr",null,[t("th",{class:"text-left text-primary"},"#"),t("th",{class:"text-left text-primary"},"Transferred from"),t("th",{class:"text-left text-primary"},"Remarks"),t("th",{class:"text-left text-primary"},"Date")])],-1),dt={__name:"AssetAllotedLocations",props:{asset:{type:Object,default:null}},setup(O){const _=O;return(j,R)=>(i(),h(Y,null,{default:o(()=>[t("div",ot,[s(W,null,{default:o(()=>[s(ne,{density:"compact"},{default:o(()=>[nt,t("tbody",null,[(i(!0),S(E,null,L(_.asset.allotted_informations,(N,e)=>{var r;return i(),S("tr",{key:N.id},[t("td",null,c(e+1),1),t("td",null,c((r=N.location)==null?void 0:r.title),1),t("td",null,c(N.remarks),1),t("td",null,c(d(re)(N.created_at)),1)])}),128))])]),_:1}),_.asset.allotted_informations&&_.asset.allotted_informations.length==0?(i(),h(te,{key:0,class:"pa-3 text-center"},{default:o(()=>[U("No record at the moment")]),_:1})):$("",!0)]),_:1})])]),_:1}))}},it={class:"text-primary text-capitalize"},ut={class:"d-flex align-center"},rt=t("div",{class:"v-col-12 font-weight-bold"},"Asset Info",-1),ct={class:"v-col-12 v-col-md-6 pt-0 pb-2"},mt={class:"v-col-12 v-col-md-6 pt-0 pb-2"},pt={class:"v-col-12 v-col-md-6 pt-0 pb-2"},vt={class:"v-col-12 v-col-md-6 pt-0 pb-2"},_t={class:"v-col-12 v-col-md-6 pt-0 pb-2"},ft={class:"v-col-12 v-col-md-6 pt-0 pb-2"},yt={class:"v-col-12 v-col-md-6 pt-0 pb-2 d-flex align-start"},gt={class:"v-col-12 v-col-md-6 pt-0 pb-2"},Vt={key:0,class:"v-col-12 pt-0 font-weight-bold"},bt={key:1,class:"v-col-12 pt-0"},ht={class:"v-col-12 pt-0 text-capitalize"},xt={class:"v-col-12"},kt={key:0,class:"v-col-12 pt-0 d-flex justify-space-between"},wt=t("br",null,null,-1),Ct={class:"v-col-12 v-col-md-6 pt-0 pb-2"},Ut={class:"v-col-12 v-col-md-6 pt-0 pb-2"},St={class:"v-col-12 v-col-md-6 pt-0 pb-2"},At={class:"v-col-12 v-col-md-6 pt-0 pb-2"},Dt={class:"v-col-12 v-col-md-12 pt-0 pb-2"},Mt={class:"v-col-12"},$t={class:"v-col-12 v-col-md-3 pt-0 pb-2"},Nt={class:"v-col-12 v-col-md-2 pt-0 pb-2"},zt={class:"v-col-12 v-col-md-7 pt-0 pb-2"},Yt={class:"v-col-12 v-col-md-6 pt-0 pb-2"},jt={class:"v-col-12 v-col-md-6 pt-0 pb-2"},Rt={class:"v-col-12 v-col-md-12 pt-0 pb-2"},It={class:"v-col-12"},qt={class:"v-col-12 v-col-md-6 pt-0 pb-2"},Pt={class:"v-col-12 v-col-md-6 pt-0 pb-2"},Ot={class:"v-col-12 v-col-md-6 pt-0 pb-2"},Tt={class:"v-col-12 v-col-md-6 pt-0 pb-2"},Wt={class:"v-col-12 v-col-md-6 pt-0 pb-2"},Ft={class:"v-col-12 v-col-md-6 pt-0 pb-2"},Et={class:"v-col-12 mb-6"},Lt={class:"v-col-12 mb-6"},Bt={class:"v-col-12 mb-6"},Kt={class:"v-col-12 mb-6"},Ht=t("div",{class:"v-col-12 pt-0 font-weight-bold"},"Attachment",-1),Jt={class:"v-col-12 pt-0"},Xt={class:"v-col-12 pb-2"},Zt={style:{height:"680px",width:"100%"},class:"d-flex align-center justify-center"},Gt={class:"v-col-12 pt-0 pb-2"},ua={__name:"AssetForm",props:{page:{type:String,default:"add"},asset:{type:Object,default:null}},setup(O){const _=O,j=me(),R=ce(),N=b(["specification","purchase","financial","warranty","transfer history","maintenance","incident"]),e=b({}),r=b({}),y=_e(),V=ze();V.getCompanies(y.token),G(()=>e.value.company_id,m=>{var l;e.value.company_code=(l=V.list.filter(a=>a.id==m)[0])==null?void 0:l.code});const u=je();u.getCategories(y.token),G(()=>e.value.category_id,m=>{var l;e.value.category_code=(l=u.list.filter(a=>a.id==m)[0])==null?void 0:l.code});const z=Ye();z.getLocations(y.token);const f=Re();f.getVendors(y.token);const F=b(window.location.origin),w=b("specification"),A=m=>{w.value=m};let B=Me({Name:q().required().max(150),"Serial Number":q().max(80).nullable(),"Asset Number":$e().typeError("Asset number must be a number").required(),"Section code":q().max(30).nullable(),Category:q().required(),Company:q().required(),Location:q().required(),"Asset Status":q().required(),Specification:q().max(120).nullable(),Brand:q().required(),Model:q().required(),Condition:q().required()});const P=b(!1),I=b([]),de=Ae(()=>I.value.map(m=>m.id)),x=m=>{var l,a;if(e.value=Object.assign({},m),e.value.asset_code){let p=(e.value.asset_code+"").split("-");e.value.asset_tag=p[p.length-1],e.value.company_code=(l=V.list.filter(ee=>ee.id==e.value.company_id)[0])==null?void 0:l.code,e.value.category_code=(a=u.list.filter(ee=>ee.id==e.value.category_id)[0])==null?void 0:a.code}I.value=m&&m.attachments?Object.assign([],m.attachments):[],m&&m.financial_information&&(e.value.capitalization_price=m.financial_information.capitalization_price,e.value.depreciation_percentage=m.financial_information.depreciation_percentage,e.value.scrap_value=m.financial_information.scrap_value,e.value.scrap_date=m.financial_information.scrap_date,e.value.capitalization_date=m.financial_information.capitalization_date,e.value.end_of_life=m.financial_information.end_of_life)};De(()=>{setTimeout(()=>{x(_.asset)},800)}),G(()=>_.asset,m=>{x(m)});const g=Ie();(g.list.length==0||g.conditions.length==0)&&g.getStatuses(y.token);const k=()=>{j.go(-1)},v=async()=>{P.value=!0,e.value.file_ids=de.value,e.value.asset_code=e.value.company_code+"-"+e.value.category_code+"-"+e.value.asset_tag,e.value.financial_information_id=e.value.financial_information?e.value.financial_information.id:null,await se(y.token).post("/api/asset/save",e.value).then(m=>{r.value={status:!0,type:"success",text:m.data.message},P.value=!1,_.page=="add"&&j.push({name:"edit-asset",params:{id:m.data.asset.id}}).catch(l=>{console.log("router.push",l)})}).catch(m=>{console.log("saveAsset",m),r.value={status:!0,type:"error",text:"Error while saving asset"},P.value=!1})},ae=m=>{let l=null;m.map(a=>{l=I.value.find(n=>n.id==a.id),l||I.value.push(a)})},X=b(!1),le=b(1),we=m=>{le.value=m,X.value=!0},Ce=m=>{I.value=I.value.filter(l=>l.id!==m)};return(m,l)=>(i(),h(W,{loading:P.value,"max-width":"1600px",class:"mx-auto elevation-0"},{default:o(()=>[s(d(xe),{as:"v-form","validation-schema":d(B)},{default:o(()=>[s(ye,{class:"pb-6 pt-3 d-flex align-center justify-space-between"},{default:o(()=>[t("div",it,[U(c(_.page+": ")+" ",1),t("strong",null,c(e.value.asset_code),1)]),t("div",ut,[s(T,{color:"primary",class:"mr-4",loading:P.value,onClick:k},{default:o(()=>[U("Cancel")]),_:1},8,["loading"]),d(R).name!="view-asset"?(i(),h(T,{key:0,color:"primary",loading:P.value,onClick:v},{default:o(()=>[U("Save")]),_:1},8,["loading"])):$("",!0)])]),_:1}),s(Ve,null,{default:o(()=>[s(Y,null,{default:o(()=>[rt,t("div",ct,[s(d(M),{name:"Name",modelValue:e.value.asset_name,"onUpdate:modelValue":l[1]||(l[1]=a=>e.value.asset_name=a)},{default:o(({field:a,errors:n})=>[s(C,D({modelValue:e.value.asset_name,"onUpdate:modelValue":l[0]||(l[0]=p=>e.value.asset_name=p)},a,{label:"Name*",variant:"outlined",density:"compact","error-messages":n}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])]),t("div",mt,[s(d(M),{name:"Serial Number",modelValue:e.value.serial_number,"onUpdate:modelValue":l[3]||(l[3]=a=>e.value.serial_number=a)},{default:o(({field:a,errors:n})=>[s(C,D({modelValue:e.value.serial_number,"onUpdate:modelValue":l[2]||(l[2]=p=>e.value.serial_number=p)},a,{label:"Serial Number(Optional)",variant:"outlined",density:"compact","error-messages":n}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])]),t("div",pt,[s(d(M),{name:"Section code",modelValue:e.value.section_code,"onUpdate:modelValue":l[5]||(l[5]=a=>e.value.section_code=a)},{default:o(({field:a,errors:n})=>[s(C,D({modelValue:e.value.section_code,"onUpdate:modelValue":l[4]||(l[4]=p=>e.value.section_code=p)},a,{label:"Section code (optional)",variant:"outlined",density:"compact","error-messages":n}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])]),t("div",vt,[s(J,{modelValue:e.value.category_id,"onUpdate:modelValue":l[6]||(l[6]=a=>e.value.category_id=a),items:d(u).list,"item-title":"title","item-value":"id",label:"Category*",density:"compact",variant:"outlined",rules:[a=>!!a||"Category is required"]},null,8,["modelValue","items","rules"])]),t("div",_t,[s(J,{modelValue:e.value.company_id,"onUpdate:modelValue":l[7]||(l[7]=a=>e.value.company_id=a),items:d(V).list,"item-title":"title","item-value":"id",label:"Company*",density:"compact",variant:"outlined",rules:[a=>!!a||"Company is required"]},null,8,["modelValue","items","rules"])]),t("div",ft,[s(J,{modelValue:e.value.location_id,"onUpdate:modelValue":l[8]||(l[8]=a=>e.value.location_id=a),items:d(z).list,"item-title":"title","item-value":"id",label:"Location*",density:"compact",variant:"outlined",rules:[a=>!!a||"Location is required"]},null,8,["modelValue","items","rules"])]),t("div",yt,[s(C,{style:{width:"33.33%"},modelValue:e.value.company_code,"onUpdate:modelValue":l[9]||(l[9]=a=>e.value.company_code=a),readonly:"",label:"Company Code",variant:"outlined",density:"compact",apped:d(ie)},null,8,["modelValue","apped"]),s(Q,{icon:d(ie),class:"mt-3 mx-1"},null,8,["icon"]),s(C,{style:{width:"33.33%"},readonly:"",modelValue:e.value.category_code,"onUpdate:modelValue":l[10]||(l[10]=a=>e.value.category_code=a),label:"Asset Code",variant:"outlined",density:"compact"},null,8,["modelValue"]),s(Q,{icon:d(ie),class:"mt-3 mx-1"},null,8,["icon"]),s(d(M),{name:"Asset Number",modelValue:e.value.asset_tag,"onUpdate:modelValue":l[12]||(l[12]=a=>e.value.asset_tag=a)},{default:o(({field:a,errors:n})=>[s(C,D({style:{width:"33.33%"}},a,{"error-messages":n,type:"number",modelValue:e.value.asset_tag,"onUpdate:modelValue":l[11]||(l[11]=p=>e.value.asset_tag=p),label:"Asset Number*",variant:"outlined",density:"compact"}),null,16,["error-messages","modelValue"])]),_:1},8,["modelValue"])]),t("div",gt,[s(J,{modelValue:e.value.status_id,"onUpdate:modelValue":l[13]||(l[13]=a=>e.value.status_id=a),items:d(g).assets,disabled:e.value.status_id==2,"item-title":"title","item-value":"id",label:"Asset Status*",density:"compact",variant:"outlined",rules:[a=>!!a||"Asset Status is required"]},null,8,["modelValue","items","disabled","rules"])])]),_:1}),s(Y,null,{default:o(()=>[_.page=="edit"||_.page=="view"?(i(),S("div",Vt," Additional Info ")):$("",!0),_.page=="edit"||_.page=="view"?(i(),S("div",bt,[(i(!0),S(E,null,L(N.value,(a,n)=>(i(),h(T,{key:n,class:"mr-2 mb-2",onClick:()=>A(a),color:w.value==a?"primary":"white"},{default:o(()=>[U(c(a),1)]),_:2},1032,["onClick","color"]))),128))])):$("",!0),t("div",ht,c(w.value+" Information"),1),K(t("div",xt,[s(Y,null,{default:o(()=>{var a;return[_.page=="edit"||_.page=="view"?(i(),S("div",kt,[t("div",null,[U(" Date Created: "+c(d(ve)(e.value.created_at)),1),wt,U(" Date Updated: "+c(d(ve)(e.value.updated_at)),1)]),t("div",null,"UpdatedBy: "+c((a=e.value.last_updated_by)==null?void 0:a.display_name),1)])):$("",!0),t("div",Ct,[s(d(M),{name:"Specification",modelValue:e.value.specification,"onUpdate:modelValue":l[15]||(l[15]=n=>e.value.specification=n)},{default:o(({field:n,errors:p})=>[s(C,D({modelValue:e.value.specification,"onUpdate:modelValue":l[14]||(l[14]=ee=>e.value.specification=ee)},n,{label:"Specification*",variant:"outlined",density:"compact","error-messages":p}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])]),t("div",Ut,[s(C,{modelValue:e.value.model,"onUpdate:modelValue":l[16]||(l[16]=n=>e.value.model=n),label:"Model*",variant:"outlined",density:"compact"},null,8,["modelValue"])]),t("div",St,[s(C,{modelValue:e.value.brand,"onUpdate:modelValue":l[17]||(l[17]=n=>e.value.brand=n),label:"Brand*",variant:"outlined",density:"compact"},null,8,["modelValue"])]),t("div",At,[s(J,{modelValue:e.value.condition_id,"onUpdate:modelValue":l[18]||(l[18]=n=>e.value.condition_id=n),items:d(g).conditions,"item-title":"title","item-value":"id",label:"Condition*",density:"compact",variant:"outlined",rules:[n=>!!n||"Condition is required"]},null,8,["modelValue","items","rules"])]),t("div",Dt,[s(pe,{modelValue:e.value.remarks,"onUpdate:modelValue":l[19]||(l[19]=n=>e.value.remarks=n),label:"Asset Remarks",density:"compact",variant:"outlined",rows:"2"},null,8,["modelValue"])])]}),_:1})],512),[[H,w.value=="specification"]]),K(t("div",Mt,[s(Y,null,{default:o(()=>[t("div",$t,[s(d(M),{name:"Price",modelValue:e.value.price,"onUpdate:modelValue":l[21]||(l[21]=a=>e.value.price=a)},{default:o(({field:a,errors:n})=>[s(C,D({modelValue:e.value.price,"onUpdate:modelValue":l[20]||(l[20]=p=>e.value.price=p)},a,{label:"Price (Numeric Only)",variant:"outlined",density:"compact","error-messages":n}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])]),t("div",Nt,[s(d(M),{name:"Currency",modelValue:e.value.currency,"onUpdate:modelValue":l[23]||(l[23]=a=>e.value.currency=a)},{default:o(({field:a,errors:n})=>[s(C,D({modelValue:e.value.currency,"onUpdate:modelValue":l[22]||(l[22]=p=>e.value.currency=p)},a,{label:"Currency(AED/USD)",variant:"outlined",density:"compact","error-messages":n}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])]),t("div",zt,[s(J,{modelValue:e.value.vendor_id,"onUpdate:modelValue":l[24]||(l[24]=a=>e.value.vendor_id=a),items:d(f).list,"item-title":"title","item-value":"id",label:"Vendor",density:"compact",variant:"outlined",rules:[a=>!!a||"Vendor is required"]},null,8,["modelValue","items","rules"])]),t("div",Yt,[s(d(M),{name:"PO Number",modelValue:e.value.po_number,"onUpdate:modelValue":l[26]||(l[26]=a=>e.value.po_number=a)},{default:o(({field:a,errors:n})=>[s(C,D({modelValue:e.value.po_number,"onUpdate:modelValue":l[25]||(l[25]=p=>e.value.po_number=p)},a,{label:"PO Number",variant:"outlined",density:"compact","error-messages":n}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])]),t("div",jt,[s(d(M),{name:"Purchase Date",modelValue:e.value.purchased_date,"onUpdate:modelValue":l[28]||(l[28]=a=>e.value.purchased_date=a)},{default:o(({field:a,errors:n})=>[s(C,D({type:"date",modelValue:e.value.purchased_date,"onUpdate:modelValue":l[27]||(l[27]=p=>e.value.purchased_date=p)},a,{label:"Purchase Date",variant:"outlined",density:"compact","error-messages":n}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])]),t("div",Rt,[s(d(M),{name:"Purchase Remarks",modelValue:e.value.remarks_lpo,"onUpdate:modelValue":l[30]||(l[30]=a=>e.value.remarks_lpo=a)},{default:o(({field:a,errors:n})=>[s(pe,D({type:"date",modelValue:e.value.remarks_lpo,"onUpdate:modelValue":l[29]||(l[29]=p=>e.value.remarks_lpo=p)},a,{label:"Purchase Remarks",variant:"outlined",rows:"3",density:"compact","error-messages":n}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])])]),_:1})],512),[[H,w.value=="purchase"]]),K(t("div",It,[s(Y,null,{default:o(()=>[t("div",qt,[s(d(M),{name:"Capitalization Price",modelValue:e.value.capitalization_price,"onUpdate:modelValue":l[32]||(l[32]=a=>e.value.capitalization_price=a)},{default:o(({field:a,errors:n})=>[s(C,D({modelValue:e.value.capitalization_price,"onUpdate:modelValue":l[31]||(l[31]=p=>e.value.capitalization_price=p)},a,{label:"Capitalization Price",variant:"outlined",density:"compact","error-messages":n}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])]),t("div",Pt,[s(d(M),{name:"Depreciation Percentage",modelValue:e.value.depreciation_percentage,"onUpdate:modelValue":l[34]||(l[34]=a=>e.value.depreciation_percentage=a)},{default:o(({field:a,errors:n})=>[s(C,D({modelValue:e.value.depreciation_percentage,"onUpdate:modelValue":l[33]||(l[33]=p=>e.value.depreciation_percentage=p)},a,{label:"Depreciation Percentage",variant:"outlined",density:"compact","error-messages":n}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])]),t("div",Ot,[s(d(M),{name:"Scrap Value",modelValue:e.value.scrap_value,"onUpdate:modelValue":l[36]||(l[36]=a=>e.value.scrap_value=a)},{default:o(({field:a,errors:n})=>[s(C,D({modelValue:e.value.scrap_value,"onUpdate:modelValue":l[35]||(l[35]=p=>e.value.scrap_value=p)},a,{label:"Scrap Value",variant:"outlined",density:"compact","error-messages":n}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])]),t("div",Tt,[s(d(M),{name:"Scrap Date",modelValue:e.value.scrap_date,"onUpdate:modelValue":l[38]||(l[38]=a=>e.value.scrap_date=a)},{default:o(({field:a,errors:n})=>[s(C,D({type:"date",modelValue:e.value.scrap_date,"onUpdate:modelValue":l[37]||(l[37]=p=>e.value.scrap_date=p)},a,{label:"Scrap Date",variant:"outlined",density:"compact","error-messages":n}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])]),t("div",Wt,[s(d(M),{name:"Capitalization Date",modelValue:e.value.capitalization_date,"onUpdate:modelValue":l[40]||(l[40]=a=>e.value.capitalization_date=a)},{default:o(({field:a,errors:n})=>[s(C,D({type:"date",modelValue:e.value.capitalization_date,"onUpdate:modelValue":l[39]||(l[39]=p=>e.value.capitalization_date=p)},a,{label:"Capitalization Date",variant:"outlined",density:"compact","error-messages":n}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])]),t("div",Ft,[s(d(M),{name:"End of Life",modelValue:e.value.end_of_life,"onUpdate:modelValue":l[42]||(l[42]=a=>e.value.end_of_life=a)},{default:o(({field:a,errors:n})=>[s(C,D({type:"date",modelValue:e.value.end_of_life,"onUpdate:modelValue":l[41]||(l[41]=p=>e.value.end_of_life=p)},a,{label:"End of Life",density:"compact",variant:"outlined","error-messages":n}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])])]),_:1})],512),[[H,w.value=="financial"]]),K(t("div",Et,[_.page!="add"?(i(),h(Ze,{key:0,asset:e.value,page:_.page},null,8,["asset","page"])):$("",!0)],512),[[H,w.value=="warranty"]]),K(t("div",Lt,[s(dt,{asset:e.value},null,8,["asset"])],512),[[H,w.value=="transfer history"]]),K(t("div",Bt,[s(et,{asset:e.value},null,8,["asset"])],512),[[H,w.value=="maintenance"]]),K(t("div",Kt,[s(st,{asset:e.value},null,8,["asset"])],512),[[H,w.value=="incident"]]),Ht,t("div",Jt,[s(Y,null,{default:o(()=>[t("div",Xt,[d(R).name!="view-asset"?(i(),h(Ne,{key:0,options:{multiSelect:!0},onSelect:ae})):$("",!0)])]),_:1}),I.value.length>0?(i(),h(Y,{key:0,class:"px-1"},{default:o(()=>[(i(!0),S(E,null,L(I.value,(a,n)=>(i(),S("div",{key:a.id,class:"v-col-12 v-col-md-2 pa-2",style:{position:"relative"}},[s(T,{style:{position:"absolute",top:"0",right:"0","z-index":"1"},icon:d(ge),size:"26px",color:"error",onClick:()=>Ce(a.id)},null,8,["icon","onClick"]),s(W,{onClick:()=>we(n)},{default:o(()=>[s(oe,{src:F.value+"/file/"+a.path,cover:"","aspect-ratio":"1"},null,8,["src"])]),_:2},1032,["onClick"])]))),128)),s(ue,{modelValue:X.value,"onUpdate:modelValue":l[44]||(l[44]=a=>X.value=a),width:"95%","max-width":"900"},{default:o(()=>[s(W,{class:"bg-black"},{default:o(()=>[s(be,{"hide-delimiter-background":"","show-arrows":"hover",height:"680px",modelValue:le.value,"onUpdate:modelValue":l[43]||(l[43]=a=>le.value=a)},{default:o(()=>[(i(!0),S(E,null,L(I.value,(a,n)=>(i(),h(he,{key:n,"reverse-transition":"fade",transition:"fade"},{default:o(()=>[t("div",Zt,[s(oe,{src:F.value+"/file/"+a.path},null,8,["src"])])]),_:2},1024))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])]),_:1})):(i(),h(Y,{key:1},{default:o(()=>[t("div",Gt,[s(te,{color:"grey-lighten-4",class:"pa-6 text-center"},{default:o(()=>[U(" Attachment is empty at the moment. ")]),_:1})])]),_:1}))])]),_:1})]),_:1})]),_:1},8,["validation-schema"]),s(ke,{options:r.value},null,8,["options"])]),_:1},8,["loading"]))}};export{ua as _};

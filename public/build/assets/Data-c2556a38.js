import{a as k,r as y,c as n,w as d,m as x,o as a,d as c,b as s,k as T,e as I,B as V,C as h,D as O,y as p,s as _,t,E as v,p as f,F as S,q as g,n as B}from"./app-10e00396.js";import{S as L}from"./StreamBarcodeReader-79409345.js";import{u as C}from"./formatDate-b9aad8c5.js";import"./_plugin-vue_export-helper-c27b6911.js";const M={class:"v-col-12 v-col-md-5 pb-0"},F=s("small",null,"Recommended mobile / tablet used only",-1),j={class:"text-h6 text-capitalize text-center"},K=s("div",{class:"v-col-4 py-1"},"STATUS:",-1),P={class:"v-col-8 py-1"},Y=s("div",{class:"v-col-4 py-1"},"COMPANY:",-1),z={class:"v-col-8 py-1"},U=s("div",{class:"v-col-4 py-1"},"LOCATION:",-1),q={class:"v-col-8 py-1"},G=s("div",{class:"v-col-4 py-1"},"CATEGORY:",-1),W={class:"v-col-8 py-1"},H=s("div",{class:"v-col-4 py-1"},"ASSET CODE:",-1),J={class:"v-col-8 py-1"},Q=s("div",{class:"v-col-4 py-1"},"ASSET NAME:",-1),X={class:"v-col-8 py-1"},Z=s("div",{class:"v-col-4 py-1"},"BRAND:",-1),$={class:"v-col-8 py-1"},ss=s("div",{class:"v-col-4 py-1"},"MODEL:",-1),ts={class:"v-col-8 py-1"},es=s("div",{class:"v-col-4 py-1"},"SPECIFICATION:",-1),os={class:"v-col-8 py-1"},as=s("div",{class:"v-col-4 py-1"},"SERIAL NO:",-1),cs={class:"v-col-8 py-1"},ls=s("div",{class:"v-col-4 py-1"},"PRICE:",-1),ds={class:"v-col-8 py-1"},is=s("div",{class:"v-col-12 py-1 font-weight-bold"},"WARRANTY",-1),ns=s("div",{class:"v-col-4 py-1"},"VENDOR:",-1),vs={class:"v-col-8 py-1"},_s=s("div",{class:"v-col-4 py-1"},"START DATE:",-1),rs={class:"v-col-8 py-1"},us=s("div",{class:"v-col-4 py-1"},"END DATE:",-1),ys={class:"v-col-8 py-1"},hs=s("div",{class:"v-col-12 py-1 font-weight-bold"},"AMC",-1),ps=s("div",{class:"v-col-4 py-1"},"START DATE:",-1),fs={class:"v-col-8 py-1"},Es=s("div",{class:"v-col-4 py-1"},"END DATE:",-1),ms={class:"v-col-8 py-1"},As=s("div",{class:"v-col-12 py-1 font-weight-bold"},"REMARKS",-1),ws={class:"v-col-12 py-1"},Ts=s("div",{class:"v-col-12 py-1 font-weight-bold"},"MAINTENANCE & INCIDENTS",-1),Ss={key:0,class:"v-col-12 py-4",style:{"background-color":"#e0e0e0"}},gs=s("div",{class:"v-col-4 py-1"},"STATUS:",-1),Cs={class:"v-col-8 py-1 text-uppercase"},Ds=s("div",{class:"v-col-4 py-1"},"SERVICE TYPE:",-1),Ns={class:"v-col-8 py-1"},Rs=s("div",{class:"v-col-4 py-1"},"DATE RECEIVED:",-1),bs={class:"v-col-8 py-1"},ks=s("div",{class:"v-col-4 py-1"},"DATE CLOSED:",-1),xs={class:"v-col-8 py-1"},Is=s("div",{class:"v-col-4 py-1"},"REMARKS:",-1),Vs={class:"v-col-8 py-1 pb-4"},Os={class:"v-col-12 text-center"},Ps={__name:"Data",setup(Bs){const D=k(),e=y({}),i=y({warranty_start_date:"",warranty_end_date:""}),r=y(!1),N=()=>{e.value={},r.value=!0},u=y(""),R=async E=>{u.value=E,await B(D.token).get("/api/fetch/asset-info/by/asset-code/"+E).then(l=>{e.value=l.data,e.value.asset_code&&(r.value=!1,u.value=""),l.data.pivot_warranties.length>0&&(i.value=l.data.pivot_warranties[l.data.pivot_warranties.length-1])}).catch(l=>{var o;((o=l==null?void 0:l.response)==null?void 0:o.status)==401&&(alert("Error: Something went wrong. page will be refresh."),window.location.href=window.location.href)})},b=()=>{console.log("Ready to start scanning barcodes")};return(E,l)=>(a(),n(x,null,{default:d(()=>[c(_,{class:"mb-3 justify-center"},{default:d(()=>[s("div",M,[F,r.value?r.value?(a(),n(T,{key:1,color:"primary",height:"100%",width:"100%",class:"d-flex align-center justify-center rounded-lg"},{default:d(()=>[c(h(L),{onDecode:R,onLoaded:b})]),_:1})):p("",!0):(a(),n(T,{key:0,onClick:N,color:"primary",height:"50",width:"100%",class:"d-flex align-center justify-center rounded-lg"},{default:d(()=>[s("div",j,[I(" CLICK TO START SCAN "),c(V,{class:"ml-2",size:"large",icon:h(O)},null,8,["icon"])])]),_:1}))])]),_:1}),e.value.asset_code?(a(),n(_,{key:0,style:{"max-width":"600px"},class:"mx-auto"},{default:d(()=>[K,s("div",P,t(e.value.status?e.value.status.title:""),1),Y,s("div",z,t(e.value.company?e.value.company.title:""),1),U,s("div",q,t(e.value.location?e.value.location.title:""),1),G,s("div",W,t(e.value.category?e.value.category.title:""),1),H,s("div",J,t(e.value.asset_code),1),Q,s("div",X,t(e.value.asset_name),1),c(v),Z,s("div",$,t(e.value.brand),1),ss,s("div",ts,t(e.value.model),1),es,s("div",os,t(e.value.specification),1),as,s("div",cs,t(e.value.serial_number),1),ls,s("div",ds,t(e.value.price),1),c(v),is,ns,s("div",vs,t(i.value.vendor?i.value.vendor.title:""),1),_s,s("div",rs,t(i.value.warranty_start_date),1),us,s("div",ys,t(i.value.warranty_end_date),1),c(v),hs,ps,s("div",fs,t(i.value.warranty_end_date),1),Es,s("div",ms,t(i.value.warranty_start_date),1),c(v),As,s("div",ws,t(e.value.remarks),1),c(v),Ts,e.value.incidents.length>0?(a(),f("div",Ss,[(a(!0),f(S,null,g(e.value.incidents,(o,Ls)=>(a(),n(_,{key:o.id},{default:d(()=>{var m,A;return[gs,s("div",Cs,t((m=o.status)==null?void 0:m.title),1),Ds,s("div",Ns,t((A=o.type)==null?void 0:A.title),1),Rs,s("div",bs,t(h(C)(o.created_at)),1),ks,s("div",xs,t(o.date_closed?h(C)(o.date_closed):""),1),Is,s("div",Vs,[c(_,null,{default:d(()=>[(a(!0),f(S,null,g(o.remarks,w=>(a(),f("div",{class:"v-col-12 py-1",key:w.id}," - "+t(w.remarks),1))),128))]),_:2},1024)]),c(v)]}),_:2},1024))),128))])):p("",!0)]),_:1})):p("",!0),u.value?(a(),n(_,{key:1},{default:d(()=>[s("div",Os," Asset Code: "+t(u.value)+" not in the system. ",1)]),_:1})):p("",!0)]),_:1}))}};export{Ps as default};

import{I as de,a as me,r as h,J as te,n as Q,o as u,c as x,w as o,b as e,E as i,j as F,e as U,d as s,D as ee,ab as pe,y as z,k as L,x as ae,p as S,F as B,q as E,t as m,ah as we,P as G,X as oe,V as ve,U as _e,f as fe,s as $,L as J,Y as ye,Z as ge,W as ne,u as ue,ai as Ce,T as Se,i as C,a0 as D,R as K,_ as Ue,S as H}from"./app-f4806d66.js";import{F as Ve,c as Ae,a as j,b as M}from"./index.esm-ba61a236.js";import{_ as be}from"./AppSnackBar-4877f41b.js";import{_ as De}from"./Studio-6f31cc40.js";import{d as X}from"./dayjs.min-84cc949b.js";import{u as ie,a as ce}from"./formatDate-b9aad8c5.js";import{u as Me,a as $e}from"./locations-859d29f9.js";import{u as ze}from"./categories-dd084f7d.js";import{u as Ye}from"./vendors-c209e530.js";import{u as Ne}from"./status-7647857a.js";const je={class:"v-col-12 pt-0 pb-2"},Ie=e("thead",null,[e("tr",null,[e("th",{class:"text-left text-primary"},"#"),e("th",{class:"text-left text-primary"},"Image"),e("th",{class:"text-left text-primary"},"Title"),e("th",{class:"text-left text-primary"},"Vendor"),e("th",{class:"text-left text-primary"}," Warranty Start "),e("th",{class:"text-left text-primary"},"Warranty End"),e("th",{class:"text-left text-primary"},"AMC Start"),e("th",{class:"text-left text-primary"},"AMC End")])],-1),Re=["onClick"],qe=["onClick"],Oe=["onClick"],Pe=["onClick"],We=["onClick"],Fe=["onClick"],Le=["onClick"],Te={class:"v-col-12 v-col-md-12 pt-0 pb-2"},Be={class:"v-col-12 pt-0 pb-2 d-flex justify-end"},Ee={style:{height:"680px",width:"100%"},class:"d-flex align-center justify-center"},Ke={__name:"AssetWarranties",props:{page:{type:String,default:"add"},asset:{type:Object,default:null}},setup(q){const v=q,Y=de(),I=me(),N=h(window.location.origin),t=h({}),r=h({status:!1,action:"add",loading:!1,data:{}}),y=h([]);te(()=>v.asset,w=>{y.value=w.pivot_warranties,W()});const g=h(!1),d=h([]),A=h(1),V=(w,b)=>{d.value=w,A.value=b,g.value=!0},O=h(0),f=(w=null)=>{r.value.status=!0,w?(r.value.action="edit",r.value.data=Object.assign({},w),O.value=w.id):(r.value.action="add",r.value.data={})},P=async()=>{r.value.loading=!0;let w={id:r.value.data.id,asset_id:Y.params.id,warranty_id:r.value.data.warranty_id,old_warranty_id:O.value};await Q(I.token).post("/api/asset/save-warranty",w).then(b=>{R().then(()=>{t.value={status:!0,type:"success",text:b.data.message},r.value.loading=!1,r.value.status=!1})}).catch(b=>{r.value.loading=!1,t.value={status:!0,type:"eroor",text:"Error while saving warranty"},console.log("err",b)})},T=h([]),W=()=>{Q(I.token).get("/api/fetch-warranties/non-paginated").then(w=>{T.value=w.data}).catch(w=>{r.value.loading=!1})},R=async()=>{await Q(I.token).get("/api/asset/warranty/"+Y.params.id).then(w=>{y.value=w.data,r.value.loading=!1}).catch(w=>{r.value.loading=!1})};return(w,b)=>(u(),x($,null,{default:o(()=>[e("div",je,[i(Y).name!="view-asset"?(u(),x(F,{key:0,onClick:b[0]||(b[0]=()=>f()),class:"mb-3",size:"small"},{default:o(()=>[U(" New Warranty "),s(ee,{class:"ml-2",icon:i(pe)},null,8,["icon"])]),_:1})):z("",!0),s(L,null,{default:o(()=>{var k;return[s(ae,{density:"compact"},{default:o(()=>[Ie,e("tbody",null,[(u(!0),S(B,null,E(y.value,(p,Z)=>(u(),S("tr",{key:p.id,class:"cursor-pointer table-cell-hover"},[e("td",{onClick:()=>f(p)},m(Z+1),9,Re),e("td",null,[p.attachment.length>0?(u(),x(ee,{key:0,icon:i(we),color:"success",onClick:re=>V(p.attachment,Z)},null,8,["icon","onClick"])):z("",!0)]),e("td",{onClick:()=>f(p)},m(p.warranty_title),9,qe),e("td",{onClick:()=>f(p)},m(p.vendor&&p.vendor.title),9,Oe),e("td",{onClick:()=>f(p)},m(p.warranty_start_date&&p.warranty_start_date!="0000-00-00"?i(X)(p.warranty_start_date).format("MMM. DD, YYYY"):""),9,Pe),e("td",{onClick:()=>f(p)},m(p.warranty_end_date&&p.warranty_end_date!="0000-00-00"?i(X)(p.warranty_end_date).format("MMM. DD, YYYY"):""),9,We),e("td",{onClick:()=>f(p)},m(p.amc_start_date&&p.amc_start_date!="0000-00-00"?i(X)(p.amc_start_date).format("MMM. DD, YYYY"):""),9,Fe),e("td",{onClick:()=>f(p)},m(p.amc_end_date&&p.amc_end_date!="0000-00-00"?i(X)(p.amc_end_date).format("MMM. DD, YYYY"):""),9,Le)]))),128))])]),_:1}),((k=y.value)==null?void 0:k.length)==0?(u(),x(G,{key:0,class:"pa-3 text-center"},{default:o(()=>[U("No record at the moment")]),_:1})):z("",!0)]}),_:1})]),s(oe,{modelValue:r.value.status,"onUpdate:modelValue":b[3]||(b[3]=k=>r.value.status=k),persistent:"",width:"600"},{default:o(()=>[s(L,null,{default:o(()=>[s(ve,{class:"text-capitalize mb-3 d-flex justify-space-between align-center"},{default:o(()=>[U(m(r.value.action+" Warranty")+" ",1),s(F,{icon:i(_e),variant:"flat",size:"small",onClick:b[1]||(b[1]=k=>r.value.status=!1)},null,8,["icon"])]),_:1}),s(fe,null,{default:o(()=>[s(i(Ve),{as:"v-form"},{default:o(()=>[s($,{class:"mb-0"},{default:o(()=>[e("div",Te,[s(J,{modelValue:r.value.data.warranty_id,"onUpdate:modelValue":b[2]||(b[2]=k=>r.value.data.warranty_id=k),items:T.value,"item-title":"warranty_title","item-value":"id",label:"Select Warranty",density:"compact",variant:"outlined"},null,8,["modelValue","items"])]),e("div",Be,[s(F,{color:"primary",loading:r.value.loading,onClick:P,disabled:!r.value.data.warranty_id},{default:o(()=>[U("Save")]),_:1},8,["loading","disabled"])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),s(oe,{modelValue:g.value,"onUpdate:modelValue":b[5]||(b[5]=k=>g.value=k),width:"95%","max-width":"900"},{default:o(()=>[s(L,{class:"bg-black"},{default:o(()=>[s(ye,{"hide-delimiter-background":"","show-arrows":"hover",height:"680px",modelValue:A.value,"onUpdate:modelValue":b[4]||(b[4]=k=>A.value=k)},{default:o(()=>[(u(!0),S(B,null,E(d.value,(k,p)=>(u(),x(ge,{key:p,"reverse-transition":"fade",transition:"fade"},{default:o(()=>[e("div",Ee,[s(ne,{src:N.value+"/file/"+k.path},null,8,["src"])])]),_:2},1024))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue"]),s(be,{options:t.value},null,8,["options"])]),_:1}))}},He={class:"v-col-12 pt-0 pb-2"},Je=e("thead",null,[e("tr",null,[e("th",{class:"text-left text-primary"},"ISR ID"),e("th",{class:"text-left text-primary"},"Urgency"),e("th",{class:"text-left text-primary"},"Priority"),e("th",{class:"text-left text-primary"},"Reported by"),e("th",{class:"text-left text-primary"},"Handled by"),e("th",{class:"text-left text-primary"},"Date Reported"),e("th",{class:"text-left text-primary"},"Date Completed"),e("th",{class:"text-left text-primary"},"Status"),e("th",{class:"text-left text-primary"})])],-1),Xe={__name:"AssetMaintenances",props:{asset:{type:Object,default:null}},setup(q){const v=q,Y=ue(),I=de(),N=()=>{Y.push({name:"NewMaintenance",query:{type:"details",asset_code:g.value.asset_code,asset_id:g.value.id,comp:g.value.company_id,loc:g.value.location_id,title:g.value.asset_name}})},t=d=>{Y.push({name:"EditMaintenance",params:{id:d},query:{type:"details",pd:"ox2rKaIYFhBOQW31j6kkiMrJ4KfnYpLmwJhMzBFwPBlVjgGR4g",v:1,vv:"xK2sX1sDL1BBAvmuoPpWoNRgc4wzbdZ9F2OXAKrS3N2g65xNgy"}}).catch(A=>{console.log(A)})},r=d=>d?d==1?"Normal":d==2?"Medium":"High":"",y=(d,A=5)=>{let V="0000"+d;return V.substring(V.length-A)},g=h({});return te(()=>v.asset,(d,A)=>{g.value=d,console.log("assetDetail.value",g.value)},{deep:!0}),(d,A)=>(u(),x($,null,{default:o(()=>[e("div",He,[g.value.status_id!=2&&i(I).name!="view-asset"?(u(),x(F,{key:0,onClick:N,class:"mb-3",size:"small"},{default:o(()=>[U(" New Maintenance "),s(ee,{class:"ml-2",icon:i(pe)},null,8,["icon"])]),_:1})):z("",!0),s(L,null,{default:o(()=>[s(ae,{density:"compact"},{default:o(()=>[Je,e("tbody",null,[(u(!0),S(B,null,E(v.asset.maintenance,(V,O)=>{var f,P,T;return u(),S("tr",{key:V.id},[e("td",null,"ISR-2"+m(y(V.id)),1),e("td",null,m(r(V.urgency)),1),e("td",null,m(r(V.priority)),1),e("td",null,m((f=V.profile)==null?void 0:f.display_name),1),e("td",null,m((P=V.handle_by)==null?void 0:P.display_name),1),e("td",null,m(i(ie)(V.created_at)),1),e("td",null,m(V.date_closed?i(ie)(V.date_closed):""),1),e("td",null,m((T=V.status)==null?void 0:T.title),1),e("td",null,[s(F,{color:"info",size:"x-small",onClick:W=>t(V.id)},{default:o(()=>[U("Details")]),_:2},1032,["onClick"])])])}),128))])]),_:1}),v.asset.maintenance&&v.asset.maintenance.length==0?(u(),x(G,{key:0,class:"pa-3 text-center"},{default:o(()=>[U("No record at the moment")]),_:1})):z("",!0)]),_:1})])]),_:1}))}},Ge={class:"v-col-12 pt-0 pb-2"},Ze=e("thead",null,[e("tr",null,[e("th",{class:"text-left text-primary"},"ISR ID"),e("th",{class:"text-left text-primary"},"Urgency"),e("th",{class:"text-left text-primary"},"Priority"),e("th",{class:"text-left text-primary"},"Reported by"),e("th",{class:"text-left text-primary"},"Handled by"),e("th",{class:"text-left text-primary"},"Date Reported"),e("th",{class:"text-left text-primary"},"Date Completed"),e("th",{class:"text-left text-primary"},"Status")])],-1),Qe=["onClick"],et={__name:"AssetIncidents",props:{asset:{type:Object,default:null}},setup(q){const v=q,Y=ue(),I=y=>{Y.push({name:"EditIncident",params:{id:y},query:{type:"details"}}).catch(g=>{console.log(g)})},N=y=>y?y==1?"Normal":y==2?"Medium":"High":"",t=(y,g=5)=>{let d="0000"+y;return d.substring(d.length-g)},r=h({});return te(()=>v.asset,(y,g)=>{r.value=y,console.log("assetDetail.value",r.value)},{deep:!0}),(y,g)=>(u(),x($,null,{default:o(()=>[e("div",Ge,[s(L,null,{default:o(()=>[s(ae,{density:"compact"},{default:o(()=>[Ze,e("tbody",null,[(u(!0),S(B,null,E(v.asset.incidents,(d,A)=>{var V,O,f,P;return u(),S("tr",{key:d.id},[e("td",{class:"text-decoration-underline d-flex align-center cursor-pointer",onClick:T=>I(d.id)},[U(" ISR-2"+m(t(d.id))+" ",1),s(ee,{class:"ml-1",size:"small",icon:i(Ce)},null,8,["icon"])],8,Qe),e("td",null,m(d.urgency.title),1),e("td",null,m(d.priority?N(d.priority):"-"),1),e("td",null,m((V=d.profile)==null?void 0:V.display_name),1),e("td",null,m((O=d.handle_by)!=null&&O.display_name?(f=d.handle_by)==null?void 0:f.display_name:"-"),1),e("td",null,m(d.created_at?i(X)(d.created_at).format("MMM. DD, YYYY"):"-"),1),e("td",null,m(d.date_closed?i(X)(d.date_closed).format("MMM. DD, YYYY"):"-"),1),e("td",null,m((P=d.status)==null?void 0:P.title),1)])}),128))])]),_:1}),v.asset.incidents&&v.asset.incidents.length==0?(u(),x(G,{key:0,class:"pa-3 text-center"},{default:o(()=>[U("No record at the moment")]),_:1})):z("",!0)]),_:1})])]),_:1}))}},tt={class:"v-col-12 pt-0 pb-2"},at=e("thead",null,[e("tr",null,[e("th",{class:"text-left text-primary"},"#"),e("th",{class:"text-left text-primary"},"Transferred from"),e("th",{class:"text-left text-primary"},"Remarks"),e("th",{class:"text-left text-primary"},"Date")])],-1),lt={__name:"AssetAllotedLocations",props:{asset:{type:Object,default:null}},setup(q){const v=q;return(Y,I)=>(u(),x($,null,{default:o(()=>[e("div",tt,[s(L,null,{default:o(()=>[s(ae,{density:"compact"},{default:o(()=>[at,e("tbody",null,[(u(!0),S(B,null,E(v.asset.allotted_informations,(N,t)=>{var r;return u(),S("tr",{key:N.id},[e("td",null,m(t+1),1),e("td",null,m((r=N.location)==null?void 0:r.title),1),e("td",null,m(N.remarks),1),e("td",null,m(i(ie)(N.created_at)),1)])}),128))])]),_:1}),v.asset.allotted_informations&&v.asset.allotted_informations.length==0?(u(),x(G,{key:0,class:"pa-3 text-center"},{default:o(()=>[U("No record at the moment")]),_:1})):z("",!0)]),_:1})])]),_:1}))}},st={class:"text-primary text-capitalize"},ot={class:"d-flex align-center"},nt=e("div",{class:"v-col-12 font-weight-bold"},"Asset Info",-1),it={class:"v-col-12 v-col-md-6 pt-0 pb-2"},dt={class:"v-col-12 v-col-md-6 pt-0 pb-2"},ut={class:"v-col-12 v-col-md-6 pt-0 pb-2"},rt={class:"v-col-12 v-col-md-6 pt-0 pb-2"},ct={class:"v-col-12 v-col-md-6 pt-0 pb-2"},mt={class:"v-col-12 v-col-md-6 pt-0 pb-2"},pt={class:"v-col-12 v-col-md-6 pt-0 pb-2"},vt={class:"v-col-12 v-col-md-6 pt-0 pb-2"},_t={key:0,class:"v-col-12 pt-0 font-weight-bold"},ft={key:1,class:"v-col-12 pt-0"},yt={class:"v-col-12 pt-0 text-capitalize"},gt={class:"v-col-12"},Vt={key:0,class:"v-col-12 pt-0 d-flex justify-space-between"},bt=e("br",null,null,-1),ht={class:"v-col-12 v-col-md-6 pt-0 pb-2"},xt={class:"v-col-12 v-col-md-6 pt-0 pb-2"},kt={class:"v-col-12 v-col-md-6 pt-0 pb-2"},wt={class:"v-col-12 v-col-md-6 pt-0 pb-2"},Ct={class:"v-col-12 v-col-md-12 pt-0 pb-2"},St={class:"v-col-12"},Ut={class:"v-col-12 v-col-md-6 pt-0 pb-2"},At={class:"v-col-12 v-col-md-6 pt-0 pb-2"},Dt={class:"v-col-12 v-col-md-6 pt-0 pb-2"},Mt={class:"v-col-12 v-col-md-6 pt-0 pb-2"},$t={class:"v-col-12"},zt={class:"v-col-12 v-col-md-6 pt-0 pb-2"},Yt={class:"v-col-12 v-col-md-6 pt-0 pb-2"},Nt={class:"v-col-12 v-col-md-6 pt-0 pb-2"},jt={class:"v-col-12 v-col-md-6 pt-0 pb-2"},It={class:"v-col-12 v-col-md-6 pt-0 pb-2"},Rt={class:"v-col-12 v-col-md-6 pt-0 pb-2"},qt={class:"v-col-12 mb-6"},Ot={class:"v-col-12 mb-6"},Pt={class:"v-col-12 mb-6"},Wt={class:"v-col-12 mb-6"},Ft=e("div",{class:"v-col-12 pt-0 font-weight-bold"},"Attachment",-1),Lt={class:"v-col-12 pt-0"},Tt={class:"v-col-12 pb-2"},Bt={style:{height:"680px",width:"100%"},class:"d-flex align-center justify-center"},Et={class:"v-col-12 pt-0 pb-2"},la={__name:"AssetForm",props:{page:{type:String,default:"add"},asset:{type:Object,default:null}},setup(q){const v=q,Y=ue(),I=de(),N=h(["specification","purchase","financial","warranty","allotted","maintenance","incident"]),t=h({}),r=h({}),y=me(),g=Me();g.list.length==0&&g.getCompanies(y.token);const d=ze();d.list.length==0&&d.getCategories(y.token);const A=$e();A.list.length==0&&A.getLocations(y.token);const V=Ye();V.list.length==0&&V.getVendors(y.token);const O=h(window.location.origin),f=h("specification"),P=c=>{f.value=c};let T=Ae({Name:j().required().max(150),"Serial Number":j().max(80).nullable(),"Asset Code":j().max(50).nullable(),"Section code":j().max(30).nullable(),Category:j().required(),Company:j().required(),Location:j().required(),"Asset Status":j().required(),Specification:j().max(120).nullable(),Brand:j().required(),Model:j().required(),Condition:j().required()});const W=h(!1),R=h([]),w=Se(()=>R.value.map(c=>c.id)),b=c=>{t.value=Object.assign({},c),R.value=c&&c.attachments?Object.assign([],c.attachments):[],c&&c.financial_information&&(t.value.capitalization_price=c.financial_information.capitalization_price,t.value.depreciation_percentage=c.financial_information.depreciation_percentage,t.value.scrap_value=c.financial_information.scrap_value,t.value.scrap_date=c.financial_information.scrap_date,t.value.capitalization_date=c.financial_information.capitalization_date,t.value.end_of_life=c.financial_information.end_of_life),console.log("assetObj.value",c)};b(v.asset),te(()=>v.asset,c=>{b(c)});const k=Ne();(k.list.length==0||k.conditions.length==0)&&k.getStatuses(y.token);const p=()=>{Y.go(-1)},Z=async()=>{W.value=!0,t.value.file_ids=w.value,t.value.company_code=g.list.filter(c=>c.id==t.value.company_id)[0].code,t.value.category_code=d.list.filter(c=>c.id==t.value.category_id)[0].code,t.value.financial_information_id=t.value.financial_information?t.value.financial_information.id:null,await Q(y.token).post("/api/asset/save",t.value).then(c=>{r.value={status:!0,type:"success",text:c.data.message},W.value=!1,v.page=="add"&&Y.push({name:"edit-asset",params:{id:c.data.asset.id}}).catch(l=>{console.log("router.push",l)})}).catch(c=>{console.log("saveAsset",c),r.value={status:!0,type:"error",text:"Error while saving asset"},W.value=!1})},re=c=>{let l=null;c.map(a=>{l=R.value.find(n=>n.id==a.id),l||R.value.push(a)})},le=h(!1),se=h(1),he=c=>{se.value=c,le.value=!0},xe=c=>{R.value=R.value.filter(l=>l.id!==c)};return(c,l)=>(u(),x(L,{loading:W.value,"max-width":"1600px",class:"mx-auto elevation-0"},{default:o(()=>[s(i(Ve),{as:"v-form","validation-schema":i(T)},{default:o(()=>[s(ve,{class:"pb-6 pt-3 d-flex align-center justify-space-between"},{default:o(()=>[e("div",st,m(v.page+" Asset"),1),e("div",ot,[s(F,{color:"primary",class:"mr-4",loading:W.value,onClick:p},{default:o(()=>[U("Cancel")]),_:1},8,["loading"]),i(I).name!="view-asset"?(u(),x(F,{key:0,color:"primary",loading:W.value,onClick:Z},{default:o(()=>[U("Save")]),_:1},8,["loading"])):z("",!0)])]),_:1}),s(fe,null,{default:o(()=>[s($,null,{default:o(()=>[nt,e("div",it,[s(i(M),{name:"Name",modelValue:t.value.asset_name,"onUpdate:modelValue":l[1]||(l[1]=a=>t.value.asset_name=a)},{default:o(({field:a,errors:n})=>[s(C,D({modelValue:t.value.asset_name,"onUpdate:modelValue":l[0]||(l[0]=_=>t.value.asset_name=_)},a,{label:"Name*",variant:"outlined",density:"compact","error-messages":n}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])]),e("div",dt,[s(i(M),{name:"Serial Number",modelValue:t.value.serial_number,"onUpdate:modelValue":l[3]||(l[3]=a=>t.value.serial_number=a)},{default:o(({field:a,errors:n})=>[s(C,D({modelValue:t.value.serial_number,"onUpdate:modelValue":l[2]||(l[2]=_=>t.value.serial_number=_)},a,{label:"Serial Number(Optional)",variant:"outlined",density:"compact","error-messages":n}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])]),e("div",ut,[s(i(M),{name:"Section code",modelValue:t.value.section_code,"onUpdate:modelValue":l[5]||(l[5]=a=>t.value.section_code=a)},{default:o(({field:a,errors:n})=>[s(C,D({modelValue:t.value.section_code,"onUpdate:modelValue":l[4]||(l[4]=_=>t.value.section_code=_)},a,{label:"Section code (optional)",variant:"outlined",density:"compact","error-messages":n}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])]),e("div",rt,[s(J,{modelValue:t.value.category_id,"onUpdate:modelValue":l[6]||(l[6]=a=>t.value.category_id=a),items:i(d).list,"item-title":"title","item-value":"id",label:"Category*",density:"compact",variant:"outlined",rules:[a=>!!a||"Category is required"]},null,8,["modelValue","items","rules"])]),e("div",ct,[s(J,{modelValue:t.value.company_id,"onUpdate:modelValue":l[7]||(l[7]=a=>t.value.company_id=a),items:i(g).list,"item-title":"title","item-value":"id",label:"Company*",density:"compact",variant:"outlined",rules:[a=>!!a||"Company is required"]},null,8,["modelValue","items","rules"])]),e("div",mt,[s(J,{modelValue:t.value.location_id,"onUpdate:modelValue":l[8]||(l[8]=a=>t.value.location_id=a),items:i(A).list,"item-title":"title","item-value":"id",label:"Location*",density:"compact",variant:"outlined",rules:[a=>!!a||"Location is required"]},null,8,["modelValue","items","rules"])]),e("div",pt,[s(i(M),{name:"Asset Code",modelValue:t.value.asset_code,"onUpdate:modelValue":l[10]||(l[10]=a=>t.value.asset_code=a)},{default:o(({field:a,errors:n})=>[s(C,D({readonly:"",modelValue:t.value.asset_code,"onUpdate:modelValue":l[9]||(l[9]=_=>t.value.asset_code=_)},a,{label:"Asset Code (Auto Generated)",variant:"outlined",density:"compact","error-messages":n}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])]),e("div",vt,[s(J,{modelValue:t.value.status_id,"onUpdate:modelValue":l[11]||(l[11]=a=>t.value.status_id=a),items:i(k).assets,disabled:t.value.status_id==2,"item-title":"title","item-value":"id",label:"Asset Status*",density:"compact",variant:"outlined",rules:[a=>!!a||"Asset Status is required"]},null,8,["modelValue","items","disabled","rules"])])]),_:1}),s($,null,{default:o(()=>[v.page=="edit"||v.page=="view"?(u(),S("div",_t," Additional Info ")):z("",!0),v.page=="edit"||v.page=="view"?(u(),S("div",ft,[(u(!0),S(B,null,E(N.value,(a,n)=>(u(),x(F,{key:n,class:"mr-2 mb-2",onClick:()=>P(a),color:f.value==a?"primary":"white"},{default:o(()=>[U(m(a),1)]),_:2},1032,["onClick","color"]))),128))])):z("",!0),e("div",yt,m(f.value+" Information"),1),K(e("div",gt,[s($,null,{default:o(()=>{var a;return[v.page=="edit"||v.page=="view"?(u(),S("div",Vt,[e("div",null,[U("Date Created: "+m(i(ce)(t.value.created_at)),1),bt,U(" Date Updated: "+m(i(ce)(t.value.updated_at)),1)]),e("div",null,"UpdatedBy: "+m((a=t.value.last_updated_by)==null?void 0:a.display_name),1)])):z("",!0),e("div",ht,[s(i(M),{name:"Specification",modelValue:t.value.specification,"onUpdate:modelValue":l[13]||(l[13]=n=>t.value.specification=n)},{default:o(({field:n,errors:_})=>[s(C,D({modelValue:t.value.specification,"onUpdate:modelValue":l[12]||(l[12]=ke=>t.value.specification=ke)},n,{label:"Specification*",variant:"outlined",density:"compact","error-messages":_}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])]),e("div",xt,[s(C,{modelValue:t.value.model,"onUpdate:modelValue":l[14]||(l[14]=n=>t.value.model=n),label:"Model*",variant:"outlined",density:"compact"},null,8,["modelValue"])]),e("div",kt,[s(C,{modelValue:t.value.brand,"onUpdate:modelValue":l[15]||(l[15]=n=>t.value.brand=n),label:"Brand*",variant:"outlined",density:"compact"},null,8,["modelValue"])]),e("div",wt,[s(J,{modelValue:t.value.condition_id,"onUpdate:modelValue":l[16]||(l[16]=n=>t.value.condition_id=n),items:i(k).conditions,"item-title":"title","item-value":"id",label:"Condition*",density:"compact",variant:"outlined",rules:[n=>!!n||"Condition is required"]},null,8,["modelValue","items","rules"])]),e("div",Ct,[s(Ue,{modelValue:t.value.remarks,"onUpdate:modelValue":l[17]||(l[17]=n=>t.value.remarks=n),label:"Asset Remarks",density:"compact",variant:"outlined",rows:"2"},null,8,["modelValue"])])]}),_:1})],512),[[H,f.value=="specification"]]),K(e("div",St,[s($,null,{default:o(()=>[e("div",Ut,[s(i(M),{name:"Price",modelValue:t.value.price,"onUpdate:modelValue":l[19]||(l[19]=a=>t.value.price=a)},{default:o(({field:a,errors:n})=>[s(C,D({modelValue:t.value.price,"onUpdate:modelValue":l[18]||(l[18]=_=>t.value.price=_)},a,{label:"Price",variant:"outlined",density:"compact","error-messages":n}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])]),e("div",At,[s(J,{modelValue:t.value.vendor_id,"onUpdate:modelValue":l[20]||(l[20]=a=>t.value.vendor_id=a),items:i(V).list,"item-title":"title","item-value":"id",label:"Vendor",density:"compact",variant:"outlined",rules:[a=>!!a||"Vendor is required"]},null,8,["modelValue","items","rules"])]),e("div",Dt,[s(i(M),{name:"PO Number",modelValue:t.value.po_number,"onUpdate:modelValue":l[22]||(l[22]=a=>t.value.po_number=a)},{default:o(({field:a,errors:n})=>[s(C,D({modelValue:t.value.po_number,"onUpdate:modelValue":l[21]||(l[21]=_=>t.value.po_number=_)},a,{label:"PO Number",variant:"outlined",density:"compact","error-messages":n}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])]),e("div",Mt,[s(i(M),{name:"Purchase Date",modelValue:t.value.purchased_date,"onUpdate:modelValue":l[24]||(l[24]=a=>t.value.purchased_date=a)},{default:o(({field:a,errors:n})=>[s(C,D({type:"date",modelValue:t.value.purchased_date,"onUpdate:modelValue":l[23]||(l[23]=_=>t.value.purchased_date=_)},a,{label:"Purchase Date",variant:"outlined",density:"compact","error-messages":n}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])])]),_:1})],512),[[H,f.value=="purchase"]]),K(e("div",$t,[s($,null,{default:o(()=>[e("div",zt,[s(i(M),{name:"Capitalization Price",modelValue:t.value.capitalization_price,"onUpdate:modelValue":l[26]||(l[26]=a=>t.value.capitalization_price=a)},{default:o(({field:a,errors:n})=>[s(C,D({modelValue:t.value.capitalization_price,"onUpdate:modelValue":l[25]||(l[25]=_=>t.value.capitalization_price=_)},a,{label:"Capitalization Price",variant:"outlined",density:"compact","error-messages":n}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])]),e("div",Yt,[s(i(M),{name:"Depreciation Percentage",modelValue:t.value.depreciation_percentage,"onUpdate:modelValue":l[28]||(l[28]=a=>t.value.depreciation_percentage=a)},{default:o(({field:a,errors:n})=>[s(C,D({modelValue:t.value.depreciation_percentage,"onUpdate:modelValue":l[27]||(l[27]=_=>t.value.depreciation_percentage=_)},a,{label:"Depreciation Percentage",variant:"outlined",density:"compact","error-messages":n}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])]),e("div",Nt,[s(i(M),{name:"Scrap Value",modelValue:t.value.scrap_value,"onUpdate:modelValue":l[30]||(l[30]=a=>t.value.scrap_value=a)},{default:o(({field:a,errors:n})=>[s(C,D({modelValue:t.value.scrap_value,"onUpdate:modelValue":l[29]||(l[29]=_=>t.value.scrap_value=_)},a,{label:"Scrap Value",variant:"outlined",density:"compact","error-messages":n}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])]),e("div",jt,[s(i(M),{name:"Scrap Date",modelValue:t.value.scrap_date,"onUpdate:modelValue":l[32]||(l[32]=a=>t.value.scrap_date=a)},{default:o(({field:a,errors:n})=>[s(C,D({type:"date",modelValue:t.value.scrap_date,"onUpdate:modelValue":l[31]||(l[31]=_=>t.value.scrap_date=_)},a,{label:"Scrap Date",variant:"outlined",density:"compact","error-messages":n}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])]),e("div",It,[s(i(M),{name:"Capitalization Date",modelValue:t.value.capitalization_date,"onUpdate:modelValue":l[34]||(l[34]=a=>t.value.capitalization_date=a)},{default:o(({field:a,errors:n})=>[s(C,D({type:"date",modelValue:t.value.capitalization_date,"onUpdate:modelValue":l[33]||(l[33]=_=>t.value.capitalization_date=_)},a,{label:"Capitalization Date",variant:"outlined",density:"compact","error-messages":n}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])]),e("div",Rt,[s(i(M),{name:"End of Life",modelValue:t.value.end_of_life,"onUpdate:modelValue":l[36]||(l[36]=a=>t.value.end_of_life=a)},{default:o(({field:a,errors:n})=>[s(C,D({type:"date",modelValue:t.value.end_of_life,"onUpdate:modelValue":l[35]||(l[35]=_=>t.value.end_of_life=_)},a,{label:"End of Life",density:"compact",variant:"outlined","error-messages":n}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])])]),_:1})],512),[[H,f.value=="financial"]]),K(e("div",qt,[v.page!="add"?(u(),x(Ke,{key:0,asset:t.value,page:v.page},null,8,["asset","page"])):z("",!0)],512),[[H,f.value=="warranty"]]),K(e("div",Ot,[s(lt,{asset:t.value},null,8,["asset"])],512),[[H,f.value=="allotted"]]),K(e("div",Pt,[s(Xe,{asset:t.value},null,8,["asset"])],512),[[H,f.value=="maintenance"]]),K(e("div",Wt,[s(et,{asset:t.value},null,8,["asset"])],512),[[H,f.value=="incident"]]),Ft,e("div",Lt,[s($,null,{default:o(()=>[e("div",Tt,[i(I).name!="view-asset"?(u(),x(De,{key:0,options:{multiSelect:!0},onSelect:re})):z("",!0)])]),_:1}),R.value.length>0?(u(),x($,{key:0,class:"px-1"},{default:o(()=>[(u(!0),S(B,null,E(R.value,(a,n)=>(u(),S("div",{key:a.id,class:"v-col-12 v-col-md-2 pa-2",style:{position:"relative"}},[s(F,{style:{position:"absolute",top:"0",right:"0","z-index":"1"},icon:i(_e),size:"26px",color:"error",onClick:()=>xe(a.id)},null,8,["icon","onClick"]),s(L,{onClick:()=>he(n)},{default:o(()=>[s(ne,{src:O.value+"/file/"+a.path,cover:"","aspect-ratio":"1"},null,8,["src"])]),_:2},1032,["onClick"])]))),128)),s(oe,{modelValue:le.value,"onUpdate:modelValue":l[38]||(l[38]=a=>le.value=a),width:"95%","max-width":"900"},{default:o(()=>[s(L,{class:"bg-black"},{default:o(()=>[s(ye,{"hide-delimiter-background":"","show-arrows":"hover",height:"680px",modelValue:se.value,"onUpdate:modelValue":l[37]||(l[37]=a=>se.value=a)},{default:o(()=>[(u(!0),S(B,null,E(R.value,(a,n)=>(u(),x(ge,{key:n,"reverse-transition":"fade",transition:"fade"},{default:o(()=>[e("div",Bt,[s(ne,{src:O.value+"/file/"+a.path},null,8,["src"])])]),_:2},1024))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])]),_:1})):(u(),x($,{key:1},{default:o(()=>[e("div",Et,[s(G,{color:"grey-lighten-4",class:"pa-6 text-center"},{default:o(()=>[U(" Attachment is empty at the moment. ")]),_:1})])]),_:1}))])]),_:1})]),_:1})]),_:1},8,["validation-schema"]),s(be,{options:r.value},null,8,["options"])]),_:1},8,["loading"]))}};export{la as _};

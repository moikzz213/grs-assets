import{r as l,G as B,u as L,c as F,w as t,o as G,b as d,d as s,t as x,V as T,e as _,f as $,C as u,i as w,Y as f,j as q,ar as E,k as z}from"./app-8dc8ca78.js";import{G as S,W}from"./WhiteLogo-9d06dfdf.js";import{c as j,a as y,d as A,F as D,b as V}from"./index.esm-74fea046.js";import"./_plugin-vue_export-helper-c27b6911.js";const O={class:"mx-auto px-3 text-center",style:{"z-index":"1","max-width":"400px",width:"100%","margin-top":"100px"}},Y={class:"text-subtitle-1 text-white"},H={class:"align-center"},X={__name:"ResetPassword",setup(I){var g;const b=l("Grandiose Assets"),h=l("https://ums.gagroup.net"),C=l("grs-asset-wvukt"),m=l(!1),e=l({username:"",password_confirmation:"",password:"",url:C.value}),p=l(!1),n=l(""),P=B(),k=L(),c=l(!0);e.value.username=(g=P.query)==null?void 0:g.ecode,e.value.username&&(c.value=!1);const R=()=>{k.push({path:"/login"})},U=j({password:y().min(5).required(),password_confirmation:y().required().oneOf([A("password")],"Passwords do not match")}),N=async()=>{if(p.value=!1,n.value="",e.value.password==0){n.value="Enter Password",p.value=!0;return}m.value=!0,await axios.post(h.value+"/api/application/reset-password",e.value).then(v=>{e.value={password:"11111111111111111111111",password_confirmation:"11111111111111111111111"},c.value=!0,m.value=!1,n.value=v.data.msg}).catch(v=>{})};return(v,a)=>(G(),F(S,null,{default:t(()=>[d("div",O,[s(W,{width:"100%"}),d("div",Y,x(b.value),1)]),s(z,{class:"mt-8 pa-3 rounded-lg elevation-3",width:"90%","max-width":"450"},{default:t(()=>[s(T,{class:"px-5 pb-0 primary--text"},{default:t(()=>[_("Reset Password")]),_:1}),s($,{class:"py-4"},{default:t(()=>[s(u(D),{as:"v-form","validation-schema":u(U)},{default:t(()=>[s(u(V),{name:"username",modelValue:e.value.username,"onUpdate:modelValue":a[1]||(a[1]=o=>e.value.username=o)},{default:t(({field:o,errors:i})=>[s(w,f({modelValue:e.value.username,"onUpdate:modelValue":a[0]||(a[0]=r=>e.value.username=r)},o,{label:"Employee Code",variant:"outlined",density:"compact",disabled:"disabled"}),null,16,["modelValue"])]),_:1},8,["modelValue"]),s(u(V),{name:"password",modelValue:e.value.password,"onUpdate:modelValue":a[3]||(a[3]=o=>e.value.password=o)},{default:t(({field:o,errors:i})=>[s(w,f({modelValue:e.value.password,"onUpdate:modelValue":a[2]||(a[2]=r=>e.value.password=r)},o,{label:"Set New Password",type:"password",variant:"outlined",density:"compact","error-messages":i}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"]),s(u(V),{name:"password_confirmation",modelValue:e.value.password_confirmation,"onUpdate:modelValue":a[5]||(a[5]=o=>e.value.password_confirmation=o)},{default:t(({field:o,errors:i})=>[s(w,f({modelValue:e.value.password_confirmation,"onUpdate:modelValue":a[4]||(a[4]=r=>e.value.password_confirmation=r)},o,{label:"Confirm New Password",type:"password",variant:"outlined",density:"compact","error-messages":i}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"]),d("div",H,[s(q,{onClick:N,width:"100%",color:"primary",height:"55",large:"",disabled:c.value,loading:m.value},{default:t(()=>[_("Reset Password")]),_:1},8,["disabled","loading"]),d("div",{class:"mt-5",style:{cursor:"pointer"},onClick:R},"back to Login")])]),_:1},8,["validation-schema"]),d("div",{class:E(`${p.value?"text-error":"text-success"}  mt-4 text-center`)},x(n.value),3)]),_:1})]),_:1})]),_:1}))}};export{X as default};

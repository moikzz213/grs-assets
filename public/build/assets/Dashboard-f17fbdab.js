import{a as C,u as A,r as v,c as I,w as a,m as b,n as g,o as d,d as l,b as t,k as h,f as E,e as f,p as c,q as x,t as o,F as y,s as r,v as N,x as m,y as R,z as D,A as V}from"./app-386d9b0f.js";import{_ as k}from"./_plugin-vue_export-helper-c27b6911.js";const w=n=>(D("data-v-af45d30e"),n=n(),V(),n),Q={class:"v-col-12 v-col-md-3 pb-0 scan-barcode"},U={class:"text-h6 text-capitalize"},z={class:"text-capitalize"},B={class:"v-col-12"},F=w(()=>t("thead",null,[t("tr",null,[t("th",{class:"text-left"}," Company "),t("th",{class:"text-left"}," Location "),t("th",{class:"text-left"}," Category "),t("th",{class:"text-left"}," AssetName"),t("th",{class:"text-left"}," AssetCode"),t("th",{class:"text-left"}," Type"),t("th",{class:"text-left"}," Author"),t("th",{class:"text-left"},[f("Update"),t("br"),t("small",null,"DD/MM/YY")])])],-1)),G={key:0},M={class:"text-capitalize"},P={__name:"Dashboard",setup(n){const i=C(),T=A(),p=v([{id:1,title:"PENDING MAINTENANCE"},{id:2,title:"PENDING TICKETS"},{id:3,title:"TRANSFER REQUEST"},{id:4,title:"REQUEST ASSET"}]),_=v([]);(async()=>{await g(i.token).get("/api/dashboard/fetch-query/data?role="+i.user.profile.role+"&id="+i.user.profile.id).then(s=>{_.value=s.data.table,p.value=[{id:1,title:"PENDING MAINTENANCE",value:s.data.count.maintenance},{id:2,title:"PENDING TICKETS",value:s.data.count.incident},{id:3,title:"TRANSFER REQUEST",value:s.data.count.transfer},{id:4,title:"REQUEST ASSET",value:s.data.count.request}]}).catch(s=>{console.log(s)})})();const S=s=>{T.push({name:s}).catch(u=>{console.log(u)})};return(s,u)=>(d(),I(b,null,{default:a(()=>[l(r,{class:"mb-3"},{default:a(()=>[t("div",Q,[l(h,{width:"100%",class:"rounded-lg text-center my-auto py-4",color:"primary",onClick:u[0]||(u[0]=e=>S("Scan"))},{default:a(()=>[l(E,null,{default:a(()=>[f(" SCAN QRCODE ")]),_:1})]),_:1})]),(d(!0),c(y,null,x(p.value,e=>(d(),c("div",{class:"v-col-12 v-col-md-3 pb-0",key:e.id},[l(h,{height:"80",width:"100%",class:"rounded-lg text-center pt-3"},{default:a(()=>[t("div",U,o(e.value),1),t("div",z,o(e.title),1)]),_:2},1024)]))),128))]),_:1}),l(r,null,{default:a(()=>[t("div",B,[l(h,null,{default:a(()=>[l(E,null,{default:a(()=>[l(r,null,{default:a(()=>[l(N,{col:"12",class:"text-body-1"},{default:a(()=>[f("RECENT ACTIVITIES")]),_:1})]),_:1}),l(r,null,{default:a(()=>[l(N,{col:"12"},{default:a(()=>[l(m,{"fixed-header":"",height:"590px"},{default:a(()=>[F,_.value.length>0?(d(),c("tbody",G,[(d(!0),c(y,null,x(_.value,e=>(d(),c("tr",{key:e.id},[t("td",null,o(e.company),1),t("td",null,o(e.location),1),t("td",null,o(e.category),1),t("td",null,o(e.asset_name),1),t("td",null,o(e.asset_code),1),t("td",M,o(e.type),1),t("td",null,o(e.author),1),t("td",null,o(e.date),1)]))),128))])):R("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1})]),_:1}))}},Y=k(P,[["__scopeId","data-v-af45d30e"]]);export{Y as default};

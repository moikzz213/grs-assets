import{i as De,r as J,M as Fe,af as At,b as fe,j as Ce,k as O,l as S,V as Be,m as de,q as Ne,G as Y,f as Se,ag as Mt,z as be,a2 as K,t as We,ah as vt,c as it,F as Rt,d as xt,ai as Ct,aj as St,E as bt,ak as Lt,y as ie,a1 as Pt,A as Ue,K as Ve,al as Ot,R as Gt,L as Vt,O as Dt}from"./app-85a535ad.js";import{c as ke,a as ce,F as ze,b as oe,d as Ft}from"./index.esm-8ca19a7b.js";import{v as Bt}from"./filepond.min-4f5a6daa.js";const Nt={class:"d-flex"},Ut=Se("div",{class:"mb-2 text-body-2 mr-2 mt-2"},"Status",-1),ui={__name:"AccountForm",props:["user"],emits:["saved"],setup(e,{emit:t}){const a=e,n=De(),i=J({loading:!1,data:Object.assign({},a.user)}),s=J(!0);console.log("props.user",a.user),Fe(()=>a.user,m=>{s.value=!1,i.value.data=m});const o=J([{title:"active",color:"success"},{title:"inactive",color:"error"}]),d=At(()=>{let m="";return i.value.data.status=="active"&&(m="success"),i.value.data.status=="inactive"&&(m="error"),m}),c=m=>{console.log("selected",m),i.value.data.status=m},g=J([{title:"Administrator",value:"admin"},{title:"Asset Supervisor-Project",value:"asset-supervisor"},{title:"Facility Team",value:"facility"},{title:"Normal",value:"normal"},{title:"Technical Operation",value:"technical-operation"}]);let u=ke({email:ce().email()});const r=async()=>{let m=i.value.data;i.value.loading=!0,await Ve(n.token).post("/api/account/profile/save",m).then(l=>{i.value.loading=!1,t("saved",l.data.message)}).catch(l=>{i.value.loading=!1})};return(m,l)=>(fe(),Ce(Ue,null,{default:O(()=>[S(Be,{class:"text-primary text-capitalize mb-3"},{default:O(()=>[de("Account Settings")]),_:1}),S(Ne,null,{default:O(()=>[S(Y(ze),{as:"v-form","validation-schema":Y(u)},{default:O(()=>[Se("div",Nt,[Ut,S(Mt,{disabled:s.value},{activator:O(({props:h})=>[S(be,K(h,{class:"mb-6",color:d.value}),{default:O(()=>[de(We(i.value.data.status),1)]),_:2},1040,["color"])]),default:O(()=>[S(vt,{density:"compact"},{default:O(()=>[(fe(!0),it(Rt,null,xt(o.value,(h,w)=>(fe(),Ce(Ct,{key:w,value:w,onClick:()=>c(h.title)},{default:O(()=>[S(St,{class:"text-overline d-flex align-center"},{default:O(()=>[S(bt,{color:h.color,icon:Y(Lt),class:"mr-1"},null,8,["color","icon"]),Se("div",null,We(h.title),1)]),_:2},1024)]),_:2},1032,["value","onClick"]))),128))]),_:1})]),_:1},8,["disabled"])]),S(ie,K({modelValue:i.value.data.username,"onUpdate:modelValue":l[0]||(l[0]=h=>i.value.data.username=h)},m.field,{label:"Username",variant:"outlined",density:"compact","hide-details":"",class:"mb-2",disabled:!0}),null,16,["modelValue"]),S(Y(oe),{name:"email",modelValue:i.value.data.email,"onUpdate:modelValue":l[2]||(l[2]=h=>i.value.data.email=h)},{default:O(({field:h,errors:w})=>[S(ie,K({modelValue:i.value.data.email,"onUpdate:modelValue":l[1]||(l[1]=f=>i.value.data.email=f)},h,{label:"Email",variant:"outlined",density:"compact","hide-details":"",class:"mb-2","error-messages":w}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"]),S(Y(oe),{name:"contact",modelValue:i.value.data.contact,"onUpdate:modelValue":l[4]||(l[4]=h=>i.value.data.contact=h)},{default:O(({field:h,errors:w})=>[S(ie,K({modelValue:i.value.data.contact,"onUpdate:modelValue":l[3]||(l[3]=f=>i.value.data.contact=f)},h,{type:"number",density:"compact","hide-details":"",label:"Contact number",variant:"outlined",class:"mb-2","error-messages":w}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"]),S(Y(oe),{name:"role",modelValue:i.value.data.role,"onUpdate:modelValue":l[6]||(l[6]=h=>i.value.data.role=h)},{default:O(({field:h,errors:w})=>[S(Pt,K({modelValue:i.value.data.role,"onUpdate:modelValue":l[5]||(l[5]=f=>i.value.data.role=f)},h,{items:g.value,label:"Role",density:"compact",variant:"outlined",class:"mb-2","error-messages":w}),null,16,["modelValue","items","error-messages"])]),_:1},8,["modelValue"]),S(be,{color:"primary",size:"large",loading:i.value.loading,onClick:r},{default:O(()=>[de("Save")]),_:1},8,["loading"])]),_:1},8,["validation-schema"])]),_:1})]),_:1}))}};/*!
 * FilePondPluginImageExifOrientation 1.0.11
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const kt=e=>/^image\/jpeg/.test(e.type),re={JPEG:65496,APP1:65505,EXIF:1165519206,TIFF:18761,Orientation:274,Unknown:65280},le=(e,t,a=!1)=>e.getUint16(t,a),He=(e,t,a=!1)=>e.getUint32(t,a),zt=e=>new Promise((t,a)=>{const n=new FileReader;n.onload=function(i){const s=new DataView(i.target.result);if(le(s,0)!==re.JPEG){t(-1);return}const o=s.byteLength;let d=2;for(;d<o;){const c=le(s,d);if(d+=2,c===re.APP1){if(He(s,d+=2)!==re.EXIF)break;const g=le(s,d+=6)===re.TIFF;d+=He(s,d+4,g);const u=le(s,d,g);d+=2;for(let r=0;r<u;r++)if(le(s,d+r*12,g)===re.Orientation){t(le(s,d+r*12+8,g));return}}else{if((c&re.Unknown)!==re.Unknown)break;d+=le(s,d)}}t(-1)},n.readAsArrayBuffer(e.slice(0,64*1024))}),$t=(()=>typeof window<"u"&&typeof window.document<"u")(),Wt=()=>$t,Ht="data:image/jpg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4QA6RXhpZgAATU0AKgAAAAgAAwESAAMAAAABAAYAAAEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAD/2wBDAP//////////////////////////////////////////////////////////////////////////////////////wAALCAABAAIBASIA/8QAJgABAAAAAAAAAAAAAAAAAAAAAxABAAAAAAAAAAAAAAAAAAAAAP/aAAgBAQAAPwBH/9k=";let ot;const xe=Wt()?new Image:{};xe.onload=()=>ot=xe.naturalWidth>xe.naturalHeight;xe.src=Ht;const Yt=()=>ot,st=({addFilter:e,utils:t})=>{const{Type:a,isFile:n}=t;return e("DID_LOAD_ITEM",(i,{query:s})=>new Promise((o,d)=>{const c=i.file;if(!n(c)||!kt(c)||!s("GET_ALLOW_IMAGE_EXIF_ORIENTATION")||!Yt())return o(i);zt(c).then(g=>{i.setMetadata("exif",{orientation:g}),o(i)})})),{options:{allowImageExifOrientation:[!0,a.BOOLEAN]}}},jt=typeof window<"u"&&typeof window.document<"u";jt&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:st}));/*!
 * FilePondPluginFileValidateSize 2.2.8
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const rt=({addFilter:e,utils:t})=>{const{Type:a,replaceInString:n,toNaturalFileSize:i}=t;return e("ALLOW_HOPPER_ITEM",(s,{query:o})=>{if(!o("GET_ALLOW_FILE_SIZE_VALIDATION"))return!0;const d=o("GET_MAX_FILE_SIZE");if(d!==null&&s.size>d)return!1;const c=o("GET_MIN_FILE_SIZE");return!(c!==null&&s.size<c)}),e("LOAD_FILE",(s,{query:o})=>new Promise((d,c)=>{if(!o("GET_ALLOW_FILE_SIZE_VALIDATION"))return d(s);const g=o("GET_FILE_VALIDATE_SIZE_FILTER");if(g&&!g(s))return d(s);const u=o("GET_MAX_FILE_SIZE");if(u!==null&&s.size>u){c({status:{main:o("GET_LABEL_MAX_FILE_SIZE_EXCEEDED"),sub:n(o("GET_LABEL_MAX_FILE_SIZE"),{filesize:i(u,".",o("GET_FILE_SIZE_BASE"),o("GET_FILE_SIZE_LABELS",o))})}});return}const r=o("GET_MIN_FILE_SIZE");if(r!==null&&s.size<r){c({status:{main:o("GET_LABEL_MIN_FILE_SIZE_EXCEEDED"),sub:n(o("GET_LABEL_MIN_FILE_SIZE"),{filesize:i(r,".",o("GET_FILE_SIZE_BASE"),o("GET_FILE_SIZE_LABELS",o))})}});return}const m=o("GET_MAX_TOTAL_FILE_SIZE");if(m!==null&&o("GET_ACTIVE_ITEMS").reduce((h,w)=>h+w.fileSize,0)>m){c({status:{main:o("GET_LABEL_MAX_TOTAL_FILE_SIZE_EXCEEDED"),sub:n(o("GET_LABEL_MAX_TOTAL_FILE_SIZE"),{filesize:i(m,".",o("GET_FILE_SIZE_BASE"),o("GET_FILE_SIZE_LABELS",o))})}});return}d(s)})),{options:{allowFileSizeValidation:[!0,a.BOOLEAN],maxFileSize:[null,a.INT],minFileSize:[null,a.INT],maxTotalFileSize:[null,a.INT],fileValidateSizeFilter:[null,a.FUNCTION],labelMinFileSizeExceeded:["File is too small",a.STRING],labelMinFileSize:["Minimum file size is {filesize}",a.STRING],labelMaxFileSizeExceeded:["File is too large",a.STRING],labelMaxFileSize:["Maximum file size is {filesize}",a.STRING],labelMaxTotalFileSizeExceeded:["Maximum total size exceeded",a.STRING],labelMaxTotalFileSize:["Maximum total file size is {filesize}",a.STRING]}}},Zt=typeof window<"u"&&typeof window.document<"u";Zt&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:rt}));/*!
 * FilePondPluginFileValidateType 1.2.8
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const lt=({addFilter:e,utils:t})=>{const{Type:a,isString:n,replaceInString:i,guesstimateMimeType:s,getExtensionFromFilename:o,getFilenameFromURL:d}=t,c=(l,h)=>{const w=(/^[^/]+/.exec(l)||[]).pop(),f=h.slice(0,-2);return w===f},g=(l,h)=>l.some(w=>/\*$/.test(w)?c(h,w):w===h),u=l=>{let h="";if(n(l)){const w=d(l),f=o(w);f&&(h=s(f))}else h=l.type;return h},r=(l,h,w)=>{if(h.length===0)return!0;const f=u(l);return w?new Promise((y,p)=>{w(l,f).then(E=>{g(h,E)?y():p()}).catch(p)}):g(h,f)},m=l=>h=>l[h]===null?!1:l[h]||h;return e("SET_ATTRIBUTE_TO_OPTION_MAP",l=>Object.assign(l,{accept:"acceptedFileTypes"})),e("ALLOW_HOPPER_ITEM",(l,{query:h})=>h("GET_ALLOW_FILE_TYPE_VALIDATION")?r(l,h("GET_ACCEPTED_FILE_TYPES")):!0),e("LOAD_FILE",(l,{query:h})=>new Promise((w,f)=>{if(!h("GET_ALLOW_FILE_TYPE_VALIDATION")){w(l);return}const y=h("GET_ACCEPTED_FILE_TYPES"),p=h("GET_FILE_VALIDATE_TYPE_DETECT_TYPE"),E=r(l,y,p),_=()=>{const I=y.map(m(h("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES_MAP"))).filter(M=>M!==!1),v=I.filter(function(M,A){return I.indexOf(M)===A});f({status:{main:h("GET_LABEL_FILE_TYPE_NOT_ALLOWED"),sub:i(h("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES"),{allTypes:v.join(", "),allButLastType:v.slice(0,-1).join(", "),lastType:v[I.length-1]})}})};if(typeof E=="boolean")return E?w(l):_();E.then(()=>{w(l)}).catch(_)})),{options:{allowFileTypeValidation:[!0,a.BOOLEAN],acceptedFileTypes:[[],a.ARRAY],labelFileTypeNotAllowed:["File is of invalid type",a.STRING],fileValidateTypeLabelExpectedTypes:["Expects {allButLastType} or {lastType}",a.STRING],fileValidateTypeLabelExpectedTypesMap:[{},a.OBJECT],fileValidateTypeDetectType:[null,a.FUNCTION]}}},Xt=typeof window<"u"&&typeof window.document<"u";Xt&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:lt}));/*!
 * FilePondPluginImageCrop 2.0.6
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const Ye=e=>/^image/.test(e.type),ct=({addFilter:e,utils:t})=>{const{Type:a,isFile:n,getNumericAspectRatioFromString:i}=t,s=(g,u)=>!(!Ye(g.file)||!u("GET_ALLOW_IMAGE_CROP")),o=g=>typeof g=="object",d=g=>typeof g=="number",c=(g,u)=>g.setMetadata("crop",Object.assign({},g.getMetadata("crop"),u));return e("DID_CREATE_ITEM",(g,{query:u})=>{g.extend("setImageCrop",r=>{if(!(!s(g,u)||!o(center)))return g.setMetadata("crop",r),r}),g.extend("setImageCropCenter",r=>{if(!(!s(g,u)||!o(r)))return c(g,{center:r})}),g.extend("setImageCropZoom",r=>{if(!(!s(g,u)||!d(r)))return c(g,{zoom:Math.max(1,r)})}),g.extend("setImageCropRotation",r=>{if(!(!s(g,u)||!d(r)))return c(g,{rotation:r})}),g.extend("setImageCropFlip",r=>{if(!(!s(g,u)||!o(r)))return c(g,{flip:r})}),g.extend("setImageCropAspectRatio",r=>{if(!s(g,u)||typeof r>"u")return;const m=g.getMetadata("crop"),l=i(r),h={center:{x:.5,y:.5},flip:m?Object.assign({},m.flip):{horizontal:!1,vertical:!1},rotation:0,zoom:1,aspectRatio:l};return g.setMetadata("crop",h),h})}),e("DID_LOAD_ITEM",(g,{query:u})=>new Promise((r,m)=>{const l=g.file;if(!n(l)||!Ye(l)||!u("GET_ALLOW_IMAGE_CROP")||g.getMetadata("crop"))return r(g);const w=u("GET_IMAGE_CROP_ASPECT_RATIO");g.setMetadata("crop",{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},rotation:0,zoom:1,aspectRatio:w?i(w):null}),r(g)})),{options:{allowImageCrop:[!0,a.BOOLEAN],imageCropAspectRatio:[null,a.STRING]}}},qt=typeof window<"u"&&typeof window.document<"u";qt&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:ct}));/*!
 * FilePondPluginImageResize 2.0.10
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const Kt=e=>/^image/.test(e.type),Jt=(e,t)=>{let a=new Image;a.onload=()=>{const n=a.naturalWidth,i=a.naturalHeight;a=null,t({width:n,height:i})},a.onerror=()=>t(null),a.src=e},dt=({addFilter:e,utils:t})=>{const{Type:a}=t;return e("DID_LOAD_ITEM",(n,{query:i})=>new Promise((s,o)=>{const d=n.file;if(!Kt(d)||!i("GET_ALLOW_IMAGE_RESIZE"))return s(n);const c=i("GET_IMAGE_RESIZE_MODE"),g=i("GET_IMAGE_RESIZE_TARGET_WIDTH"),u=i("GET_IMAGE_RESIZE_TARGET_HEIGHT"),r=i("GET_IMAGE_RESIZE_UPSCALE");if(g===null&&u===null)return s(n);const m=g===null?u:g,l=u===null?m:u,h=URL.createObjectURL(d);Jt(h,w=>{if(URL.revokeObjectURL(h),!w)return s(n);let{width:f,height:y}=w;const p=(n.getMetadata("exif")||{}).orientation||-1;if(p>=5&&p<=8&&([f,y]=[y,f]),f===m&&y===l)return s(n);if(!r){if(c==="cover"){if(f<=m||y<=l)return s(n)}else if(f<=m&&y<=m)return s(n)}n.setMetadata("resize",{mode:c,upscale:r,size:{width:m,height:l}}),s(n)})})),{options:{allowImageResize:[!0,a.BOOLEAN],imageResizeMode:["cover",a.STRING],imageResizeUpscale:[!0,a.BOOLEAN],imageResizeTargetWidth:[null,a.INT],imageResizeTargetHeight:[null,a.INT]}}},Qt=typeof window<"u"&&typeof window.document<"u";Qt&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:dt}));/*!
 * FilePondPluginImageTransform 3.8.7
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const ea=e=>/^image/.test(e.type),ta=e=>e.substr(0,e.lastIndexOf("."))||e,aa={jpeg:"jpg","svg+xml":"svg"},na=(e,t)=>{const a=ta(e),n=t.split("/")[1],i=aa[n]||n;return`${a}.${i}`},ia=e=>/jpeg|png|svg\+xml/.test(e)?e:"image/jpeg",oa=e=>/^image/.test(e.type),sa={1:()=>[1,0,0,1,0,0],2:e=>[-1,0,0,1,e,0],3:(e,t)=>[-1,0,0,-1,e,t],4:(e,t)=>[1,0,0,-1,0,t],5:()=>[0,1,1,0,0,0],6:(e,t)=>[0,1,-1,0,t,0],7:(e,t)=>[0,-1,-1,0,t,e],8:e=>[0,-1,1,0,0,e]},ra=(e,t,a)=>(a===-1&&(a=1),sa[a](e,t)),_e=(e,t)=>({x:e,y:t}),la=(e,t)=>e.x*t.x+e.y*t.y,je=(e,t)=>_e(e.x-t.x,e.y-t.y),ca=(e,t)=>la(je(e,t),je(e,t)),Ze=(e,t)=>Math.sqrt(ca(e,t)),Xe=(e,t)=>{const a=e,n=1.5707963267948966,i=t,s=1.5707963267948966-t,o=Math.sin(n),d=Math.sin(i),c=Math.sin(s),g=Math.cos(s),u=a/o,r=u*d,m=u*c;return _e(g*r,g*m)},da=(e,t)=>{const a=e.width,n=e.height,i=Xe(a,t),s=Xe(n,t),o=_e(e.x+Math.abs(i.x),e.y-Math.abs(i.y)),d=_e(e.x+e.width+Math.abs(s.y),e.y+Math.abs(s.x)),c=_e(e.x-Math.abs(s.y),e.y+e.height-Math.abs(s.x));return{width:Ze(o,d),height:Ze(o,c)}},ut=(e,t,a=0,n={x:.5,y:.5})=>{const i=n.x>.5?1-n.x:n.x,s=n.y>.5?1-n.y:n.y,o=i*2*e.width,d=s*2*e.height,c=da(t,a);return Math.max(c.width/o,c.height/d)},mt=(e,t)=>{let a=e.width,n=a*t;n>e.height&&(n=e.height,a=n/t);const i=(e.width-a)*.5,s=(e.height-n)*.5;return{x:i,y:s,width:a,height:n}},qe=(e,t,a=1)=>{const n=e.height/e.width;let i=1,s=t,o=1,d=n;d>s&&(d=s,o=d/n);const c=Math.max(i/o,s/d),g=e.width/(a*c*o),u=g*t;return{width:g,height:u}},ht=e=>{e.width=1,e.height=1,e.getContext("2d").clearRect(0,0,1,1)},Ke=e=>e&&(e.horizontal||e.vertical),ua=(e,t,a)=>{if(t<=1&&!Ke(a))return e.width=e.naturalWidth,e.height=e.naturalHeight,e;const n=document.createElement("canvas"),i=e.naturalWidth,s=e.naturalHeight,o=t>=5&&t<=8;o?(n.width=s,n.height=i):(n.width=i,n.height=s);const d=n.getContext("2d");if(t&&d.transform.apply(d,ra(i,s,t)),Ke(a)){const c=[1,0,0,1,0,0];(!o&&a.horizontal||o&a.vertical)&&(c[0]=-1,c[4]=i),(!o&&a.vertical||o&&a.horizontal)&&(c[3]=-1,c[5]=s),d.transform(...c)}return d.drawImage(e,0,0,i,s),n},ma=(e,t,a={},n={})=>{const{canvasMemoryLimit:i,background:s=null}=n,o=a.zoom||1,d=ua(e,t,a.flip),c={width:d.width,height:d.height},g=a.aspectRatio||c.height/c.width;let u=qe(c,g,o);if(i){const E=u.width*u.height;if(E>i){const _=Math.sqrt(i)/Math.sqrt(E);c.width=Math.floor(c.width*_),c.height=Math.floor(c.height*_),u=qe(c,g,o)}}const r=document.createElement("canvas"),m={x:u.width*.5,y:u.height*.5},l={x:0,y:0,width:u.width,height:u.height,center:m},h=typeof a.scaleToFit>"u"||a.scaleToFit,w=o*ut(c,mt(l,g),a.rotation,h?a.center:{x:.5,y:.5});r.width=Math.round(u.width/w),r.height=Math.round(u.height/w),m.x/=w,m.y/=w;const f={x:m.x-c.width*(a.center?a.center.x:.5),y:m.y-c.height*(a.center?a.center.y:.5)},y=r.getContext("2d");s&&(y.fillStyle=s,y.fillRect(0,0,r.width,r.height)),y.translate(m.x,m.y),y.rotate(a.rotation||0),y.drawImage(d,f.x-m.x,f.y-m.y,c.width,c.height);const p=y.getImageData(0,0,r.width,r.height);return ht(r),p},ha=(()=>typeof window<"u"&&typeof window.document<"u")();ha&&(HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(e,t,a){var n=this.toDataURL(t,a).split(",")[1];setTimeout(function(){for(var i=atob(n),s=i.length,o=new Uint8Array(s),d=0;d<s;d++)o[d]=i.charCodeAt(d);e(new Blob([o],{type:t||"image/png"}))})}}));const ga=(e,t,a=null)=>new Promise(n=>{const i=a?a(e):e;Promise.resolve(i).then(s=>{s.toBlob(n,t.type,t.quality)})}),Le=(e,t)=>Te(e.x*t,e.y*t),Pe=(e,t)=>Te(e.x+t.x,e.y+t.y),gt=e=>{const t=Math.sqrt(e.x*e.x+e.y*e.y);return t===0?{x:0,y:0}:Te(e.x/t,e.y/t)},se=(e,t,a)=>{const n=Math.cos(t),i=Math.sin(t),s=Te(e.x-a.x,e.y-a.y);return Te(a.x+n*s.x-i*s.y,a.y+i*s.x+n*s.y)},Te=(e=0,t=0)=>({x:e,y:t}),H=(e,t,a=1,n)=>{if(typeof e=="string")return parseFloat(e)*a;if(typeof e=="number")return e*(n?t[n]:Math.min(t.width,t.height))},ue=(e,t,a)=>{const n=e.borderStyle||e.lineStyle||"solid",i=e.backgroundColor||e.fontColor||"transparent",s=e.borderColor||e.lineColor||"transparent",o=H(e.borderWidth||e.lineWidth,t,a),d=e.lineCap||"round",c=e.lineJoin||"round",g=typeof n=="string"?"":n.map(r=>H(r,t,a)).join(","),u=e.opacity||1;return{"stroke-linecap":d,"stroke-linejoin":c,"stroke-width":o||0,"stroke-dasharray":g,stroke:s,fill:i,opacity:u}},X=e=>e!=null,pe=(e,t,a=1)=>{let n=H(e.x,t,a,"width")||H(e.left,t,a,"width"),i=H(e.y,t,a,"height")||H(e.top,t,a,"height"),s=H(e.width,t,a,"width"),o=H(e.height,t,a,"height"),d=H(e.right,t,a,"width"),c=H(e.bottom,t,a,"height");return X(i)||(X(o)&&X(c)?i=t.height-o-c:i=c),X(n)||(X(s)&&X(d)?n=t.width-s-d:n=d),X(s)||(X(n)&&X(d)?s=t.width-n-d:s=0),X(o)||(X(i)&&X(c)?o=t.height-i-c:o=0),{x:n||0,y:i||0,width:s||0,height:o||0}},fa=e=>e.map((t,a)=>`${a===0?"M":"L"} ${t.x} ${t.y}`).join(" "),ae=(e,t)=>Object.keys(t).forEach(a=>e.setAttribute(a,t[a])),pa="http://www.w3.org/2000/svg",he=(e,t)=>{const a=document.createElementNS(pa,e);return t&&ae(a,t),a},Ea=e=>ae(e,{...e.rect,...e.styles}),wa=e=>{const t=e.rect.x+e.rect.width*.5,a=e.rect.y+e.rect.height*.5,n=e.rect.width*.5,i=e.rect.height*.5;return ae(e,{cx:t,cy:a,rx:n,ry:i,...e.styles})},_a={contain:"xMidYMid meet",cover:"xMidYMid slice"},Ia=(e,t)=>{ae(e,{...e.rect,...e.styles,preserveAspectRatio:_a[t.fit]||"none"})},ya={left:"start",center:"middle",right:"end"},Ta=(e,t,a,n)=>{const i=H(t.fontSize,a,n),s=t.fontFamily||"sans-serif",o=t.fontWeight||"normal",d=ya[t.textAlign]||"start";ae(e,{...e.rect,...e.styles,"stroke-width":0,"font-weight":o,"font-size":i,"font-family":s,"text-anchor":d}),e.text!==t.text&&(e.text=t.text,e.textContent=t.text.length?t.text:" ")},Aa=(e,t,a,n)=>{ae(e,{...e.rect,...e.styles,fill:"none"});const i=e.childNodes[0],s=e.childNodes[1],o=e.childNodes[2],d=e.rect,c={x:e.rect.x+e.rect.width,y:e.rect.y+e.rect.height};if(ae(i,{x1:d.x,y1:d.y,x2:c.x,y2:c.y}),!t.lineDecoration)return;s.style.display="none",o.style.display="none";const g=gt({x:c.x-d.x,y:c.y-d.y}),u=H(.05,a,n);if(t.lineDecoration.indexOf("arrow-begin")!==-1){const r=Le(g,u),m=Pe(d,r),l=se(d,2,m),h=se(d,-2,m);ae(s,{style:"display:block;",d:`M${l.x},${l.y} L${d.x},${d.y} L${h.x},${h.y}`})}if(t.lineDecoration.indexOf("arrow-end")!==-1){const r=Le(g,-u),m=Pe(c,r),l=se(c,2,m),h=se(c,-2,m);ae(o,{style:"display:block;",d:`M${l.x},${l.y} L${c.x},${c.y} L${h.x},${h.y}`})}},Ma=(e,t,a,n)=>{ae(e,{...e.styles,fill:"none",d:fa(t.points.map(i=>({x:H(i.x,a,n,"width"),y:H(i.y,a,n,"height")})))})},Me=e=>t=>he(e,{id:t.id}),va=e=>{const t=he("image",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return t.onload=()=>{t.setAttribute("opacity",e.opacity||1)},t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.src),t},Ra=e=>{const t=he("g",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round"}),a=he("line");t.appendChild(a);const n=he("path");t.appendChild(n);const i=he("path");return t.appendChild(i),t},xa={image:va,rect:Me("rect"),ellipse:Me("ellipse"),text:Me("text"),path:Me("path"),line:Ra},Ca={rect:Ea,ellipse:wa,image:Ia,text:Ta,path:Ma,line:Aa},Sa=(e,t)=>xa[e](t),ba=(e,t,a,n,i)=>{t!=="path"&&(e.rect=pe(a,n,i)),e.styles=ue(a,n,i),Ca[t](e,a,n,i)},ft=(e,t)=>e[1].zIndex>t[1].zIndex?1:e[1].zIndex<t[1].zIndex?-1:0,La=(e,t={},a,n)=>new Promise(i=>{const{background:s=null}=n,o=new FileReader;o.onloadend=()=>{const d=o.result,c=document.createElement("div");c.style.cssText="position:absolute;pointer-events:none;width:0;height:0;visibility:hidden;",c.innerHTML=d;const g=c.querySelector("svg");document.body.appendChild(c);const u=g.getBBox();c.parentNode.removeChild(c);const r=c.querySelector("title"),m=g.getAttribute("viewBox")||"",l=g.getAttribute("width")||"",h=g.getAttribute("height")||"";let w=parseFloat(l)||null,f=parseFloat(h)||null;const y=(l.match(/[a-z]+/)||[])[0]||"",p=(h.match(/[a-z]+/)||[])[0]||"",E=m.split(" ").map(parseFloat),_=E.length?{x:E[0],y:E[1],width:E[2],height:E[3]}:u;let I=w??_.width,v=f??_.height;g.style.overflow="visible",g.setAttribute("width",I),g.setAttribute("height",v);let M="";if(a&&a.length){const Z={width:I,height:v};M=a.sort(ft).reduce((Q,W)=>{const B=Sa(W[0],W[1]);return ba(B,W[0],W[1],Z),B.removeAttribute("id"),B.getAttribute("opacity")===1&&B.removeAttribute("opacity"),Q+`
`+B.outerHTML+`
`},""),M=`

<g>${M.replace(/&nbsp;/g," ")}</g>

`}const A=t.aspectRatio||v/I,T=I,C=T*A,L=typeof t.scaleToFit>"u"||t.scaleToFit,R=t.center?t.center.x:.5,x=t.center?t.center.y:.5,G=ut({width:I,height:v},mt({width:T,height:C},A),t.rotation,L?{x:R,y:x}:{x:.5,y:.5}),b=t.zoom*G,N=t.rotation*(180/Math.PI),D={x:T*.5,y:C*.5},U={x:D.x-I*R,y:D.y-v*x},V=[`rotate(${N} ${D.x} ${D.y})`,`translate(${D.x} ${D.y})`,`scale(${b})`,`translate(${-D.x} ${-D.y})`,`translate(${U.x} ${U.y})`],F=t.flip&&t.flip.horizontal,P=t.flip&&t.flip.vertical,z=[`scale(${F?-1:1} ${P?-1:1})`,`translate(${F?-I:0} ${P?-v:0})`],k=`<?xml version="1.0" encoding="UTF-8"?>
<svg width="${T}${y}" height="${C}${p}" 
viewBox="0 0 ${T} ${C}" ${s?'style="background:'+s+'" ':""}
preserveAspectRatio="xMinYMin"
xmlns:xlink="http://www.w3.org/1999/xlink"
xmlns="http://www.w3.org/2000/svg">
<!-- Generated by PQINA - https://pqina.nl/ -->
<title>${r?r.textContent:""}</title>
<g transform="${V.join(" ")}">
<g transform="${z.join(" ")}">
${g.outerHTML}${M}
</g>
</g>
</svg>`;i(k)},o.readAsText(e)}),Pa=e=>{let t;try{t=new ImageData(e.width,e.height)}catch{t=document.createElement("canvas").getContext("2d").createImageData(e.width,e.height)}return t.data.set(e.data),t},Oa=()=>{const e={resize:u,filter:g},t=(r,m)=>(r.forEach(l=>{m=e[l.type](m,l.data)}),m),a=(r,m)=>{let l=r.transforms,h=null;if(l.forEach(w=>{w.type==="filter"&&(h=w)}),h){let w=null;l.forEach(f=>{f.type==="resize"&&(w=f)}),w&&(w.data.matrix=h.data,l=l.filter(f=>f.type!=="filter"))}m(t(l,r.imageData))};self.onmessage=r=>{a(r.data.message,m=>{self.postMessage({id:r.data.id,message:m},[m.data.buffer])})};const n=1,i=1,s=1;function o(r,m,l){const h=m[r]/255,w=m[r+1]/255,f=m[r+2]/255,y=m[r+3]/255,p=h*l[0]+w*l[1]+f*l[2]+y*l[3]+l[4],E=h*l[5]+w*l[6]+f*l[7]+y*l[8]+l[9],_=h*l[10]+w*l[11]+f*l[12]+y*l[13]+l[14],I=h*l[15]+w*l[16]+f*l[17]+y*l[18]+l[19],v=Math.max(0,p*I)+n*(1-I),M=Math.max(0,E*I)+i*(1-I),A=Math.max(0,_*I)+s*(1-I);m[r]=Math.max(0,Math.min(1,v))*255,m[r+1]=Math.max(0,Math.min(1,M))*255,m[r+2]=Math.max(0,Math.min(1,A))*255}const d=self.JSON.stringify([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]);function c(r){return self.JSON.stringify(r||[])===d}function g(r,m){if(!m||c(m))return r;const l=r.data,h=l.length,w=m[0],f=m[1],y=m[2],p=m[3],E=m[4],_=m[5],I=m[6],v=m[7],M=m[8],A=m[9],T=m[10],C=m[11],L=m[12],R=m[13],x=m[14],G=m[15],b=m[16],N=m[17],D=m[18],U=m[19];let V=0,F=0,P=0,z=0,k=0,Z=0,Q=0,W=0,B=0,$=0,ee=0,me=0;for(;V<h;V+=4)F=l[V]/255,P=l[V+1]/255,z=l[V+2]/255,k=l[V+3]/255,Z=F*w+P*f+z*y+k*p+E,Q=F*_+P*I+z*v+k*M+A,W=F*T+P*C+z*L+k*R+x,B=F*G+P*b+z*N+k*D+U,$=Math.max(0,Z*B)+n*(1-B),ee=Math.max(0,Q*B)+i*(1-B),me=Math.max(0,W*B)+s*(1-B),l[V]=Math.max(0,Math.min(1,$))*255,l[V+1]=Math.max(0,Math.min(1,ee))*255,l[V+2]=Math.max(0,Math.min(1,me))*255;return r}function u(r,m){let{mode:l="contain",upscale:h=!1,width:w,height:f,matrix:y}=m;if(y=!y||c(y)?null:y,!w&&!f)return g(r,y);if(w===null?w=f:f===null&&(f=w),l!=="force"){let R=w/r.width,x=f/r.height,G=1;if(l==="cover"?G=Math.max(R,x):l==="contain"&&(G=Math.min(R,x)),G>1&&h===!1)return g(r,y);w=r.width*G,f=r.height*G}const p=r.width,E=r.height,_=Math.round(w),I=Math.round(f),v=r.data,M=new Uint8ClampedArray(_*I*4),A=p/_,T=E/I,C=Math.ceil(A*.5),L=Math.ceil(T*.5);for(let R=0;R<I;R++)for(let x=0;x<_;x++){let G=(x+R*_)*4,b=0,N=0,D=0,U=0,V=0,F=0,P=0,z=(R+.5)*T;for(let k=Math.floor(R*T);k<(R+1)*T;k++){let Z=Math.abs(z-(k+.5))/L,Q=(x+.5)*A,W=Z*Z;for(let B=Math.floor(x*A);B<(x+1)*A;B++){let $=Math.abs(Q-(B+.5))/C,ee=Math.sqrt(W+$*$);if(ee>=-1&&ee<=1&&(b=2*ee*ee*ee-3*ee*ee+1,b>0)){$=4*(B+k*p);let me=v[$+3];P+=b*me,D+=b,me<255&&(b=b*me/250),U+=b*v[$],V+=b*v[$+1],F+=b*v[$+2],N+=b}}}M[G]=U/N,M[G+1]=V/N,M[G+2]=F/N,M[G+3]=P/D,y&&o(G,M,y)}return{data:M,width:_,height:I}}},Ga=(e,t)=>{if(e.getUint32(t+4,!1)!==1165519206)return;t+=4;const a=e.getUint16(t+=6,!1)===18761;t+=e.getUint32(t+4,a);const n=e.getUint16(t,a);t+=2;for(let i=0;i<n;i++)if(e.getUint16(t+i*12,a)===274)return e.setUint16(t+i*12+8,1,a),!0;return!1},Va=e=>{const t=new DataView(e);if(t.getUint16(0)!==65496)return null;let a=2,n,i,s=!1;for(;a<t.byteLength&&(n=t.getUint16(a,!1),i=t.getUint16(a+2,!1)+2,!(!(n>=65504&&n<=65519||n===65534)||(s||(s=Ga(t,a)),a+i>t.byteLength)));)a+=i;return e.slice(0,a)},Da=e=>new Promise(t=>{const a=new FileReader;a.onload=()=>t(Va(a.result)||null),a.readAsArrayBuffer(e.slice(0,256*1024))}),Fa=()=>window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,Ba=(e,t)=>{const a=Fa();if(a){const n=new a;return n.append(e),n.getBlob(t)}return new Blob([e],{type:t})},Na=()=>Math.random().toString(36).substr(2,9),Ua=e=>{const t=new Blob(["(",e.toString(),")()"],{type:"application/javascript"}),a=URL.createObjectURL(t),n=new Worker(a),i=[];return{transfer:()=>{},post:(s,o,d)=>{const c=Na();i[c]=o,n.onmessage=g=>{const u=i[g.data.id];u&&(u(g.data.message),delete i[g.data.id])},n.postMessage({id:c,message:s},d)},terminate:()=>{n.terminate(),URL.revokeObjectURL(a)}}},ka=e=>new Promise((t,a)=>{const n=new Image;n.onload=()=>{t(n)},n.onerror=i=>{a(i)},n.src=e}),za=e=>e.reduce((t,a)=>t.then(n=>a().then(Array.prototype.concat.bind(n))),Promise.resolve([])),$a=(e,t)=>new Promise(a=>{const n={width:e.width,height:e.height},i=e.getContext("2d"),s=t.sort(ft).map(o=>()=>new Promise(d=>{qa[o[0]](i,n,o[1],d)&&d()}));za(s).then(()=>a(e))}),Ee=(e,t)=>{e.beginPath(),e.lineCap=t["stroke-linecap"],e.lineJoin=t["stroke-linejoin"],e.lineWidth=t["stroke-width"],t["stroke-dasharray"].length&&e.setLineDash(t["stroke-dasharray"].split(",")),e.fillStyle=t.fill,e.strokeStyle=t.stroke,e.globalAlpha=t.opacity||1},we=e=>{e.fill(),e.stroke(),e.globalAlpha=1},Wa=(e,t,a)=>{const n=pe(a,t),i=ue(a,t);return Ee(e,i),e.rect(n.x,n.y,n.width,n.height),we(e),!0},Ha=(e,t,a)=>{const n=pe(a,t),i=ue(a,t);Ee(e,i);const s=n.x,o=n.y,d=n.width,c=n.height,g=.5522848,u=d/2*g,r=c/2*g,m=s+d,l=o+c,h=s+d/2,w=o+c/2;return e.moveTo(s,w),e.bezierCurveTo(s,w-r,h-u,o,h,o),e.bezierCurveTo(h+u,o,m,w-r,m,w),e.bezierCurveTo(m,w+r,h+u,l,h,l),e.bezierCurveTo(h-u,l,s,w+r,s,w),we(e),!0},Ya=(e,t,a,n)=>{const i=pe(a,t),s=ue(a,t);Ee(e,s);const o=new Image;new URL(a.src,window.location.href).origin!==window.location.origin&&(o.crossOrigin=""),o.onload=()=>{if(a.fit==="cover"){const c=i.width/i.height,g=c>1?o.width:o.height*c,u=c>1?o.width/c:o.height,r=o.width*.5-g*.5,m=o.height*.5-u*.5;e.drawImage(o,r,m,g,u,i.x,i.y,i.width,i.height)}else if(a.fit==="contain"){const c=Math.min(i.width/o.width,i.height/o.height),g=c*o.width,u=c*o.height,r=i.x+i.width*.5-g*.5,m=i.y+i.height*.5-u*.5;e.drawImage(o,0,0,o.width,o.height,r,m,g,u)}else e.drawImage(o,0,0,o.width,o.height,i.x,i.y,i.width,i.height);we(e),n()},o.src=a.src},ja=(e,t,a)=>{const n=pe(a,t),i=ue(a,t);Ee(e,i);const s=H(a.fontSize,t),o=a.fontFamily||"sans-serif",d=a.fontWeight||"normal",c=a.textAlign||"left";return e.font=`${d} ${s}px ${o}`,e.textAlign=c,e.fillText(a.text,n.x,n.y),we(e),!0},Za=(e,t,a)=>{const n=ue(a,t);Ee(e,n),e.beginPath();const i=a.points.map(o=>({x:H(o.x,t,1,"width"),y:H(o.y,t,1,"height")}));e.moveTo(i[0].x,i[0].y);const s=i.length;for(let o=1;o<s;o++)e.lineTo(i[o].x,i[o].y);return we(e),!0},Xa=(e,t,a)=>{const n=pe(a,t),i=ue(a,t);Ee(e,i),e.beginPath();const s={x:n.x,y:n.y},o={x:n.x+n.width,y:n.y+n.height};e.moveTo(s.x,s.y),e.lineTo(o.x,o.y);const d=gt({x:o.x-s.x,y:o.y-s.y}),c=.04*Math.min(t.width,t.height);if(a.lineDecoration.indexOf("arrow-begin")!==-1){const g=Le(d,c),u=Pe(s,g),r=se(s,2,u),m=se(s,-2,u);e.moveTo(r.x,r.y),e.lineTo(s.x,s.y),e.lineTo(m.x,m.y)}if(a.lineDecoration.indexOf("arrow-end")!==-1){const g=Le(d,-c),u=Pe(o,g),r=se(o,2,u),m=se(o,-2,u);e.moveTo(r.x,r.y),e.lineTo(o.x,o.y),e.lineTo(m.x,m.y)}return we(e),!0},qa={rect:Wa,ellipse:Ha,image:Ya,text:ja,line:Xa,path:Za},Ka=e=>{const t=document.createElement("canvas");return t.width=e.width,t.height=e.height,t.getContext("2d").putImageData(e,0,0),t},Ja=(e,t,a={})=>new Promise((n,i)=>{if(!e||!oa(e))return i({status:"not an image file",file:e});const{stripImageHead:s,beforeCreateBlob:o,afterCreateBlob:d,canvasMemoryLimit:c}=a,{crop:g,size:u,filter:r,markup:m,output:l}=t,h=t.image&&t.image.orientation?Math.max(1,Math.min(8,t.image.orientation)):null,w=l&&l.quality,f=w===null?null:w/100,y=l&&l.type||null,p=l&&l.background||null,E=[];u&&(typeof u.width=="number"||typeof u.height=="number")&&E.push({type:"resize",data:u}),r&&r.length===20&&E.push({type:"filter",data:r});const _=M=>{const A=d?d(M):M;Promise.resolve(A).then(n)},I=(M,A)=>{const T=Ka(M),C=m.length?$a(T,m):T;Promise.resolve(C).then(L=>{ga(L,A,o).then(R=>{if(ht(L),s)return _(R);Da(e).then(x=>{x!==null&&(R=new Blob([x,R.slice(20)],{type:R.type})),_(R)})}).catch(i)})};if(/svg/.test(e.type)&&y===null)return La(e,g,m,{background:p}).then(M=>{n(Ba(M,"image/svg+xml"))});const v=URL.createObjectURL(e);ka(v).then(M=>{URL.revokeObjectURL(v);const A=ma(M,h,g,{canvasMemoryLimit:c,background:p}),T={quality:f,type:y||e.type};if(!E.length)return I(A,T);const C=Ua(Oa);C.post({transforms:E,imageData:A},L=>{I(Pa(L),T),C.terminate()},[A.data.buffer])}).catch(i)}),Qa=["x","y","left","top","right","bottom","width","height"],en=e=>typeof e=="string"&&/%/.test(e)?parseFloat(e)/100:e,tn=e=>{const[t,a]=e,n=a.points?{}:Qa.reduce((i,s)=>(i[s]=en(a[s]),i),{});return[t,{zIndex:0,...a,...n}]},an=e=>new Promise((t,a)=>{const n=new Image;n.src=URL.createObjectURL(e);const i=()=>{const o=n.naturalWidth,d=n.naturalHeight;o&&d&&(URL.revokeObjectURL(n.src),clearInterval(s),t({width:o,height:d}))};n.onerror=o=>{URL.revokeObjectURL(n.src),clearInterval(s),a(o)};const s=setInterval(i,1);i()});typeof window<"u"&&typeof window.document<"u"&&(HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(e,t,a){const n=this;setTimeout(()=>{const i=n.toDataURL(t,a).split(",")[1],s=atob(i);let o=s.length;const d=new Uint8Array(o);for(;o--;)d[o]=s.charCodeAt(o);e(new Blob([d],{type:t||"image/png"}))})}}));const $e=typeof window<"u"&&typeof window.document<"u",nn=$e&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,pt=({addFilter:e,utils:t})=>{const{Type:a,forin:n,getFileFromBlob:i,isFile:s}=t,o=["crop","resize","filter","markup","output"],d=u=>(r,m,l)=>r(m,u?u(l):l),c=u=>u.aspectRatio===null&&u.rotation===0&&u.zoom===1&&u.center&&u.center.x===.5&&u.center.y===.5&&u.flip&&u.flip.horizontal===!1&&u.flip.vertical===!1;e("SHOULD_PREPARE_OUTPUT",(u,{query:r})=>new Promise(m=>{m(!r("IS_ASYNC"))}));const g=(u,r,m)=>new Promise(l=>{if(!u("GET_ALLOW_IMAGE_TRANSFORM")||m.archived||!s(r)||!ea(r))return l(!1);an(r).then(()=>{const h=u("GET_IMAGE_TRANSFORM_IMAGE_FILTER");if(h){const w=h(r);if(w==null)return handleRevert(!0);if(typeof w=="boolean")return l(w);if(typeof w.then=="function")return w.then(l)}l(!0)}).catch(h=>{l(!1)})});return e("DID_CREATE_ITEM",(u,{query:r,dispatch:m})=>{r("GET_ALLOW_IMAGE_TRANSFORM")&&u.extend("requestPrepare",()=>new Promise((l,h)=>{m("REQUEST_PREPARE_OUTPUT",{query:u.id,item:u,success:l,failure:h},!0)}))}),e("PREPARE_OUTPUT",(u,{query:r,item:m})=>new Promise(l=>{g(r,u,m).then(h=>{if(!h)return l(u);const w=[];r("GET_IMAGE_TRANSFORM_VARIANTS_INCLUDE_ORIGINAL")&&w.push(()=>new Promise(A=>{A({name:r("GET_IMAGE_TRANSFORM_VARIANTS_ORIGINAL_NAME"),file:u})})),r("GET_IMAGE_TRANSFORM_VARIANTS_INCLUDE_DEFAULT")&&w.push((A,T,C)=>new Promise(L=>{A(T,C).then(R=>L({name:r("GET_IMAGE_TRANSFORM_VARIANTS_DEFAULT_NAME"),file:R}))}));const f=r("GET_IMAGE_TRANSFORM_VARIANTS")||{};n(f,(A,T)=>{const C=d(T);w.push((L,R,x)=>new Promise(G=>{C(L,R,x).then(b=>G({name:A,file:b}))}))});const y=r("GET_IMAGE_TRANSFORM_OUTPUT_QUALITY"),p=r("GET_IMAGE_TRANSFORM_OUTPUT_QUALITY_MODE"),E=y===null?null:y/100,_=r("GET_IMAGE_TRANSFORM_OUTPUT_MIME_TYPE"),I=r("GET_IMAGE_TRANSFORM_CLIENT_TRANSFORMS")||o;m.setMetadata("output",{type:_,quality:E,client:I},!0);const v=(A,T)=>new Promise((C,L)=>{const R={...T};Object.keys(R).filter(P=>P!=="exif").forEach(P=>{I.indexOf(P)===-1&&delete R[P]});const{resize:x,exif:G,output:b,crop:N,filter:D,markup:U}=R,V={image:{orientation:G?G.orientation:null},output:b&&(b.type||typeof b.quality=="number"||b.background)?{type:b.type,quality:typeof b.quality=="number"?b.quality*100:null,background:b.background||r("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR")||null}:void 0,size:x&&(x.size.width||x.size.height)?{mode:x.mode,upscale:x.upscale,...x.size}:void 0,crop:N&&!c(N)?{...N}:void 0,markup:U&&U.length?U.map(tn):[],filter:D};if(V.output){const P=b.type?b.type!==A.type:!1,z=/\/jpe?g$/.test(A.type),k=b.quality!==null?z&&p==="always":!1;if(!!!(V.size||V.crop||V.filter||P||k))return C(A)}const F={beforeCreateBlob:r("GET_IMAGE_TRANSFORM_BEFORE_CREATE_BLOB"),afterCreateBlob:r("GET_IMAGE_TRANSFORM_AFTER_CREATE_BLOB"),canvasMemoryLimit:r("GET_IMAGE_TRANSFORM_CANVAS_MEMORY_LIMIT"),stripImageHead:r("GET_IMAGE_TRANSFORM_OUTPUT_STRIP_IMAGE_HEAD")};Ja(A,V,F).then(P=>{const z=i(P,na(A.name,ia(P.type)));C(z)}).catch(L)}),M=w.map(A=>A(v,u,m.getMetadata()));Promise.all(M).then(A=>{l(A.length===1&&A[0].name===null?A[0].file:A)})})})),{options:{allowImageTransform:[!0,a.BOOLEAN],imageTransformImageFilter:[null,a.FUNCTION],imageTransformOutputMimeType:[null,a.STRING],imageTransformOutputQuality:[null,a.INT],imageTransformOutputStripImageHead:[!0,a.BOOLEAN],imageTransformClientTransforms:[null,a.ARRAY],imageTransformOutputQualityMode:["always",a.STRING],imageTransformVariants:[null,a.OBJECT],imageTransformVariantsIncludeDefault:[!0,a.BOOLEAN],imageTransformVariantsDefaultName:[null,a.STRING],imageTransformVariantsIncludeOriginal:[!1,a.BOOLEAN],imageTransformVariantsOriginalName:["original_",a.STRING],imageTransformBeforeCreateBlob:[null,a.FUNCTION],imageTransformAfterCreateBlob:[null,a.FUNCTION],imageTransformCanvasMemoryLimit:[$e&&nn?4096*4096:null,a.INT],imageTransformCanvasBackgroundColor:[null,a.STRING]}}};$e&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:pt}));/*!
 * FilePondPluginPdfPreview 1.0.2
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit undefined for details.
 */const Ie=e=>/pdf$/.test(e.type),on=e=>e.utils.createView({name:"pdf-preview",tag:"div",ignoreRect:!0,create:({root:t,props:a})=>{const n=t.query("GET_ITEM",{id:a.id});if(Ie(n.file)){const i=t.query("GET_PDF_PREVIEW_HEIGHT");t.ref.pdf=document.createElement("object"),t.ref.pdf.setAttribute("height",i),t.ref.pdf.setAttribute("width","100%"),t.ref.pdf.setAttribute("style","position:absolute;left:0;right:0;margin:auto;padding-top:unset;"+(i?"height:"+i+"px;":"")),t.element.appendChild(t.ref.pdf)}},write:e.utils.createRoute({DID_PDF_PREVIEW_LOAD:({root:t,props:a})=>{const{id:n}=a,i=t.query("GET_ITEM",{id:n});if(!i)return;let s=window.URL||window.webkitURL,o=new Blob([i.file],{type:i.file.type});if(t.ref.pdf.type=i.file.type,Ie(i.file)){const d=t.query("GET_PDF_COMPONENT_EXTRA_PARAMS");t.ref.pdf.data=s.createObjectURL(o)+(d?"#?"+d:"")}t.ref.pdf.addEventListener("load",()=>{Ie(i.file)&&t.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:n,height:t.ref.pdf.scrollHeight})},!1)}})}),sn=e=>{const t=({root:n,props:i})=>{const{id:s}=i;n.query("GET_ITEM",s)&&n.dispatch("DID_PDF_PREVIEW_LOAD",{id:s})},a=({root:n,props:i})=>{const s=on(e);n.ref.pdf=n.appendChildView(n.createChildView(s,{id:i.id}))};return e.utils.createView({name:"pdf-preview-wrapper",create:a,write:e.utils.createRoute({DID_PDF_PREVIEW_CONTAINER_CREATE:t})})},Et=e=>{const{addFilter:t,utils:a}=e,{Type:n,createRoute:i}=a,s=sn(e);return t("CREATE_VIEW",o=>{const{is:d,view:c,query:g}=o;if(!d("file"))return;const u=({root:r,props:m})=>{const{id:l}=m,h=g("GET_ITEM",l);!h||h.archived||!Ie(h.file)||(r.ref.pdfPreview=c.appendChildView(c.createChildView(s,{id:l})),r.dispatch("DID_PDF_PREVIEW_CONTAINER_CREATE",{id:l}))};c.registerWriter(i({DID_LOAD_ITEM:u},({root:r,props:m})=>{const{id:l}=m,h=g("GET_ITEM",l);!Ie(h.file)||r.rect.element.hidden}))}),{options:{allowPdfPreview:[!0,n.BOOLEAN],pdfPreviewHeight:[320,n.INT],pdfComponentExtraParams:["toolbar=0&navpanes=0&scrollbar=0&statusbar=0&zoom=0&messages=0&view=fitH&page=1",n.STRING]}}},rn=typeof window<"u"&&typeof window.document<"u";rn&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:Et}));/*!
 * FilePondPluginImagePreview 4.6.11
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const ln=e=>/^image/.test(e.type),Je=(e,t)=>Ae(e.x*t,e.y*t),Qe=(e,t)=>Ae(e.x+t.x,e.y+t.y),cn=e=>{const t=Math.sqrt(e.x*e.x+e.y*e.y);return t===0?{x:0,y:0}:Ae(e.x/t,e.y/t)},ve=(e,t,a)=>{const n=Math.cos(t),i=Math.sin(t),s=Ae(e.x-a.x,e.y-a.y);return Ae(a.x+n*s.x-i*s.y,a.y+i*s.x+n*s.y)},Ae=(e=0,t=0)=>({x:e,y:t}),j=(e,t,a=1,n)=>{if(typeof e=="string")return parseFloat(e)*a;if(typeof e=="number")return e*(n?t[n]:Math.min(t.width,t.height))},dn=(e,t,a)=>{const n=e.borderStyle||e.lineStyle||"solid",i=e.backgroundColor||e.fontColor||"transparent",s=e.borderColor||e.lineColor||"transparent",o=j(e.borderWidth||e.lineWidth,t,a),d=e.lineCap||"round",c=e.lineJoin||"round",g=typeof n=="string"?"":n.map(r=>j(r,t,a)).join(","),u=e.opacity||1;return{"stroke-linecap":d,"stroke-linejoin":c,"stroke-width":o||0,"stroke-dasharray":g,stroke:s,fill:i,opacity:u}},q=e=>e!=null,un=(e,t,a=1)=>{let n=j(e.x,t,a,"width")||j(e.left,t,a,"width"),i=j(e.y,t,a,"height")||j(e.top,t,a,"height"),s=j(e.width,t,a,"width"),o=j(e.height,t,a,"height"),d=j(e.right,t,a,"width"),c=j(e.bottom,t,a,"height");return q(i)||(q(o)&&q(c)?i=t.height-o-c:i=c),q(n)||(q(s)&&q(d)?n=t.width-s-d:n=d),q(s)||(q(n)&&q(d)?s=t.width-n-d:s=0),q(o)||(q(i)&&q(c)?o=t.height-i-c:o=0),{x:n||0,y:i||0,width:s||0,height:o||0}},mn=e=>e.map((t,a)=>`${a===0?"M":"L"} ${t.x} ${t.y}`).join(" "),ne=(e,t)=>Object.keys(t).forEach(a=>e.setAttribute(a,t[a])),hn="http://www.w3.org/2000/svg",ge=(e,t)=>{const a=document.createElementNS(hn,e);return t&&ne(a,t),a},gn=e=>ne(e,{...e.rect,...e.styles}),fn=e=>{const t=e.rect.x+e.rect.width*.5,a=e.rect.y+e.rect.height*.5,n=e.rect.width*.5,i=e.rect.height*.5;return ne(e,{cx:t,cy:a,rx:n,ry:i,...e.styles})},pn={contain:"xMidYMid meet",cover:"xMidYMid slice"},En=(e,t)=>{ne(e,{...e.rect,...e.styles,preserveAspectRatio:pn[t.fit]||"none"})},wn={left:"start",center:"middle",right:"end"},_n=(e,t,a,n)=>{const i=j(t.fontSize,a,n),s=t.fontFamily||"sans-serif",o=t.fontWeight||"normal",d=wn[t.textAlign]||"start";ne(e,{...e.rect,...e.styles,"stroke-width":0,"font-weight":o,"font-size":i,"font-family":s,"text-anchor":d}),e.text!==t.text&&(e.text=t.text,e.textContent=t.text.length?t.text:" ")},In=(e,t,a,n)=>{ne(e,{...e.rect,...e.styles,fill:"none"});const i=e.childNodes[0],s=e.childNodes[1],o=e.childNodes[2],d=e.rect,c={x:e.rect.x+e.rect.width,y:e.rect.y+e.rect.height};if(ne(i,{x1:d.x,y1:d.y,x2:c.x,y2:c.y}),!t.lineDecoration)return;s.style.display="none",o.style.display="none";const g=cn({x:c.x-d.x,y:c.y-d.y}),u=j(.05,a,n);if(t.lineDecoration.indexOf("arrow-begin")!==-1){const r=Je(g,u),m=Qe(d,r),l=ve(d,2,m),h=ve(d,-2,m);ne(s,{style:"display:block;",d:`M${l.x},${l.y} L${d.x},${d.y} L${h.x},${h.y}`})}if(t.lineDecoration.indexOf("arrow-end")!==-1){const r=Je(g,-u),m=Qe(c,r),l=ve(c,2,m),h=ve(c,-2,m);ne(o,{style:"display:block;",d:`M${l.x},${l.y} L${c.x},${c.y} L${h.x},${h.y}`})}},yn=(e,t,a,n)=>{ne(e,{...e.styles,fill:"none",d:mn(t.points.map(i=>({x:j(i.x,a,n,"width"),y:j(i.y,a,n,"height")})))})},Re=e=>t=>ge(e,{id:t.id}),Tn=e=>{const t=ge("image",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return t.onload=()=>{t.setAttribute("opacity",e.opacity||1)},t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.src),t},An=e=>{const t=ge("g",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round"}),a=ge("line");t.appendChild(a);const n=ge("path");t.appendChild(n);const i=ge("path");return t.appendChild(i),t},Mn={image:Tn,rect:Re("rect"),ellipse:Re("ellipse"),text:Re("text"),path:Re("path"),line:An},vn={rect:gn,ellipse:fn,image:En,text:_n,path:yn,line:In},Rn=(e,t)=>Mn[e](t),xn=(e,t,a,n,i)=>{t!=="path"&&(e.rect=un(a,n,i)),e.styles=dn(a,n,i),vn[t](e,a,n,i)},Cn=["x","y","left","top","right","bottom","width","height"],Sn=e=>typeof e=="string"&&/%/.test(e)?parseFloat(e)/100:e,bn=e=>{const[t,a]=e,n=a.points?{}:Cn.reduce((i,s)=>(i[s]=Sn(a[s]),i),{});return[t,{zIndex:0,...a,...n}]},Ln=(e,t)=>e[1].zIndex>t[1].zIndex?1:e[1].zIndex<t[1].zIndex?-1:0,Pn=e=>e.utils.createView({name:"image-preview-markup",tag:"svg",ignoreRect:!0,mixins:{apis:["width","height","crop","markup","resize","dirty"]},write:({root:t,props:a})=>{if(!a.dirty)return;const{crop:n,resize:i,markup:s}=a,o=a.width,d=a.height;let c=n.width,g=n.height;if(i){const{size:l}=i;let h=l&&l.width,w=l&&l.height;const f=i.mode,y=i.upscale;h&&!w&&(w=h),w&&!h&&(h=w);const p=c<h&&g<w;if(!p||p&&y){let E=h/c,_=w/g;if(f==="force")c=h,g=w;else{let I;f==="cover"?I=Math.max(E,_):f==="contain"&&(I=Math.min(E,_)),c=c*I,g=g*I}}}const u={width:o,height:d};t.element.setAttribute("width",u.width),t.element.setAttribute("height",u.height);const r=Math.min(o/c,d/g);t.element.innerHTML="";const m=t.query("GET_IMAGE_PREVIEW_MARKUP_FILTER");s.filter(m).map(bn).sort(Ln).forEach(l=>{const[h,w]=l,f=Rn(h,w);xn(f,h,w,u,r),t.element.appendChild(f)})}}),ye=(e,t)=>({x:e,y:t}),On=(e,t)=>e.x*t.x+e.y*t.y,et=(e,t)=>ye(e.x-t.x,e.y-t.y),Gn=(e,t)=>On(et(e,t),et(e,t)),tt=(e,t)=>Math.sqrt(Gn(e,t)),at=(e,t)=>{const a=e,n=1.5707963267948966,i=t,s=1.5707963267948966-t,o=Math.sin(n),d=Math.sin(i),c=Math.sin(s),g=Math.cos(s),u=a/o,r=u*d,m=u*c;return ye(g*r,g*m)},Vn=(e,t)=>{const a=e.width,n=e.height,i=at(a,t),s=at(n,t),o=ye(e.x+Math.abs(i.x),e.y-Math.abs(i.y)),d=ye(e.x+e.width+Math.abs(s.y),e.y+Math.abs(s.x)),c=ye(e.x-Math.abs(s.y),e.y+e.height-Math.abs(s.x));return{width:tt(o,d),height:tt(o,c)}},Dn=(e,t,a=1)=>{const n=e.height/e.width;let i=1,s=t,o=1,d=n;d>s&&(d=s,o=d/n);const c=Math.max(i/o,s/d),g=e.width/(a*c*o),u=g*t;return{width:g,height:u}},wt=(e,t,a,n)=>{const i=n.x>.5?1-n.x:n.x,s=n.y>.5?1-n.y:n.y,o=i*2*e.width,d=s*2*e.height,c=Vn(t,a);return Math.max(c.width/o,c.height/d)},_t=(e,t)=>{let a=e.width,n=a*t;n>e.height&&(n=e.height,a=n/t);const i=(e.width-a)*.5,s=(e.height-n)*.5;return{x:i,y:s,width:a,height:n}},Fn=(e,t={})=>{let{zoom:a,rotation:n,center:i,aspectRatio:s}=t;s||(s=e.height/e.width);const o=Dn(e,s,a),d={x:o.width*.5,y:o.height*.5},c={x:0,y:0,width:o.width,height:o.height,center:d},g=typeof t.scaleToFit>"u"||t.scaleToFit,u=wt(e,_t(c,s),n,g?i:{x:.5,y:.5}),r=a*u;return{widthFloat:o.width/r,heightFloat:o.height/r,width:Math.round(o.width/r),height:Math.round(o.height/r)}},te={type:"spring",stiffness:.5,damping:.45,mass:10},Bn=e=>e.utils.createView({name:"image-bitmap",ignoreRect:!0,mixins:{styles:["scaleX","scaleY"]},create:({root:t,props:a})=>{t.appendChild(a.image)}}),Nn=e=>e.utils.createView({name:"image-canvas-wrapper",tag:"div",ignoreRect:!0,mixins:{apis:["crop","width","height"],styles:["originX","originY","translateX","translateY","scaleX","scaleY","rotateZ"],animations:{originX:te,originY:te,scaleX:te,scaleY:te,translateX:te,translateY:te,rotateZ:te}},create:({root:t,props:a})=>{a.width=a.image.width,a.height=a.image.height,t.ref.bitmap=t.appendChildView(t.createChildView(Bn(e),{image:a.image}))},write:({root:t,props:a})=>{const{flip:n}=a.crop,{bitmap:i}=t.ref;i.scaleX=n.horizontal?-1:1,i.scaleY=n.vertical?-1:1}}),Un=e=>e.utils.createView({name:"image-clip",tag:"div",ignoreRect:!0,mixins:{apis:["crop","markup","resize","width","height","dirty","background"],styles:["width","height","opacity"],animations:{opacity:{type:"tween",duration:250}}},didWriteView:function({root:t,props:a}){a.background&&(t.element.style.backgroundColor=a.background)},create:({root:t,props:a})=>{t.ref.image=t.appendChildView(t.createChildView(Nn(e),Object.assign({},a))),t.ref.createMarkup=()=>{t.ref.markup||(t.ref.markup=t.appendChildView(t.createChildView(Pn(e),Object.assign({},a))))},t.ref.destroyMarkup=()=>{t.ref.markup&&(t.removeChildView(t.ref.markup),t.ref.markup=null)};const n=t.query("GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR");n!==null&&(n==="grid"?t.element.dataset.transparencyIndicator=n:t.element.dataset.transparencyIndicator="color")},write:({root:t,props:a,shouldOptimize:n})=>{const{crop:i,markup:s,resize:o,dirty:d,width:c,height:g}=a;t.ref.image.crop=i;const u={x:0,y:0,width:c,height:g,center:{x:c*.5,y:g*.5}},r={width:t.ref.image.width,height:t.ref.image.height},m={x:i.center.x*r.width,y:i.center.y*r.height},l={x:u.center.x-r.width*i.center.x,y:u.center.y-r.height*i.center.y},h=Math.PI*2+i.rotation%(Math.PI*2),w=i.aspectRatio||r.height/r.width,f=typeof i.scaleToFit>"u"||i.scaleToFit,y=wt(r,_t(u,w),h,f?i.center:{x:.5,y:.5}),p=i.zoom*y;s&&s.length?(t.ref.createMarkup(),t.ref.markup.width=c,t.ref.markup.height=g,t.ref.markup.resize=o,t.ref.markup.dirty=d,t.ref.markup.markup=s,t.ref.markup.crop=Fn(r,i)):t.ref.markup&&t.ref.destroyMarkup();const E=t.ref.image;if(n){E.originX=null,E.originY=null,E.translateX=null,E.translateY=null,E.rotateZ=null,E.scaleX=null,E.scaleY=null;return}E.originX=m.x,E.originY=m.y,E.translateX=l.x,E.translateY=l.y,E.rotateZ=h,E.scaleX=p,E.scaleY=p}}),kn=e=>e.utils.createView({name:"image-preview",tag:"div",ignoreRect:!0,mixins:{apis:["image","crop","markup","resize","dirty","background"],styles:["translateY","scaleX","scaleY","opacity"],animations:{scaleX:te,scaleY:te,translateY:te,opacity:{type:"tween",duration:400}}},create:({root:t,props:a})=>{t.ref.clip=t.appendChildView(t.createChildView(Un(e),{id:a.id,image:a.image,crop:a.crop,markup:a.markup,resize:a.resize,dirty:a.dirty,background:a.background}))},write:({root:t,props:a,shouldOptimize:n})=>{const{clip:i}=t.ref,{image:s,crop:o,markup:d,resize:c,dirty:g}=a;if(i.crop=o,i.markup=d,i.resize=c,i.dirty=g,i.opacity=n?0:1,n||t.rect.element.hidden)return;const u=s.height/s.width;let r=o.aspectRatio||u;const m=t.rect.inner.width,l=t.rect.inner.height;let h=t.query("GET_IMAGE_PREVIEW_HEIGHT");const w=t.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),f=t.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),y=t.query("GET_PANEL_ASPECT_RATIO"),p=t.query("GET_ALLOW_MULTIPLE");y&&!p&&(h=m*y,r=y);let E=h!==null?h:Math.max(w,Math.min(m*r,f)),_=E/r;_>m&&(_=m,E=_*r),E>l&&(E=l,_=l/r),i.width=_,i.height=E}});let zn=`<svg width="500" height="200" viewBox="0 0 500 200" preserveAspectRatio="none">
    <defs>
        <radialGradient id="gradient-__UID__" cx=".5" cy="1.25" r="1.15">
            <stop offset='50%' stop-color='#000000'/>
            <stop offset='56%' stop-color='#0a0a0a'/>
            <stop offset='63%' stop-color='#262626'/>
            <stop offset='69%' stop-color='#4f4f4f'/>
            <stop offset='75%' stop-color='#808080'/>
            <stop offset='81%' stop-color='#b1b1b1'/>
            <stop offset='88%' stop-color='#dadada'/>
            <stop offset='94%' stop-color='#f6f6f6'/>
            <stop offset='100%' stop-color='#ffffff'/>
        </radialGradient>
        <mask id="mask-__UID__">
            <rect x="0" y="0" width="500" height="200" fill="url(#gradient-__UID__)"></rect>
        </mask>
    </defs>
    <rect x="0" width="500" height="200" fill="currentColor" mask="url(#mask-__UID__)"></rect>
</svg>`,nt=0;const $n=e=>e.utils.createView({name:"image-preview-overlay",tag:"div",ignoreRect:!0,create:({root:t,props:a})=>{let n=zn;if(document.querySelector("base")){const i=new URL(window.location.href.replace(window.location.hash,"")).href;n=n.replace(/url\(\#/g,"url("+i+"#")}nt++,t.element.classList.add(`filepond--image-preview-overlay-${a.status}`),t.element.innerHTML=n.replace(/__UID__/g,nt)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}}),Wn=function(){self.onmessage=e=>{createImageBitmap(e.data.message.file).then(t=>{self.postMessage({id:e.data.id,message:t},[t])})}},Hn=function(){self.onmessage=e=>{const t=e.data.message.imageData,a=e.data.message.colorMatrix,n=t.data,i=n.length,s=a[0],o=a[1],d=a[2],c=a[3],g=a[4],u=a[5],r=a[6],m=a[7],l=a[8],h=a[9],w=a[10],f=a[11],y=a[12],p=a[13],E=a[14],_=a[15],I=a[16],v=a[17],M=a[18],A=a[19];let T=0,C=0,L=0,R=0,x=0;for(;T<i;T+=4)C=n[T]/255,L=n[T+1]/255,R=n[T+2]/255,x=n[T+3]/255,n[T]=Math.max(0,Math.min((C*s+L*o+R*d+x*c+g)*255,255)),n[T+1]=Math.max(0,Math.min((C*u+L*r+R*m+x*l+h)*255,255)),n[T+2]=Math.max(0,Math.min((C*w+L*f+R*y+x*p+E)*255,255)),n[T+3]=Math.max(0,Math.min((C*_+L*I+R*v+x*M+A)*255,255));self.postMessage({id:e.data.id,message:t},[t.data.buffer])}},Yn=(e,t)=>{let a=new Image;a.onload=()=>{const n=a.naturalWidth,i=a.naturalHeight;a=null,t(n,i)},a.src=e},jn={1:()=>[1,0,0,1,0,0],2:e=>[-1,0,0,1,e,0],3:(e,t)=>[-1,0,0,-1,e,t],4:(e,t)=>[1,0,0,-1,0,t],5:()=>[0,1,1,0,0,0],6:(e,t)=>[0,1,-1,0,t,0],7:(e,t)=>[0,-1,-1,0,t,e],8:e=>[0,-1,1,0,0,e]},Zn=(e,t,a,n)=>{n!==-1&&e.transform.apply(e,jn[n](t,a))},Xn=(e,t,a,n)=>{t=Math.round(t),a=Math.round(a);const i=document.createElement("canvas");i.width=t,i.height=a;const s=i.getContext("2d");return n>=5&&n<=8&&([t,a]=[a,t]),Zn(s,t,a,n),s.drawImage(e,0,0,t,a),i},It=e=>/^image/.test(e.type)&&!/svg/.test(e.type),qn=10,Kn=10,Jn=e=>{const t=Math.min(qn/e.width,Kn/e.height),a=document.createElement("canvas"),n=a.getContext("2d"),i=a.width=Math.ceil(e.width*t),s=a.height=Math.ceil(e.height*t);n.drawImage(e,0,0,i,s);let o=null;try{o=n.getImageData(0,0,i,s).data}catch{return null}const d=o.length;let c=0,g=0,u=0,r=0;for(;r<d;r+=4)c+=o[r]*o[r],g+=o[r+1]*o[r+1],u+=o[r+2]*o[r+2];return c=Oe(c,d),g=Oe(g,d),u=Oe(u,d),{r:c,g,b:u}},Oe=(e,t)=>Math.floor(Math.sqrt(e/(t/4))),Qn=(e,t)=>(t=t||document.createElement("canvas"),t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0),t),ei=e=>{let t;try{t=new ImageData(e.width,e.height)}catch{t=document.createElement("canvas").getContext("2d").createImageData(e.width,e.height)}return t.data.set(new Uint8ClampedArray(e.data)),t},ti=e=>new Promise((t,a)=>{const n=new Image;n.crossOrigin="Anonymous",n.onload=()=>{t(n)},n.onerror=i=>{a(i)},n.src=e}),ai=e=>{const t=$n(e),a=kn(e),{createWorker:n}=e.utils,i=(p,E,_)=>new Promise(I=>{p.ref.imageData||(p.ref.imageData=_.getContext("2d").getImageData(0,0,_.width,_.height));const v=ei(p.ref.imageData);if(!E||E.length!==20)return _.getContext("2d").putImageData(v,0,0),I();const M=n(Hn);M.post({imageData:v,colorMatrix:E},A=>{_.getContext("2d").putImageData(A,0,0),M.terminate(),I()},[v.data.buffer])}),s=(p,E)=>{p.removeChildView(E),E.image.width=1,E.image.height=1,E._destroy()},o=({root:p})=>{const E=p.ref.images.shift();return E.opacity=0,E.translateY=-15,p.ref.imageViewBin.push(E),E},d=({root:p,props:E,image:_})=>{const I=E.id,v=p.query("GET_ITEM",{id:I});if(!v)return;const M=v.getMetadata("crop")||{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},zoom:1,rotation:0,aspectRatio:null},A=p.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR");let T,C,L=!1;p.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(T=v.getMetadata("markup")||[],C=v.getMetadata("resize"),L=!0);const R=p.appendChildView(p.createChildView(a,{id:I,image:_,crop:M,resize:C,markup:T,dirty:L,background:A,opacity:0,scaleX:1.15,scaleY:1.15,translateY:15}),p.childViews.length);p.ref.images.push(R),R.opacity=1,R.scaleX=1,R.scaleY=1,R.translateY=0,setTimeout(()=>{p.dispatch("DID_IMAGE_PREVIEW_SHOW",{id:I})},250)},c=({root:p,props:E})=>{const _=p.query("GET_ITEM",{id:E.id});if(!_)return;const I=p.ref.images[p.ref.images.length-1];I.crop=_.getMetadata("crop"),I.background=p.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),p.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(I.dirty=!0,I.resize=_.getMetadata("resize"),I.markup=_.getMetadata("markup"))},g=({root:p,props:E,action:_})=>{if(!/crop|filter|markup|resize/.test(_.change.key)||!p.ref.images.length)return;const I=p.query("GET_ITEM",{id:E.id});if(I){if(/filter/.test(_.change.key)){const v=p.ref.images[p.ref.images.length-1];i(p,_.change.value,v.image);return}if(/crop|markup|resize/.test(_.change.key)){const v=I.getMetadata("crop"),M=p.ref.images[p.ref.images.length-1];if(v&&v.aspectRatio&&M.crop&&M.crop.aspectRatio&&Math.abs(v.aspectRatio-M.crop.aspectRatio)>1e-5){const A=o({root:p});d({root:p,props:E,image:Qn(A.image)})}else c({root:p,props:E})}}},u=p=>{const _=window.navigator.userAgent.match(/Firefox\/([0-9]+)\./);return(_?parseInt(_[1]):null)<=58?!1:"createImageBitmap"in window&&It(p)},r=({root:p,props:E})=>{const{id:_}=E,I=p.query("GET_ITEM",_);if(!I)return;const v=URL.createObjectURL(I.file);Yn(v,(M,A)=>{p.dispatch("DID_IMAGE_PREVIEW_CALCULATE_SIZE",{id:_,width:M,height:A})})},m=({root:p,props:E})=>{const{id:_}=E,I=p.query("GET_ITEM",_);if(!I)return;const v=URL.createObjectURL(I.file),M=()=>{ti(v).then(A)},A=T=>{URL.revokeObjectURL(v);const L=(I.getMetadata("exif")||{}).orientation||-1;let{width:R,height:x}=T;if(!R||!x)return;L>=5&&L<=8&&([R,x]=[x,R]);const G=Math.max(1,window.devicePixelRatio*.75),N=p.query("GET_IMAGE_PREVIEW_ZOOM_FACTOR")*G,D=x/R,U=p.rect.element.width,V=p.rect.element.height;let F=U,P=F*D;D>1?(F=Math.min(R,U*N),P=F*D):(P=Math.min(x,V*N),F=P/D);const z=Xn(T,F,P,L),k=()=>{const Q=p.query("GET_IMAGE_PREVIEW_CALCULATE_AVERAGE_IMAGE_COLOR")?Jn(data):null;I.setMetadata("color",Q,!0),"close"in T&&T.close(),p.ref.overlayShadow.opacity=1,d({root:p,props:E,image:z})},Z=I.getMetadata("filter");Z?i(p,Z,z).then(k):k()};if(u(I.file)){const T=n(Wn);T.post({file:I.file},C=>{if(T.terminate(),!C){M();return}A(C)})}else M()},l=({root:p})=>{const E=p.ref.images[p.ref.images.length-1];E.translateY=0,E.scaleX=1,E.scaleY=1,E.opacity=1},h=({root:p})=>{p.ref.overlayShadow.opacity=1,p.ref.overlayError.opacity=0,p.ref.overlaySuccess.opacity=0},w=({root:p})=>{p.ref.overlayShadow.opacity=.25,p.ref.overlayError.opacity=1},f=({root:p})=>{p.ref.overlayShadow.opacity=.25,p.ref.overlaySuccess.opacity=1},y=({root:p})=>{p.ref.images=[],p.ref.imageData=null,p.ref.imageViewBin=[],p.ref.overlayShadow=p.appendChildView(p.createChildView(t,{opacity:0,status:"idle"})),p.ref.overlaySuccess=p.appendChildView(p.createChildView(t,{opacity:0,status:"success"})),p.ref.overlayError=p.appendChildView(p.createChildView(t,{opacity:0,status:"failure"}))};return e.utils.createView({name:"image-preview-wrapper",create:y,styles:["height"],apis:["height"],destroy:({root:p})=>{p.ref.images.forEach(E=>{E.image.width=1,E.image.height=1})},didWriteView:({root:p})=>{p.ref.images.forEach(E=>{E.dirty=!1})},write:e.utils.createRoute({DID_IMAGE_PREVIEW_DRAW:l,DID_IMAGE_PREVIEW_CONTAINER_CREATE:r,DID_FINISH_CALCULATE_PREVIEWSIZE:m,DID_UPDATE_ITEM_METADATA:g,DID_THROW_ITEM_LOAD_ERROR:w,DID_THROW_ITEM_PROCESSING_ERROR:w,DID_THROW_ITEM_INVALID:w,DID_COMPLETE_ITEM_PROCESSING:f,DID_START_ITEM_PROCESSING:h,DID_REVERT_ITEM_PROCESSING:h},({root:p})=>{const E=p.ref.imageViewBin.filter(_=>_.opacity===0);p.ref.imageViewBin=p.ref.imageViewBin.filter(_=>_.opacity>0),E.forEach(_=>s(p,_)),E.length=0})})},yt=e=>{const{addFilter:t,utils:a}=e,{Type:n,createRoute:i,isFile:s}=a,o=ai(e);return t("CREATE_VIEW",d=>{const{is:c,view:g,query:u}=d;if(!c("file")||!u("GET_ALLOW_IMAGE_PREVIEW"))return;const r=({root:f,props:y})=>{const{id:p}=y,E=u("GET_ITEM",p);if(!E||!s(E.file)||E.archived)return;const _=E.file;if(!ln(_)||!u("GET_IMAGE_PREVIEW_FILTER_ITEM")(E))return;const I="createImageBitmap"in(window||{}),v=u("GET_IMAGE_PREVIEW_MAX_FILE_SIZE");if(!I&&v&&_.size>v)return;f.ref.imagePreview=g.appendChildView(g.createChildView(o,{id:p}));const M=f.query("GET_IMAGE_PREVIEW_HEIGHT");M&&f.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:E.id,height:M});const A=!I&&_.size>u("GET_IMAGE_PREVIEW_MAX_INSTANT_PREVIEW_FILE_SIZE");f.dispatch("DID_IMAGE_PREVIEW_CONTAINER_CREATE",{id:p},A)},m=(f,y)=>{if(!f.ref.imagePreview)return;let{id:p}=y;const E=f.query("GET_ITEM",{id:p});if(!E)return;const _=f.query("GET_PANEL_ASPECT_RATIO"),I=f.query("GET_ITEM_PANEL_ASPECT_RATIO"),v=f.query("GET_IMAGE_PREVIEW_HEIGHT");if(_||I||v)return;let{imageWidth:M,imageHeight:A}=f.ref;if(!M||!A)return;const T=f.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),C=f.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),R=(E.getMetadata("exif")||{}).orientation||-1;if(R>=5&&R<=8&&([M,A]=[A,M]),!It(E.file)||f.query("GET_IMAGE_PREVIEW_UPSCALE")){const U=2048/M;M*=U,A*=U}const x=A/M,G=(E.getMetadata("crop")||{}).aspectRatio||x;let b=Math.max(T,Math.min(A,C));const N=f.rect.element.width,D=Math.min(N*G,b);f.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:E.id,height:D})},l=({root:f})=>{f.ref.shouldRescale=!0},h=({root:f,action:y})=>{y.change.key==="crop"&&(f.ref.shouldRescale=!0)},w=({root:f,action:y})=>{f.ref.imageWidth=y.width,f.ref.imageHeight=y.height,f.ref.shouldRescale=!0,f.ref.shouldDrawPreview=!0,f.dispatch("KICK")};g.registerWriter(i({DID_RESIZE_ROOT:l,DID_STOP_RESIZE:l,DID_LOAD_ITEM:r,DID_IMAGE_PREVIEW_CALCULATE_SIZE:w,DID_UPDATE_ITEM_METADATA:h},({root:f,props:y})=>{f.ref.imagePreview&&(f.rect.element.hidden||(f.ref.shouldRescale&&(m(f,y),f.ref.shouldRescale=!1),f.ref.shouldDrawPreview&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{f.dispatch("DID_FINISH_CALCULATE_PREVIEWSIZE",{id:y.id})})}),f.ref.shouldDrawPreview=!1)))}))}),{options:{allowImagePreview:[!0,n.BOOLEAN],imagePreviewFilterItem:[()=>!0,n.FUNCTION],imagePreviewHeight:[null,n.INT],imagePreviewMinHeight:[44,n.INT],imagePreviewMaxHeight:[256,n.INT],imagePreviewMaxFileSize:[null,n.INT],imagePreviewZoomFactor:[2,n.INT],imagePreviewUpscale:[!1,n.BOOLEAN],imagePreviewMaxInstantPreviewFileSize:[1e6,n.INT],imagePreviewTransparencyIndicator:[null,n.STRING],imagePreviewCalculateAverageImageColor:[!1,n.BOOLEAN],imagePreviewMarkupShow:[!0,n.BOOLEAN],imagePreviewMarkupFilter:[()=>!0,n.FUNCTION]}}},ni=typeof window<"u"&&typeof window.document<"u";ni&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:yt}));/*!
 * FilePondPluginImageEdit 1.6.3
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const Ge=e=>/^image/.test(e.type),Tt=e=>{const{addFilter:t,utils:a,views:n}=e,{Type:i,createRoute:s,createItemAPI:o=u=>u}=a,{fileActionButton:d}=n;t("SHOULD_REMOVE_ON_REVERT",(u,{item:r,query:m})=>new Promise(l=>{const{file:h}=r,w=m("GET_ALLOW_IMAGE_EDIT")&&m("GET_IMAGE_EDIT_ALLOW_EDIT")&&Ge(h);l(!w)})),t("DID_LOAD_ITEM",(u,{query:r,dispatch:m})=>new Promise((l,h)=>{if(u.origin>1){l(u);return}const{file:w}=u;if(!r("GET_ALLOW_IMAGE_EDIT")||!r("GET_IMAGE_EDIT_INSTANT_EDIT")){l(u);return}if(!Ge(w)){l(u);return}const f=(p,E,_)=>I=>{c.shift(),I?E(p):_(p),m("KICK"),y()},y=()=>{if(!c.length)return;const{item:p,resolve:E,reject:_}=c[0];m("EDIT_ITEM",{id:p.id,handleEditorResponse:f(p,E,_)})};g({item:u,resolve:l,reject:h}),c.length===1&&y()})),t("DID_CREATE_ITEM",(u,{query:r,dispatch:m})=>{u.extend("edit",()=>{m("EDIT_ITEM",{id:u.id})})});const c=[],g=u=>(c.push(u),u);return t("CREATE_VIEW",u=>{const{is:r,view:m,query:l}=u;if(!l("GET_ALLOW_IMAGE_EDIT"))return;const h=l("GET_ALLOW_IMAGE_PREVIEW");if(!(r("file-info")&&!h||r("file")&&h))return;const f=l("GET_IMAGE_EDIT_EDITOR");if(!f)return;f.filepondCallbackBridge||(f.outputData=!0,f.outputFile=!1,f.filepondCallbackBridge={onconfirm:f.onconfirm||(()=>{}),oncancel:f.oncancel||(()=>{})});const y=({root:_,props:I,action:v})=>{const{id:M}=I,{handleEditorResponse:A}=v;f.cropAspectRatio=_.query("GET_IMAGE_CROP_ASPECT_RATIO")||f.cropAspectRatio,f.outputCanvasBackgroundColor=_.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR")||f.outputCanvasBackgroundColor;const T=_.query("GET_ITEM",M);if(!T)return;const C=T.file,L=T.getMetadata("crop"),R={center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},zoom:1,rotation:0,aspectRatio:null},x=T.getMetadata("resize"),G=T.getMetadata("filter")||null,b=T.getMetadata("filters")||null,N=T.getMetadata("colors")||null,D=T.getMetadata("markup")||null,U={crop:L||R,size:x?{upscale:x.upscale,mode:x.mode,width:x.size.width,height:x.size.height}:null,filter:b?b.id||b.matrix:_.query("GET_ALLOW_IMAGE_FILTER")&&_.query("GET_IMAGE_FILTER_COLOR_MATRIX")&&!N?G:null,color:N,markup:D};f.onconfirm=({data:V})=>{const{crop:F,size:P,filter:z,color:k,colorMatrix:Z,markup:Q}=V,W={};if(F&&(W.crop=F),P){const B=(T.getMetadata("resize")||{}).size,$={width:P.width,height:P.height};!($.width&&$.height)&&B&&($.width=B.width,$.height=B.height),($.width||$.height)&&(W.resize={upscale:P.upscale,mode:P.mode,size:$})}Q&&(W.markup=Q),W.colors=k,W.filters=z,W.filter=Z,T.setMetadata(W),f.filepondCallbackBridge.onconfirm(V,o(T)),A&&(f.onclose=()=>{A(!0),f.onclose=null})},f.oncancel=()=>{f.filepondCallbackBridge.oncancel(o(T)),A&&(f.onclose=()=>{A(!1),f.onclose=null})},f.open(C,U)},p=({root:_,props:I})=>{if(!l("GET_IMAGE_EDIT_ALLOW_EDIT"))return;const{id:v}=I,M=l("GET_ITEM",v);if(!M)return;const A=M.file;if(Ge(A))if(_.ref.handleEdit=T=>{T.stopPropagation(),_.dispatch("EDIT_ITEM",{id:v})},h){const T=m.createChildView(d,{label:"edit",icon:l("GET_IMAGE_EDIT_ICON_EDIT"),opacity:0});T.element.classList.add("filepond--action-edit-item"),T.element.dataset.align=l("GET_STYLE_IMAGE_EDIT_BUTTON_EDIT_ITEM_POSITION"),T.on("click",_.ref.handleEdit),_.ref.buttonEditItem=m.appendChildView(T)}else{const T=m.element.querySelector(".filepond--file-info-main"),C=document.createElement("button");C.className="filepond--action-edit-item-alt",C.innerHTML=l("GET_IMAGE_EDIT_ICON_EDIT")+"<span>edit</span>",C.addEventListener("click",_.ref.handleEdit),T.appendChild(C),_.ref.editButton=C}};m.registerDestroyer(({root:_})=>{_.ref.buttonEditItem&&_.ref.buttonEditItem.off("click",_.ref.handleEdit),_.ref.editButton&&_.ref.editButton.removeEventListener("click",_.ref.handleEdit)});const E={EDIT_ITEM:y,DID_LOAD_ITEM:p};if(h){const _=({root:I})=>{I.ref.buttonEditItem&&(I.ref.buttonEditItem.opacity=1)};E.DID_IMAGE_PREVIEW_SHOW=_}m.registerWriter(s(E))}),{options:{allowImageEdit:[!0,i.BOOLEAN],styleImageEditButtonEditItemPosition:["bottom center",i.STRING],imageEditInstantEdit:[!1,i.BOOLEAN],imageEditAllowEdit:[!0,i.BOOLEAN],imageEditIconEdit:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false"><path d="M8.5 17h1.586l7-7L15.5 8.414l-7 7V17zm-1.707-2.707l8-8a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1 0 1.414l-8 8A1 1 0 0 1 10.5 19h-3a1 1 0 0 1-1-1v-3a1 1 0 0 1 .293-.707z" fill="currentColor" fill-rule="nonzero"/></svg>',i.STRING],imageEditEditor:[null,i.OBJECT]}}},ii=typeof window<"u"&&typeof window.document<"u";ii&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:Tt}));const oi={__name:"SingleUploader",props:{options:{type:Object,default:null}},setup(e){const t=e;Ot(u=>({"72f07ea3":s.value.size}));const a=De(),n=J(null),i=Bt(rt,st,yt,lt,ct,dt,pt,Tt,Et),s=J({size:""});Fe(()=>t.options,u=>{s.value={...s.value,...u},console.log("uploadOptions.value",s.value)});const o=J([]),d={url:"",process:(u,r,m,l,h,w,f,y,p)=>{console.log("process file",r);const E=new FormData;E.append(u,r,r.name),E.append("profile_id",a.user.profile.id),E.append("file_id",r.id);const _=new XMLHttpRequest;return _.open("POST","/api/file/upload"),_.setRequestHeader("X-CSRF-TOKEN",document.getElementsByTagName("meta")["csrf-token"].content),_.setRequestHeader("Authorization",`Bearer ${a.token}`),_.upload.onprogress=I=>{l(I.lengthComputable,I.loaded,I.total)},_.onload=function(){_.status>=200&&_.status<300?(console.log("request.responseText",_.responseText),console.log("selectedFiles",o.value)):w("Process Error")},_.send(E),{abort:()=>{_.abort(),f()}}},revert:null,restore:null,load:null,fetch:null},c=(u,r)=>{console.log("file",u),console.log(" status",r)},g=()=>{console.log("FilePond has initialized")};return J({size:"320px"}),(u,r)=>(fe(),Ce(Gt,{class:"rounded-lg overflow-hidden",height:s.value.size,width:s.value.size,color:"grey-lighten-3"},{default:O(()=>[S(Y(i),{name:"filepond",ref_key:"pond",ref:n,instantUpload:"false",maxFileSize:"5MB","accepted-file-types":"image/jpeg, image/png, application/pdf",server:d,files:o.value,onInit:g,onError:c,credits:{},imagePreviewHeight:s.value.size,imageResizeTargetWidth:s.value.size,imageResizeTargetHeight:s.value.size,imageCropAspectRatio:"1:1",stylePanelLayout:"integrated",styleLoadIndicatorPosition:"center bottom",styleProgressIndicatorPosition:"right bottom",styleButtonRemoveItemPosition:"left bottom",styleButtonProcessItemPosition:"right bottom"},null,8,["files","imagePreviewHeight","imageResizeTargetWidth","imageResizeTargetHeight"])]),_:1},8,["height","width"]))}},si=[{name:"Afghanistan"},{name:"Åland Islands"},{name:"Albania"},{name:"Algeria"},{name:"American Samoa"},{name:"Andorra"},{name:"Angola"},{name:"Anguilla"},{name:"Antarctica"},{name:"Antigua and Barbuda"},{name:"Argentina"},{name:"Armenia"},{name:"Aruba"},{name:"Australia"},{name:"Austria"},{name:"Azerbaijan"},{name:"Bahamas"},{name:"Bahrain"},{name:"Bangladesh"},{name:"Barbados"},{name:"Belarus"},{name:"Belgium"},{name:"Belize"},{name:"Benin"},{name:"Bermuda"},{name:"Bhutan"},{name:"Bolivia (Plurinational State of)"},{name:"Bonaire, Sint Eustatius and Saba"},{name:"Bosnia and Herzegovina"},{name:"Botswana"},{name:"Bouvet Island"},{name:"Brazil"},{name:"British Indian Ocean Territory"},{name:"Brunei Darussalam"},{name:"Bulgaria"},{name:"Burkina Faso"},{name:"Burundi"},{name:"Cabo Verde"},{name:"Cambodia"},{name:"Cameroon"},{name:"Canada"},{name:"Cayman Islands"},{name:"Central African Republic"},{name:"Chad"},{name:"Chile"},{name:"China"},{name:"Christmas Island"},{name:"Cocos (Keeling) Islands"},{name:"Colombia"},{name:"Comoros"},{name:"Congo (Republic of the)"},{name:"Congo (Democratic Republic of the)"},{name:"Cook Islands"},{name:"Costa Rica"},{name:"Côte d'Ivoire"},{name:"Croatia"},{name:"Cuba"},{name:"Curaçao"},{name:"Cyprus"},{name:"Czech Republic"},{name:"Denmark"},{name:"Djibouti"},{name:"Dominica"},{name:"Dominican Republic"},{name:"Ecuador"},{name:"Egypt"},{name:"El Salvador"},{name:"Equatorial Guinea"},{name:"Eritrea"},{name:"Estonia"},{name:"Ethiopia"},{name:"Falkland Islands (Malvinas)"},{name:"Faroe Islands"},{name:"Fiji"},{name:"Finland"},{name:"France"},{name:"French Guiana"},{name:"French Polynesia"},{name:"French Southern Territories"},{name:"Gabon"},{name:"Gambia"},{name:"Georgia"},{name:"Germany"},{name:"Ghana"},{name:"Gibraltar"},{name:"Greece"},{name:"Greenland"},{name:"Grenada"},{name:"Guadeloupe"},{name:"Guam"},{name:"Guatemala"},{name:"Guernsey"},{name:"Guinea"},{name:"Guinea-Bissau"},{name:"Guyana"},{name:"Haiti"},{name:"Heard Island and McDonald Islands"},{name:"Vatican City State"},{name:"Honduras"},{name:"Hong Kong"},{name:"Hungary"},{name:"Iceland"},{name:"India"},{name:"Indonesia"},{name:"Iran"},{name:"Iraq"},{name:"Ireland"},{name:"Isle of Man"},{name:"Israel"},{name:"Italy"},{name:"Jamaica"},{name:"Japan"},{name:"Jersey"},{name:"Jordan"},{name:"Kazakhstan"},{name:"Kenya"},{name:"Kiribati"},{name:"Korea (Democratic People's Republic of)"},{name:"Korea (Republic of)"},{name:"Kuwait"},{name:"Kyrgyzstan"},{name:"Lao People's Democratic Republic"},{name:"Latvia"},{name:"Lebanon"},{name:"Lesotho"},{name:"Liberia"},{name:"Libya"},{name:"Liechtenstein"},{name:"Lithuania"},{name:"Luxembourg"},{name:"Macao"},{name:"Macedonia (the former Yugoslav Republic of)"},{name:"Madagascar"},{name:"Malawi"},{name:"Malaysia"},{name:"Maldives"},{name:"Mali"},{name:"Malta"},{name:"Marshall Islands"},{name:"Martinique"},{name:"Mauritania"},{name:"Mauritius"},{name:"Mayotte"},{name:"Mexico"},{name:"Micronesia (Federated States of)"},{name:"Moldova (Republic of)"},{name:"Monaco"},{name:"Mongolia"},{name:"Montenegro"},{name:"Montserrat"},{name:"Morocco"},{name:"Mozambique"},{name:"Myanmar"},{name:"Namibia"},{name:"Nauru"},{name:"Nepal"},{name:"Netherlands"},{name:"New Caledonia"},{name:"New Zealand"},{name:"Nicaragua"},{name:"Niger"},{name:"Nigeria"},{name:"Niue"},{name:"Norfolk Island"},{name:"Northern Mariana Islands"},{name:"Norway"},{name:"Oman"},{name:"Pakistan"},{name:"Palau"},{name:"Palestine, State of"},{name:"Panama"},{name:"Papua New Guinea"},{name:"Paraguay"},{name:"Peru"},{name:"Philippines"},{name:"Pitcairn"},{name:"Poland"},{name:"Portugal"},{name:"Puerto Rico"},{name:"Qatar"},{name:"Réunion"},{name:"Romania"},{name:"Russian Federation"},{name:"Rwanda"},{name:"Saint Barthélemy"},{name:"Saint Helena, Ascension and Tristan da Cunha"},{name:"Saint Kitts and Nevis"},{name:"Saint Lucia"},{name:"Saint Martin (French part)"},{name:"Saint Pierre and Miquelon"},{name:"Saint Vincent and the Grenadines"},{name:"Samoa"},{name:"San Marino"},{name:"Sao Tome and Principe"},{name:"Saudi Arabia"},{name:"Senegal"},{name:"Serbia"},{name:"Seychelles"},{name:"Sierra Leone"},{name:"Singapore"},{name:"Sint Maarten (Dutch part)"},{name:"Slovakia"},{name:"Slovenia"},{name:"Solomon Islands"},{name:"Somalia"},{name:"South Africa"},{name:"South Georgia and the South Sandwich Islands"},{name:"South Sudan"},{name:"Spain"},{name:"Sri Lanka"},{name:"Sudan"},{name:"Suriname"},{name:"Svalbard and Jan Mayen"},{name:"Swaziland"},{name:"Sweden"},{name:"Switzerland"},{name:"Syrian Arab Republic"},{name:"Taiwan, Province of China"},{name:"Tajikistan"},{name:"Tanzania, United Republic of"},{name:"Thailand"},{name:"Timor-Leste"},{name:"Togo"},{name:"Tokelau"},{name:"Tonga"},{name:"Trinidad and Tobago"},{name:"Tunisia"},{name:"Turkey"},{name:"Turkmenistan"},{name:"Turks and Caicos Islands"},{name:"Tuvalu"},{name:"Uganda"},{name:"Ukraine"},{name:"United Arab Emirates"},{name:"United Kingdom of Great Britain and Northern Ireland"},{name:"United States Minor Outlying Islands"},{name:"United States of America"},{name:"Uruguay"},{name:"Uzbekistan"},{name:"Vanuatu"},{name:"Venezuela (Bolivarian Republic of)"},{name:"Vietnam"},{name:"Virgin Islands (British)"},{name:"Virgin Islands (U.S.)"},{name:"Wallis and Futuna"},{name:"Western Sahara"},{name:"Yemen"},{name:"Zambia"},{name:"Zimbabwe"}],mi={__name:"ProfileForm",props:["user"],emits:["saved"],setup(e,{emit:t}){var m;const a=e,n=De(),i=Vt(),s=J([]);s.value=si;const o=J({loading:!1,data:{user_id:i.params.id,display_name:null,dob:null,nationality:null}});o.value.data=Object.assign({},a.user),Fe(()=>a.user,l=>{o.value.data=Object.assign({},l)});const d=()=>{o.value.data=a.user.profile};(m=a.user)!=null&&m.id&&d();const c=J([]);(async()=>{await Ve(n.token).get("/api/fetch/companies").then(l=>{c.value=l.data}).catch(l=>{})})();let u=ke({ecode:ce().required(),display_name:ce().required(),first_name:ce().required(),last_name:ce().required()});const r=async()=>{var l,h;o.value.loading=!0,o.value.data={...o.value.data,id:(h=(l=a.user)==null?void 0:l.profile)!=null&&h.id?a.user.profile.id:a.user.id},await Ve(n.token).post("/api/account/profile/save",o.value.data).then(w=>{o.value.loading=!1,t("saved",w.data.message)}).catch(w=>{o.value.loading=!1})};return(l,h)=>(fe(),Ce(Ue,null,{default:O(()=>[S(Be,{class:"text-primary text-capitalize"},{default:O(()=>[de("Profile Settings")]),_:1}),S(Ne,null,{default:O(()=>[S(Y(ze),{as:"v-form","validation-schema":Y(u)},{default:O(({meta:w})=>[S(oi,{class:"mb-6",options:{size:"320px"}}),S(Y(oe),{name:"ecode",modelValue:o.value.data.ecode,"onUpdate:modelValue":h[1]||(h[1]=f=>o.value.data.ecode=f)},{default:O(({field:f})=>[S(ie,K({modelValue:o.value.data.ecode,"onUpdate:modelValue":h[0]||(h[0]=y=>o.value.data.ecode=y)},f,{label:"Employee ID",density:"compact",variant:"outlined",disabled:!0}),null,16,["modelValue"])]),_:1},8,["modelValue"]),S(Y(oe),{name:"display_name",modelValue:o.value.data.display_name,"onUpdate:modelValue":h[3]||(h[3]=f=>o.value.data.display_name=f)},{default:O(({field:f,errors:y})=>[S(ie,K({modelValue:o.value.data.display_name,"onUpdate:modelValue":h[2]||(h[2]=p=>o.value.data.display_name=p)},f,{label:"Full name",density:"compact",variant:"outlined","error-messages":y}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"]),S(Y(oe),{name:"first_name",modelValue:o.value.data.first_name,"onUpdate:modelValue":h[5]||(h[5]=f=>o.value.data.first_name=f)},{default:O(({field:f,errors:y})=>[S(ie,K({modelValue:o.value.data.first_name,"onUpdate:modelValue":h[4]||(h[4]=p=>o.value.data.first_name=p)},f,{label:"First name",density:"compact",variant:"outlined","error-messages":y}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"]),S(Y(oe),{name:"last_name",modelValue:o.value.data.last_name,"onUpdate:modelValue":h[7]||(h[7]=f=>o.value.data.last_name=f)},{default:O(({field:f,errors:y})=>[S(ie,K({modelValue:o.value.data.last_name,"onUpdate:modelValue":h[6]||(h[6]=p=>o.value.data.last_name=p)},f,{label:"Last name",density:"compact",variant:"outlined","error-messages":y}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"]),S(Dt,K(l.field,{label:"Company",items:c.value,modelValue:o.value.data.company_id,"onUpdate:modelValue":h[8]||(h[8]=f=>o.value.data.company_id=f),"item-value":"id","item-title":"title",variant:"outlined",density:"compact",class:"mb-2"}),null,16,["items","modelValue"]),S(be,{color:"primary",loading:o.value.loading,onClick:r,disabled:!w.valid},{default:O(()=>[de("Save")]),_:2},1032,["loading","disabled"])]),_:1},8,["validation-schema"])]),_:1})]),_:1}))}},ri={class:"d-flex align-center"},hi={__name:"ChangePassword",props:["userId"],setup(e){const t=e,a=J({status:!1,loading:!1,data:{user_id:t.userId,password:"",password_confirmation:""}});let n=ke({password:ce().min(5).required(),password_confirmation:ce().required().oneOf([Ft("password")],"Passwords do not match")});const i=async()=>{a.value.loading=!0,await axios.post("/account/change-password",a.value.data).then(s=>{a.value={status:!1,loading:!1,data:{user_id:t.userId,password:"",password_confirmation:""}}}).catch(s=>{a.value.loading=!1,console.log(s.response.data)})};return(s,o)=>(fe(),it("div",null,[S(Ue,{loading:a.value.loading},{default:O(()=>[S(Y(ze),{as:"v-form","validation-schema":Y(n)},{default:O(()=>[S(Be,{class:"text-primary text-capitalize mb-3"},{default:O(()=>[de(" Change password ")]),_:1}),S(Ne,{class:"pb-6"},{default:O(()=>[S(Y(oe),{name:"password",modelValue:a.value.data.password,"onUpdate:modelValue":o[1]||(o[1]=d=>a.value.data.password=d)},{default:O(({field:d,errors:c})=>[S(ie,K({modelValue:a.value.data.password,"onUpdate:modelValue":o[0]||(o[0]=g=>a.value.data.password=g)},d,{label:"Password",type:"password",variant:"outlined",class:"mb-2","error-messages":c}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"]),S(Y(oe),{name:"password_confirmation",modelValue:a.value.data.password_confirmation,"onUpdate:modelValue":o[3]||(o[3]=d=>a.value.data.password_confirmation=d)},{default:O(({field:d,errors:c})=>[S(ie,K({modelValue:a.value.data.password_confirmation,"onUpdate:modelValue":o[2]||(o[2]=g=>a.value.data.password_confirmation=g)},d,{label:"Confirm Password",type:"password",variant:"outlined",class:"mb-2","error-messages":c}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"]),Se("div",ri,[S(be,{color:"primary",size:"large",onClick:i},{default:O(()=>[de(" Save ")]),_:1})])]),_:1})]),_:1},8,["validation-schema"])]),_:1},8,["loading"])]))}};export{ui as _,mi as a,hi as b};

import{a as C,u as A,r as E,c as I,w as a,m as b,n as m,o as c,d as l,b as t,k as f,f as x,e as h,p as d,q as y,t as o,F as N,s as r,v as T,x as g,y as R,z as D,A as k,B as V}from"./app-aff25a27.js";import{u as w}from"./formatDate-559e9d83.js";import{_ as Q}from"./_plugin-vue_export-helper-c27b6911.js";const B=n=>(k("data-v-fa79fa6c"),n=n(),V(),n),F={class:"v-col-12 v-col-md-3 pb-0 scan-barcode"},M={class:"text-h6 text-capitalize"},U={class:"text-capitalize"},q={class:"v-col-12"},z=B(()=>t("thead",null,[t("tr",null,[t("th",{class:"text-left"}," Company "),t("th",{class:"text-left"}," Location "),t("th",{class:"text-left"}," Category "),t("th",{class:"text-left"}," AssetName / Subject"),t("th",{class:"text-left"}," AssetCode"),t("th",{class:"text-left"}," Type"),t("th",{class:"text-left"}," Author"),t("th",{class:"text-left"},[h("Update"),t("br"),t("small",null,"DD/MM/YY")])])],-1)),G={key:0},P={class:"text-capitalize"},K={__name:"Dashboard",setup(n){const i=C(),S=A(),p=E([{id:1,title:"PENDING MAINTENANCE"},{id:2,title:"PENDING TICKETS"},{id:3,title:"TRANSFER REQUEST"},{id:4,title:"REQUEST ASSET"}]),_=E([]);(async()=>{await m(i.token).get("/api/dashboard/fetch-query/data?role="+i.user.profile.role+"&id="+i.user.profile.id).then(s=>{_.value=s.data.table,p.value=[{id:1,title:"PENDING MAINTENANCE",value:s.data.count.maintenance,to:"Maintenance"},{id:2,title:"PENDING TICKETS",value:s.data.count.incident,to:"Incident"},{id:3,title:"TRANSFER REQUEST",value:s.data.count.transfer,to:"Transferasset"},{id:4,title:"REQUEST ASSET",value:s.data.count.request,to:"RequestAsset"}]}).catch(s=>{console.log(s)})})();const v=s=>{S.push({name:s}).catch(u=>{console.log(u)})};return(s,u)=>(c(),I(b,null,{default:a(()=>[l(r,{class:"mb-3"},{default:a(()=>[t("div",F,[l(f,{width:"100%",class:"rounded-lg text-center my-auto py-4",color:"primary",onClick:u[0]||(u[0]=e=>v("Scan"))},{default:a(()=>[l(x,null,{default:a(()=>[h(" SCAN QRCODE ")]),_:1})]),_:1})]),(c(!0),d(N,null,y(p.value,e=>(c(),d("div",{class:"v-col-12 v-col-md-3 pb-0",key:e.id},[l(f,{height:"80",width:"100%",class:"rounded-lg text-center pt-3 cursor-pointer",onClick:Y=>v(e.to)},{default:a(()=>[t("div",M,o(e.value),1),t("div",U,o(e.title),1)]),_:2},1032,["onClick"])]))),128))]),_:1}),l(r,null,{default:a(()=>[t("div",q,[l(f,null,{default:a(()=>[l(x,null,{default:a(()=>[l(r,null,{default:a(()=>[l(T,{col:"12",class:"text-body-1"},{default:a(()=>[h("RECENT ACTIVITIES")]),_:1})]),_:1}),l(r,null,{default:a(()=>[l(T,{col:"12"},{default:a(()=>[l(g,{"fixed-header":""},{default:a(()=>[z,_.value.length>0?(c(),d("tbody",G,[(c(!0),d(N,null,y(_.value,e=>(c(),d("tr",{key:e.id},[t("td",null,o(e.company),1),t("td",null,o(e.location),1),t("td",null,o(e.category),1),t("td",null,o(e.asset_name),1),t("td",null,o(e.asset_code),1),t("td",P,o(e.type),1),t("td",null,o(e.author),1),t("td",null,o(R(w)(e.date)),1)]))),128))])):D("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1})]),_:1}))}},H=Q(K,[["__scopeId","data-v-fa79fa6c"]]);export{H as default};

import{a as b,r as y,c as n,w as d,m as k,o as a,d as c,b as s,k as S,e as x,C as V,y as h,D as O,z as p,s as _,t,E as v,p as f,F as T,q as g,n as I}from"./app-8a96b869.js";import{Q as B}from"./QrcodeReaderVue3.common-3c98a179.js";import{u as D}from"./formatDate-559e9d83.js";const M={class:"v-col-12 v-col-md-5 pb-0"},L=s("small",null,"Recommended mobile / tablet used only",-1),j={class:"text-h6 text-capitalize text-center"},F=s("div",{class:"v-col-4 py-1"},"STATUS:",-1),K={class:"v-col-8 py-1"},Y=s("div",{class:"v-col-4 py-1"},"COMPANY:",-1),z={class:"v-col-8 py-1"},P=s("div",{class:"v-col-4 py-1"},"LOCATION:",-1),Q={class:"v-col-8 py-1"},U=s("div",{class:"v-col-4 py-1"},"CATEGORY:",-1),q={class:"v-col-8 py-1"},G=s("div",{class:"v-col-4 py-1"},"ASSET CODE:",-1),W={class:"v-col-8 py-1"},H=s("div",{class:"v-col-4 py-1"},"ASSET NAME:",-1),J={class:"v-col-8 py-1"},X=s("div",{class:"v-col-4 py-1"},"BRAND:",-1),Z={class:"v-col-8 py-1"},$=s("div",{class:"v-col-4 py-1"},"MODEL:",-1),ss={class:"v-col-8 py-1"},ts=s("div",{class:"v-col-4 py-1"},"SPECS:",-1),es={class:"v-col-8 py-1"},os=s("div",{class:"v-col-4 py-1"},"SERIAL NO:",-1),as={class:"v-col-8 py-1"},cs=s("div",{class:"v-col-12 py-1 font-weight-bold"},"WARRANTY",-1),ls=s("div",{class:"v-col-4 py-1"},"VENDOR:",-1),ds={class:"v-col-8 py-1"},is=s("div",{class:"v-col-4 py-1"},"START DATE:",-1),ns={class:"v-col-8 py-1"},vs=s("div",{class:"v-col-4 py-1"},"END DATE:",-1),_s={class:"v-col-8 py-1"},rs=s("div",{class:"v-col-12 py-1 font-weight-bold"},"AMC",-1),us=s("div",{class:"v-col-4 py-1"},"START DATE:",-1),ys={class:"v-col-8 py-1"},hs=s("div",{class:"v-col-4 py-1"},"END DATE:",-1),ps={class:"v-col-8 py-1"},fs=s("div",{class:"v-col-12 py-1 font-weight-bold"},"REMARKS",-1),Es={class:"v-col-12 py-1"},ms=s("div",{class:"v-col-12 py-1 font-weight-bold"},"MAINTENANCE & INCIDENTS",-1),As={key:0,class:"v-col-12 py-4",style:{"background-color":"#e0e0e0"}},ws=s("div",{class:"v-col-4 py-1"},"STATUS:",-1),Ss={class:"v-col-8 py-1 text-uppercase"},Ts=s("div",{class:"v-col-4 py-1"},"SERVICE TYPE:",-1),gs={class:"v-col-8 py-1"},Ds=s("div",{class:"v-col-4 py-1"},"DATE RECEIVED:",-1),Cs={class:"v-col-8 py-1"},Ns=s("div",{class:"v-col-4 py-1"},"DATE CLOSED:",-1),Rs={class:"v-col-8 py-1"},bs=s("div",{class:"v-col-4 py-1"},"REMARKS:",-1),ks={class:"v-col-8 py-1 pb-4"},xs={class:"v-col-12 text-center"},Ls={__name:"Data",setup(Vs){const C=b(),e=y({}),i=y({warranty_start_date:"",warranty_end_date:""}),r=y(!1),N=()=>{e.value={},r.value=!0},u=y(""),R=async E=>{u.value=E,await I(C.token).get("/api/fetch/asset-info/by/asset-code/"+E).then(l=>{e.value=l.data,e.value.asset_code&&(r.value=!1,u.value=""),l.data.pivot_warranties.length>0&&(i.value=l.data.pivot_warranties[l.data.pivot_warranties.length-1])}).catch(l=>{var o;((o=l==null?void 0:l.response)==null?void 0:o.status)==401&&(alert("Error: Something went wrong. page will be refresh."),window.location.href=window.location.href)})};return(E,l)=>(a(),n(k,null,{default:d(()=>[c(_,{class:"mb-3 justify-center"},{default:d(()=>[s("div",M,[L,r.value?r.value?(a(),n(S,{key:1,color:"primary",height:"100%",width:"100%",class:"d-flex align-center justify-center rounded-lg"},{default:d(()=>[c(h(B.QrcodeStream),{onDecode:R})]),_:1})):p("",!0):(a(),n(S,{key:0,onClick:N,color:"primary",height:"50",width:"100%",class:"d-flex align-center justify-center rounded-lg"},{default:d(()=>[s("div",j,[x(" CLICK TO START SCAN "),c(V,{class:"ml-2",size:"large",icon:h(O)},null,8,["icon"])])]),_:1}))])]),_:1}),e.value.asset_code?(a(),n(_,{key:0,style:{"max-width":"600px"},class:"mx-auto"},{default:d(()=>[F,s("div",K,t(e.value.status?e.value.status.title:""),1),Y,s("div",z,t(e.value.company?e.value.company.title:""),1),P,s("div",Q,t(e.value.location?e.value.location.title:""),1),U,s("div",q,t(e.value.category?e.value.category.title:""),1),G,s("div",W,t(e.value.asset_code),1),H,s("div",J,t(e.value.asset_name),1),c(v),X,s("div",Z,t(e.value.brand),1),$,s("div",ss,t(e.value.model),1),ts,s("div",es,t(e.value.specification),1),os,s("div",as,t(e.value.serial_number),1),c(v),cs,ls,s("div",ds,t(i.value.vendor?i.value.vendor.title:""),1),is,s("div",ns,t(i.value.warranty_start_date),1),vs,s("div",_s,t(i.value.warranty_end_date),1),c(v),rs,us,s("div",ys,t(i.value.warranty_end_date),1),hs,s("div",ps,t(i.value.warranty_start_date),1),c(v),fs,s("div",Es,t(e.value.remarks),1),c(v),ms,e.value.incidents.length>0?(a(),f("div",As,[(a(!0),f(T,null,g(e.value.incidents,(o,Os)=>(a(),n(_,{key:o.id},{default:d(()=>{var m,A;return[ws,s("div",Ss,t((m=o.status)==null?void 0:m.title),1),Ts,s("div",gs,t((A=o.type)==null?void 0:A.title),1),Ds,s("div",Cs,t(h(D)(o.created_at)),1),Ns,s("div",Rs,t(o.date_closed?h(D)(o.date_closed):""),1),bs,s("div",ks,[c(_,null,{default:d(()=>[(a(!0),f(T,null,g(o.remarks,w=>(a(),f("div",{class:"v-col-12 py-1",key:w.id}," - "+t(w.remarks),1))),128))]),_:2},1024)]),c(v)]}),_:2},1024))),128))])):p("",!0)]),_:1})):p("",!0),u.value?(a(),n(_,{key:1},{default:d(()=>[s("div",xs," Asset Code: "+t(u.value)+" not in the system. ",1)]),_:1})):p("",!0)]),_:1}))}};export{Ls as default};

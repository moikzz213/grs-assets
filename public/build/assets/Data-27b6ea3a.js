import{e as x,d as y,f as i,w as d,v as k,o,g as l,b as s,q as g,h as V,D as O,E as h,G as I,C as p,z as v,t as e,H as _,c as f,F as T,y as D,x as B}from"./app-0d23d45f.js";import{S as L}from"./StreamBarcodeReader-97d869ac.js";import{u as C}from"./formatDate-b9aad8c5.js";import"./_plugin-vue_export-helper-c27b6911.js";const M={class:"v-col-12 v-col-md-5 pb-0"},F=s("small",null,"Recommended mobile / tablet used only",-1),j={class:"text-h6 text-capitalize text-center"},Y=s("div",{class:"v-col-4 py-1"},"COMPANY:",-1),z={class:"v-col-8 py-1"},K=s("div",{class:"v-col-4 py-1"},"LOCATION:",-1),P={class:"v-col-8 py-1"},G=s("div",{class:"v-col-4 py-1"},"CATEGORY:",-1),q={class:"v-col-8 py-1"},H=s("div",{class:"v-col-4 py-1"},"ASSET CODE:",-1),U={class:"v-col-8 py-1"},W=s("div",{class:"v-col-4 py-1"},"ASSET NAME:",-1),J={class:"v-col-8 py-1"},Q=s("div",{class:"v-col-4 py-1"},"BRAND:",-1),X={class:"v-col-8 py-1"},Z=s("div",{class:"v-col-4 py-1"},"MODEL:",-1),$={class:"v-col-8 py-1"},ss=s("div",{class:"v-col-4 py-1"},"SPECIFICATION:",-1),ts={class:"v-col-8 py-1"},es=s("div",{class:"v-col-12 py-1 font-weight-bold"},"WARRANTY",-1),as=s("div",{class:"v-col-4 py-1"},"START DATE:",-1),os={class:"v-col-8 py-1"},cs=s("div",{class:"v-col-4 py-1"},"END DATE:",-1),ls={class:"v-col-8 py-1"},ds=s("div",{class:"v-col-12 py-1 font-weight-bold"},"AMC VENDOR",-1),ns=s("div",{class:"v-col-4 py-1"},"VENDOR",-1),is={class:"v-col-8 py-1"},vs=s("div",{class:"v-col-4 py-1"},"START DATE:",-1),_s={class:"v-col-8 py-1"},rs=s("div",{class:"v-col-4 py-1"},"END DATE:",-1),us={class:"v-col-8 py-1"},ys=s("div",{class:"v-col-12 py-1 font-weight-bold"},"MAINTENANCE & INCIDENTS",-1),hs={key:0,class:"v-col-12 py-4",style:{"background-color":"#e0e0e0"}},ps=s("div",{class:"v-col-4 py-1"},"STATUS:",-1),fs={class:"v-col-8 py-1 text-uppercase"},Es=s("div",{class:"v-col-4 py-1"},"SERVICE TYPE:",-1),ms={class:"v-col-8 py-1"},ws=s("div",{class:"v-col-4 py-1"},"DATE RECEIVED:",-1),As={class:"v-col-8 py-1"},gs=s("div",{class:"v-col-4 py-1"},"DATE CLOSED:",-1),Ts={class:"v-col-8 py-1"},Ds=s("div",{class:"v-col-4 py-1"},"REMARKS:",-1),Cs={class:"v-col-8 py-1 pb-4"},Ss={class:"v-col-12 text-center"},Os={__name:"Data",setup(Ns){const S=x(),t=y({}),n=y({warranty_start_date:"",warranty_end_date:""}),r=y(!1),N=()=>{t.value={},r.value=!0},u=y(""),b=async E=>{u.value=E,await B(S.token).get("/api/fetch/asset-info/by/asset-code/"+E).then(c=>{t.value=c.data,t.value.asset_code&&(r.value=!1,u.value=""),c.data.warranty.length>0&&(n.value=c.data.warranty[c.data.warranty.length-1])}).catch(c=>{var a;((a=c==null?void 0:c.response)==null?void 0:a.status)==401&&(alert("Error: Something went wrong. page will be refresh."),window.location.href=window.location.href)})},R=()=>{console.log("Ready to start scanning barcodes")};return(E,c)=>(o(),i(k,null,{default:d(()=>[l(v,{class:"mb-3 justify-center"},{default:d(()=>[s("div",M,[F,r.value?r.value?(o(),i(g,{key:1,color:"primary",height:"100%",width:"100%",class:"d-flex align-center justify-center rounded-lg"},{default:d(()=>[l(h(L),{onDecode:b,onLoaded:R})]),_:1})):p("",!0):(o(),i(g,{key:0,onClick:N,color:"primary",height:"50",width:"100%",class:"d-flex align-center justify-center rounded-lg"},{default:d(()=>[s("div",j,[V(" CLICK TO START SCAN "),l(O,{class:"ml-2",size:"large",icon:h(I)},null,8,["icon"])])]),_:1}))])]),_:1}),t.value.asset_code?(o(),i(v,{key:0,style:{"max-width":"600px"},class:"mx-auto"},{default:d(()=>[Y,s("div",z,e(t.value.company?t.value.company.title:""),1),K,s("div",P,e(t.value.location?t.value.location.title:""),1),G,s("div",q,e(t.value.category?t.value.category.title:""),1),H,s("div",U,e(t.value.asset_code),1),W,s("div",J,e(t.value.asset_name),1),l(_),Q,s("div",X,e(t.value.brand?t.value.brand.title:""),1),Z,s("div",$,e(t.value.model?t.value.model.title:""),1),ss,s("div",ts,e(t.value.specification),1),l(_),es,as,s("div",os,e(n.value.warranty_start_date),1),cs,s("div",ls,e(n.value.warranty_end_date),1),l(_),ds,ns,s("div",is,e(n.value.vendor?n.value.vendor.title:""),1),vs,s("div",_s,e(n.value.warranty_end_date),1),rs,s("div",us,e(n.value.warranty_start_date),1),l(_),ys,t.value.incidents.length>0?(o(),f("div",hs,[(o(!0),f(T,null,D(t.value.incidents,(a,bs)=>(o(),i(v,{key:a.id},{default:d(()=>{var m,w;return[ps,s("div",fs,e((m=a.status)==null?void 0:m.title),1),Es,s("div",ms,e((w=a.type)==null?void 0:w.title),1),ws,s("div",As,e(h(C)(a.created_at)),1),gs,s("div",Ts,e(a.date_closed?h(C)(a.date_closed):""),1),Ds,s("div",Cs,[l(v,null,{default:d(()=>[(o(!0),f(T,null,D(a.remarks,A=>(o(),f("div",{class:"v-col-12 py-1",key:A.id}," - "+e(A.remarks),1))),128))]),_:2},1024)]),l(_)]}),_:2},1024))),128))])):p("",!0)]),_:1})):p("",!0),u.value?(o(),i(v,{key:1},{default:d(()=>[s("div",Ss," Asset Code: "+e(u.value)+" not in the system. ",1)]),_:1})):p("",!0)]),_:1}))}};export{Os as default};

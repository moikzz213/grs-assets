import{a as Pe,r as m,G as ze,u as Me,I as Qe,O as ue,H as ce,o as p,c as h,w as d,d as o,v as $e,k as R,V as Ye,b as t,t as v,p as k,z as V,ae as pe,y as n,E as K,f as z,s as y,j as x,e as A,J as D,i as I,q as M,F as B,R as ve,Q as Ge,M as He,U as _e,Y as Je,C as Q,D as Ke,ag as We,aF as me,aG as fe,aH as he,aI as ye,aJ as Ze,Z as Xe,_ as et,m as tt,n as j}from"./app-955573a2.js";import{_ as at}from"./ApppageHeader-fa01b0f2.js";import{_ as st,r as Ve}from"./Studio-74c7bc3c.js";import{_ as lt}from"./AppSnackBar-35a969cb.js";import{Q as ot}from"./QrcodeReaderVue3.common-a454c009.js";import{d as dt,e as it}from"./encrypt-56b58b29.js";import{u as ge}from"./formatDate-b9aad8c5.js";const rt={key:0,class:"text-error text-h6"},nt={class:"v-col-12 v-col-md-8"},ut={key:0,class:"no-print"},ct={class:"v-col-12 v-col-md-6"},pt={class:"v-col-12 v-col-md-6"},vt={class:"v-col-12 v-col-md-6"},_t={class:"v-col-12 v-col-md-6"},mt={class:"v-col-12"},ft={class:"wd-100"},ht={class:"wd-60 text-caption"},yt={class:"wd-40"},Vt={class:"wd-60"},gt={class:"wd-40"},bt={class:"wd-100"},wt={class:"v-col-12"},kt=t("small",{class:"mx-5 text-info"},"UOM: ( pcs, pack, box, etc.. )",-1),xt=t("div",{class:"wd-30"},"ITEM DESCRIPTION",-1),St=t("div",{class:"wd-15"},"ASSET CODE",-1),qt=t("div",{class:"wd-5"},"QTY",-1),Ct=t("div",{class:"wd-10"},"UOM",-1),Tt=t("div",{class:"wd-10"},"WEIGHT",-1),At=t("div",{class:"wd-10"},"VALUE",-1),Ut=t("div",{class:"wd-15"},"REASON FOR REQUEST",-1),Ot={class:"wd-30"},Et={class:"wd-15"},jt={class:"wd-5"},Rt={class:"wd-10"},Dt={class:"wd-10"},It={class:"wd-10"},Nt={class:"wd-15"},Lt={class:"v-col-12 v-col-md-1 px-1 no-print"},Bt={class:"v-col-12 v-col-md-12 pa-2",style:{position:"relative"}},Ft={style:{height:"680px",width:"100%"},class:"d-flex align-center justify-center"},Pt={class:"v-col-12 pt-0 pb-0"},zt={class:"v-col-12 v-col-md-1 custom-width-description"},Mt={class:"v-col-12 v-col-md-2 d-flex"},Qt={class:"v-col-12 v-col-md-1"},$t={class:"v-col-12 v-col-md-1 custom-width-uom"},Yt={class:"v-col-12 v-col-md-1"},Gt={class:"v-col-12 v-col-md-1"},Ht={class:"v-col-12 v-col-md-2 d-flex"},Jt={class:"v-col-12 font-weight-bold text-uppercase d-flex justify-space-between"},Kt=t("div",null,"APPROVAL SETUP",-1),Wt={key:0,class:"no-print"},Zt=t("div",{class:"wd-20"},"Requestor",-1),Xt={class:"wd-50"},ea=t("div",{class:"wd-10"},"Status",-1),ta=t("div",{class:"wd-20"},"Date Approved",-1),aa={class:"wd-20"},sa={class:"wd-50"},la={class:"wd-10"},oa={class:"wd-20"},da=t("div",{class:"v-col-12 v-col-md-2"},"Requestor",-1),ia={class:"v-col-12 v-col-md-6"},ra=t("div",{class:"v-col-12 v-col-md-1"},"Status",-1),na=t("div",{class:"v-col-12 v-col-md-2"},"Date Approved",-1),ua={class:"v-col-12 v-col-md-2"},ca={class:"v-col-12 v-col-md-7 d-flex"},pa={class:"my-auto"},va={class:"v-col-12 no-print"},_a={class:"v-col-12 text-error"},ma=t("div",{class:"v-col-12 no-print v-col-md-12 text-info"}," Note: Once submitted and approval is on-going, you will no longer allowed to update the request. ",-1),ka={__name:"DataForm",props:{objectdata:{type:Object,default:{}},headertitle:{type:String,default:null}},emits:["deleted"],setup(be,{emit:we}){const S=be,c=Pe(),W=m("Note: Administrator needs to setup signatories first."),$=m(!1),q=ze(),ke=Me(),i=m({}),C=m(!1),g=m([{qty:1,attachment:{}}]),xe=m(new Date),Se=m(["Nos","Set","Pcs","Pack","Pallet","SqM"]),Y=a=>{if(a=="approve")return"Approved By";if(a=="reviewer")return"Reviewed By";if(a=="receiver")return"Received By";if(a=="transport")return"Transport Arranged By";if(a=="releasing")return"Released By";if(a=="verify")return"Verified By"},qe=m(window.location.origin),Ce=(a,l)=>{g.value[a].attachment=l[0]},G=m(!1),Z=m(1),Te=a=>{Z.value=a,G.value=!0},Ae=a=>{g.value[a].attachment=""},X=m(""),N=m(!1),ee=m([]),Ue=async()=>{let a="request";S.headertitle=="Transfer Assets"&&(a="transfer"),await j(c.token).get("/api/fetch/approval-setups/non-paginated/data/"+a).then(l=>{var e,s;ee.value=l.data,X.value=(s=(e=l.data.filter(f=>f.id==_.value.request_type_id))==null?void 0:e[0])==null?void 0:s.title}).catch(l=>{})},L=m(!1),te=m(0),Oe=a=>{te.value=a,L.value=!0},ae=async(a,l)=>{let e=te.value;l!==void 0&&(e=l),await j(c.token).get("/api/fetch/asset-info/by/asset-code/"+a).then(s=>{g.value[e].item_description=s.data.asset_name,g.value[e].asset_code=a,L.value=!1}).catch(s=>{})},U=m({}),se=m([]),Ee=async()=>{await j(c.token).get("/api/fetch/companies").then(a=>{se.value=a.data}).catch(a=>{})},le=m(""),oe=m(""),H=m([]),je=async()=>{await j(c.token).get("/api/fetch/locations/non-paginated/data").then(a=>{var l,e,s,f;H.value=a.data,le.value=(e=(l=a.data.filter(b=>b.id==_.value.transferred_from))==null?void 0:l[0])==null?void 0:e.title,oe.value=(f=(s=a.data.filter(b=>b.id==_.value.transferred_to))==null?void 0:s[0])==null?void 0:f.title}).catch(a=>{})},Re=()=>{g.value.push({qty:1,attachment:{}}),O()},De=(a,l)=>{g.value.splice(l,1),O()},Ie=()=>{U.value={status:!0,type:"success",text:"Draft has been removed!"},localStorage.removeItem("draft-transfer"),setTimeout(()=>{location.reload()},500)},Ne=()=>{U.value={status:!0,type:"info",text:"Please wait..."};let a={data:i.value,assets:g.value,approval:T.value,profile_id:c.user.profile.id,role:c.user.profile.role,type:"transfer"};localStorage.setItem("draft-transfer",it(a)),setTimeout(()=>{N.value=!0,U.value={status:!0,type:"success",text:"Data has been saved to Draft"}},800)},Le=()=>{U.value={status:!0,type:"info",text:"Please wait..."};let a=g.value.map((e,s)=>(e.file_id="",e.attachment&&(e.file_id=e.attachment.id),delete e.assets,delete e.updated_at,delete e.created_at,delete e.id,delete e.attachment,e)),l={data:i.value,assets:a,approval:T.value,profile_id:c.user.profile.id,role:c.user.profile.role,type:"transfer"};j(c.token).post("/api/request-asset/store-update/data",l).then(e=>{let s="",f="";e.data.message?(s=e.data.message,f="success"):e.data.error&&(s=e.data.error,f="error"),U.value={status:!0,type:f,text:s},N.value=!1,localStorage.removeItem("draft-transfer"),q.params.id||setTimeout(()=>{ke.push({name:"EditTransferAsset",params:{id:e.data.id}}).catch(b=>{})},800)}).catch(e=>{console.log(e)})},T=m([]),F=m(!0),J=async()=>{await j(c.token).get("/api/fetch/request-asset/approval-setup-fetch/"+i.value.request_type_id).then(a=>{var l,e;T.value=(l=a.data)==null?void 0:l.stages,q.params.id&&T.value.length>0&&T.value.map((s,f)=>(s.profile_id=w.value[f].profile_id,s.status=w.value[f].status,s.date_approved=w.value[f].date_approved,s.reason_rejected=w.value[f].reason_rejected,s)),((e=a.data)==null?void 0:e.stages.length)>0?F.value=!0:F.value=!1}).catch(a=>{})},O=()=>{let a=!1;$.value=!1,i.value.company_id&&i.value.request_type_id&&i.value.subject&&i.value.transferred_from&&i.value.transferred_to&&(a=!0);let l=!0;g.value.map(s=>{(!s.item_description||!s.reason_for_request||!s.uom||!s.qty||s.qty<=0)&&(l=!1)});let e=!0;T.value.map(s=>{s.profile_id||(e=!1)}),e&&l&&a&&($.value=!0)},de=a=>{let l={status:a,profile_id:c.user.profile.id,ID:_.value.id};j(c.token).post("/api/request-asset/change-request/data",l).then(e=>{U.value={status:!0,type:"success",text:e.data.message},_.value.status=a,we("saved",e.data.message)}).catch(e=>{})},ie=(a,l=6)=>{let e="00000"+a;return e.substring(e.length-l)},w=m([]),_=m({}),P=m({});Qe(()=>{var a,l,e,s,f,b;if(Ue().then(()=>{Ee().then(()=>{je()})}),q.params.id){C.value=!0;let r=S.objectdata;_.value=r,i.value.company_id=r.company_id,i.value.request_type_id=r.request_type_id,i.value.subject=r.subject,i.value.transferred_from=r.transferred_from,i.value.transferred_to=r.transferred_to,i.value.id=r.id,i.value.requestor_id=r.profile_id,w.value=r.request_approvals,g.value=r.items,P.value=(l=(a=r.request_approvals)==null?void 0:a.filter(u=>u.status=="awaiting-approval"))==null?void 0:l[0],J()}else{i.value.company_id=c.user.profile.company_id;let r=localStorage.getItem("draft-transfer");r&&(r=dt(r),N.value=!0,i.value.request_type_id=(e=r==null?void 0:r.data)==null?void 0:e.request_type_id,i.value.transferred_from=(s=r==null?void 0:r.data)==null?void 0:s.transferred_from,i.value.transferred_to=(f=r==null?void 0:r.data)==null?void 0:f.transferred_to,i.value.subject=(b=r==null?void 0:r.data)==null?void 0:b.subject,i.value.request_type_id&&J().then(()=>{w.value=r.approval,T.value.map((u,E)=>(u.profile_id=w.value[E].profile_id,u.status=w.value[E].status,u.date_approved=w.value[E].date_approved,u.reason_rejected=w.value[E].reason_rejected,u))}),g.value=r==null?void 0:r.assets)}});const Be=m("https://assets.grandiose.ae"),Fe=ue(()=>{var r,u,E,re,ne;let a=null,l=Be.value+"/pv/employee-signatory",e=Ve(50),s=Ve(50),f=95,b=99;return((u=(r=c.user)==null?void 0:r.profile)==null?void 0:u.id)==((E=P.value)==null?void 0:E.profile_id)&&(f=(re=P.value)==null?void 0:re.profile_id,b=(ne=P.value)==null?void 0:ne.orders),_.value&&(a=l+"/transfer/approvals?o="+b+"&key="+e+"&pid="+f+"&pv="+s+"&id="+_.value.id),a});return ue(()=>c.user.role=="receiving-releasing"||c.user.role=="facility"),ce(i.value,async(a,l)=>{O()}),ce(g.value,async(a,l)=>{O()}),(a,l)=>(p(),h(tt,null,{default:d(()=>[o(at,{title:S.headertitle,class:"no-print"},null,8,["title"]),o(y,{class:"mb-3"},{default:d(()=>[o($e,{class:"v-col-12 mt-1 col-sm-12 py-0"},{default:d(()=>[o(R,null,{default:d(()=>[o(Ye,{class:"my-0 ml-3 text-uppercase text-h6 d-flex justify-space-between font-weight-bold"},{default:d(()=>[t("div",null,v(S.headertitle)+" "+v(N.value?"(Draft)":""),1),F.value?V("",!0):(p(),k("div",rt,v(W.value),1)),C.value?(p(),k("div",{key:1,class:pe(_.value.status=="cancelled"?"text-error":_.value.status=="complete"?"text-success":"")}," STATUS ("+v(_.value.status)+") ",3)):V("",!0),t("div",null,"DATE: "+v(n(ge)(xe.value)),1)]),_:1}),o(K),o(z,null,{default:d(()=>[o(y,{class:"no-print"},{default:d(()=>[C.value?(p(),k("div",{key:0,class:pe(`${_.value.status=="complete"?"v-col-12":"v-col-md-12"}`)}," REQUEST NO: SN-3"+v(ie(_.value.id)),3)):V("",!0),t("div",nt,[C.value&&(_.value.status=="pending"||_.value.status=="cancelled")?(p(),k("div",ut,[_.value.status=="pending"&&i.value.requestor_id==n(c).user.profile.id?(p(),h(x,{key:0,onClick:l[0]||(l[0]=e=>de("cancelled")),size:"small",color:"warning"},{default:d(()=>[A("Cancel request")]),_:1})):V("",!0),i.value.requestor_id==n(c).user.profile.id&&_.value.status=="cancelled"?(p(),h(x,{key:1,onClick:l[1]||(l[1]=e=>de("pending")),size:"small",color:"info"},{default:d(()=>[A("Change status to Pending")]),_:1})):V("",!0)])):V("",!0)]),t("div",ct,[o(D,{items:ee.value,modelValue:i.value.request_type_id,"onUpdate:modelValue":[l[2]||(l[2]=e=>i.value.request_type_id=e),J],variant:"outlined",density:"compact","hide-details":"","item-value":"id",disabled:C.value,"item-title":"title",label:"TYPE OF REQUEST*"},null,8,["items","modelValue","disabled"])]),t("div",pt,[o(D,{items:se.value,modelValue:i.value.company_id,"onUpdate:modelValue":l[3]||(l[3]=e=>i.value.company_id=e),variant:"outlined",density:"compact","hide-details":"","item-value":"id","item-title":"title",label:"COMPANY*"},null,8,["items","modelValue"])]),t("div",vt,[o(D,{items:H.value,modelValue:i.value.transferred_from,"onUpdate:modelValue":l[4]||(l[4]=e=>i.value.transferred_from=e),variant:"outlined",density:"compact","hide-details":"","item-value":"id","item-title":"title",label:"LOCATION FROM*"},null,8,["items","modelValue"])]),t("div",_t,[o(D,{items:H.value,modelValue:i.value.transferred_to,"onUpdate:modelValue":l[5]||(l[5]=e=>i.value.transferred_to=e),variant:"outlined",density:"compact","hide-details":"","item-value":"id","item-title":"title",label:"LOCATION TO*"},null,8,["items","modelValue"])]),t("div",mt,[o(I,{modelValue:i.value.subject,"onUpdate:modelValue":l[6]||(l[6]=e=>i.value.subject=e),variant:"outlined",density:"compact","hide-details":"",clearable:"",label:"SUBJECT*"},null,8,["modelValue"])])]),_:1}),o(y,{class:"for-print-flex mx-2 mb-1"},{default:d(()=>{var e,s;return[t("div",ft,"REQUEST NO: "+v(_.value.id?"SN-3"+ie(_.value.id):""),1),t("div",ht,"TYPE OF REQUEST: "+v(X.value),1),t("div",yt,"COMPANY: "+v((s=(e=_.value)==null?void 0:e.company)==null?void 0:s.title),1),t("div",Vt,"LOCATION FROM: "+v(le.value),1),t("div",gt,"LOCATION TO: "+v(oe.value),1),t("div",bt,"SUBJECT: "+v(_.value.subject),1)]}),_:1})]),_:1})]),_:1}),o(R,{class:"my-2"},{default:d(()=>[o(z,null,{default:d(()=>[o(y,null,{default:d(()=>{var e;return[t("div",wt,[_.value.status!="complete"&&(!n(q).params.id||i.value.requestor_id==n(c).user.profile.id&&((e=S.objectdata)==null?void 0:e.status)=="pending"||n(c).user.profile.role=="superadmin"||n(c).user.profile.role=="administrator")?(p(),h(x,{key:0,size:"small",color:"primary",class:"no-print",onClick:Re},{default:d(()=>[A("Add")]),_:1})):V("",!0),kt])]}),_:1}),o(y,{class:"for-print-flex mx-2 header mb-1"},{default:d(()=>[xt,St,qt,Ct,Tt,At,Ut]),_:1}),(p(!0),k(B,null,M(g.value,(e,s)=>(p(),h(y,{key:s,class:"for-print-flex mx-2 row-bordered"},{default:d(()=>[t("div",Ot,v(e.item_description),1),t("div",Et,v(e.asset_code),1),t("div",jt,v(e.qty),1),t("div",Rt,v(e.uom),1),t("div",Dt,v(e.weight),1),t("div",It,v(e.item_value),1),t("div",Nt,v(e.reason_for_request),1)]),_:2},1024))),128)),(p(!0),k(B,null,M(g.value,(e,s)=>(p(),h(y,{key:s,class:"no-print"},{default:d(()=>{var f,b,r;return[t("div",Lt,[(f=e.attachment)!=null&&f.id?(p(),h(y,{key:0,class:"px-1"},{default:d(()=>[t("div",Bt,[o(I,{style:{display:"none"},type:"hidden",class:"hidden",modelValue:e.attachment.id,"onUpdate:modelValue":u=>e.attachment.id=u},null,8,["modelValue","onUpdate:modelValue"]),!C.value||C.value&&i.value.requestor_id==n(c).user.profile.id?(p(),h(x,{key:0,style:{position:"absolute",top:"0",right:"0","z-index":"1"},icon:a.mdiClose,size:"16px",color:"error",onClick:()=>Ae(s,e.attachment.id)},null,8,["icon","onClick"])):V("",!0),o(R,{onClick:()=>Te(e),maxHeight:"40",style:{"background-image":"url('/assets/images/fav.png')","background-size":"cover",height:"100px",width:"100px"}},null,8,["onClick"])]),o(ve,{modelValue:G.value,"onUpdate:modelValue":l[7]||(l[7]=u=>G.value=u),width:"95%","max-width":"900"},{default:d(()=>[o(R,{class:"bg-black"},{default:d(()=>[t("div",Ft,[o(Ge,{src:qe.value+"/file/"+Z.value.attachment.path},null,8,["src"])])]),_:1})]),_:1},8,["modelValue"])]),_:2},1024)):(p(),h(y,{key:1,class:"mt-0"},{default:d(()=>[t("div",Pt,[o(He,{color:"grey-lighten-4",class:"text-center"},{default:d(()=>[o(st,{options:{multiSelect:!1,type:"transfer-asset"},onSelect:u=>Ce(s,u)},null,8,["onSelect"])]),_:2},1024)])]),_:2},1024))]),t("div",zt,[o(_e,{modelValue:e.item_description,"onUpdate:modelValue":u=>e.item_description=u,variant:"outlined",density:"compact","hide-details":"",label:"ITEM DESC*",rows:"2",class:"no-print"},null,8,["modelValue","onUpdate:modelValue"])]),t("div",Mt,[o(I,{modelValue:e.asset_code,"onUpdate:modelValue":u=>e.asset_code=u,variant:"outlined",density:"compact","hide-details":"",label:"ASSET CODE","append-inner-icon":n(Je),"onClick:appendInner":u=>ae(e.asset_code,s)},null,8,["modelValue","onUpdate:modelValue","append-inner-icon","onClick:appendInner"]),(!n(q).params.id||i.value.requestor_id==n(c).user.profile.id&&((b=S.objectdata)==null?void 0:b.status)=="pending"||n(c).user.profile.role=="superadmin"||n(c).user.profile.role=="administrator")&&_.value.status!="complete"?(p(),h(Q,{key:0,onClick:u=>Oe(s),class:"ml-2 my-auto",size:"x-small",icon:n(Ke)},null,8,["onClick","icon"])):V("",!0)]),t("div",Qt,[o(I,{type:"number","onUpdate:modelValue":[O,u=>e.qty=u],modelValue:e.qty,variant:"outlined",density:"compact","hide-details":"",class:"no-print",label:"QTY*"},null,8,["modelValue","onUpdate:modelValue"])]),t("div",$t,[o(D,{items:Se.value,modelValue:e.uom,"onUpdate:modelValue":[u=>e.uom=u,O],variant:"outlined",density:"compact","hide-details":"",label:"UOM*",disabled:e.status=="done"},null,8,["items","modelValue","onUpdate:modelValue","disabled"])]),t("div",Yt,[o(I,{type:"number",modelValue:e.weight,"onUpdate:modelValue":u=>e.weight=u,variant:"outlined",density:"compact",class:"no-print","hide-details":"",disabled:"",label:"WGT(KG)"},null,8,["modelValue","onUpdate:modelValue"])]),t("div",Gt,[o(I,{type:"number",modelValue:e.item_value,"onUpdate:modelValue":u=>e.item_value=u,variant:"outlined",density:"compact","hide-details":"",disabled:"",class:"no-print",label:"VALUE"},null,8,["modelValue","onUpdate:modelValue"])]),t("div",Ht,[o(_e,{modelValue:e.reason_for_request,"onUpdate:modelValue":u=>e.reason_for_request=u,variant:"outlined",density:"compact","hide-details":"",rows:"2",label:"REASON*"},null,8,["modelValue","onUpdate:modelValue"]),!C.value||C.value&&n(c).user.profile.id==S.objectdata.profile_id&&((r=S.objectdata)==null?void 0:r.status)=="pending"?(p(),h(Q,{key:0,size:"small",onClick:()=>De(e.id,s),icon:n(We),class:"my-auto ml-2 no-print",color:"error"},null,8,["onClick","icon"])):V("",!0)])]}),_:2},1024))),128))]),_:1})]),_:1}),o(R,{class:"my-2 page-break"},{default:d(()=>[o(z,null,{default:d(()=>[o(y,null,{default:d(()=>[t("div",Jt,[Kt,n(q).params.id?(p(),k("div",Wt,[o(x,{color:"info",size:"small",target:"_blank",href:Fe.value},{default:d(()=>[A("View Approval Page")]),_:1},8,["href"])])):V("",!0)]),o(K)]),_:1}),o(y,{class:"for-print-flex mx-2 mt-5 mb-1"},{default:d(()=>{var e,s;return[Zt,t("div",Xt,v((s=(e=_.value)==null?void 0:e.profile)==null?void 0:s.display_name),1),ea,ta]}),_:1}),(p(!0),k(B,null,M(w.value,e=>(p(),h(y,{class:"for-print-flex mx-2 mb-2 mt-0",key:e.id},{default:d(()=>{var s;return[t("div",aa,v(Y(e.approval_type)),1),t("div",sa,v((s=e==null?void 0:e.profile)==null?void 0:s.display_name),1),t("div",la,[e.status?(p(),h(Q,{key:0,class:"mx-2 my-0",icon:e.status=="awaiting-approval"?n(me):e.status=="pending"?n(fe):e.status=="reject"?n(he):n(ye),color:e.status=="awaiting-approval"?"info":e.status=="pending"?"":e.status=="reject"?"error":"success"},null,8,["icon","color"])):V("",!0)]),t("div",oa,v(e.date_approved),1)]}),_:2},1024))),128)),o(y,{class:"no-print"},{default:d(()=>{var e,s;return[da,t("div",ia,v((s=(e=_.value)==null?void 0:e.profile)==null?void 0:s.display_name),1),ra,na]}),_:1}),F.value?(p(),k(B,{key:0},[(p(!0),k(B,null,M(T.value,(e,s)=>(p(),h(y,{key:e.id,class:"no-print"},{default:d(()=>[t("div",ua,v(e.types?Y(e.types):Y(e.approval_type)),1),t("div",ca,[o(D,{items:e.signatures,modelValue:e.profile_id,"onUpdate:modelValue":[f=>e.profile_id=f,O],variant:"outlined",density:"compact","hide-details":"","item-value":"id","item-title":"display_name",label:"SELECT SIGNATORY*",disabled:e.status=="done"},null,8,["items","modelValue","onUpdate:modelValue","disabled"]),o(x,{variant:"text",size:"x-small",class:"no-print"},{default:d(()=>[e.status?(p(),h(Q,{key:0,class:"mx-2 my-3",icon:e.status=="awaiting-approval"?n(me):e.status=="pending"?n(fe):e.status=="reject"?n(he):n(ye),color:e.status=="awaiting-approval"?"info":e.status=="pending"?"":e.status=="reject"?"error":"success"},null,8,["icon","color"])):V("",!0),o(Ze,{activator:"parent",location:"top","max-width":"400"},{default:d(()=>[A(v(e.status=="awaiting-approval"?"Awaiting Approval":e.status=="pending"?"Pending":e.status=="reject"?e.reason_rejected:"Already Signed"),1)]),_:2},1024)]),_:2},1024)]),t("div",pa,v(e.date_approved?n(ge)(e.date_approved):""),1)]),_:2},1024))),128)),o(y,{class:"no-print"},{default:d(()=>{var e;return[o(K),t("div",va,[(!n(q).params.id||i.value.requestor_id==n(c).user.profile.id&&((e=S.objectdata)==null?void 0:e.status)=="pending"||n(c).user.profile.role=="superadmin"||n(c).user.profile.role=="administrator")&&_.value.status!="complete"?(p(),h(x,{key:0,size:"small",disabled:!$.value,onClick:Le,color:"primary"},{default:d(()=>[A(v(n(q).params.id?"Update Request":"Submit For Approval"),1)]),_:1},8,["disabled"])):V("",!0),n(q).params.id?V("",!0):(p(),h(x,{key:1,size:"small",class:"mx-3",onClick:Ne,color:"warning"},{default:d(()=>[A("Save as Draft")]),_:1})),N.value?(p(),h(x,{key:2,size:"small",class:"mx-3",onClick:Ie,color:"info"},{default:d(()=>[A("Delete Draft")]),_:1})):V("",!0)])]}),_:1})],64)):(p(),h(y,{key:1},{default:d(()=>[t("div",_a,v(W.value),1)]),_:1})),o(y,null,{default:d(()=>[ma]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),o(lt,{options:U.value},null,8,["options"]),o(ve,{width:"500",modelValue:L.value,"onUpdate:modelValue":l[9]||(l[9]=e=>L.value=e)},{default:d(()=>[o(R,null,{default:d(()=>[o(z,null,{default:d(()=>[o(n(ot.QrcodeStream),{onDecode:ae})]),_:1}),o(Xe,null,{default:d(()=>[o(et),o(x,{text:"Close",onClick:l[8]||(l[8]=e=>L.value=!1)})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}};export{ka as _};

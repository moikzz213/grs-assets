import{I as ue,a as pe,r as h,J as Z,n as te,o as u,c as x,w as o,b as t,E as d,j as F,e as U,d as s,D as G,aa as ve,y as N,k as E,x as ae,p as S,F as T,q as B,t as m,ag as Ce,P as Q,X as ne,V as _e,U as fe,f as ye,s as $,L as J,Y as ge,Z as Ve,W as de,u as re,ah as Se,T as Ue,i as w,a0 as A,ai as oe,R as K,_ as Ae,S as H}from"./app-280546b2.js";import{F as be,c as De,a as q,d as Me,b as D}from"./index.esm-09532d52.js";import{_ as he}from"./AppSnackBar-f9ae7b50.js";import{_ as $e}from"./Studio-265633a5.js";import{d as X}from"./dayjs.min-188d3cb1.js";import{u as ie,a as me}from"./formatDate-b9aad8c5.js";import{u as Ne,a as ze}from"./locations-dbe203ec.js";import{u as Ye}from"./categories-c754bc34.js";import{u as Ie}from"./vendors-58911fa6.js";import{u as je}from"./status-23490489.js";const qe={class:"v-col-12 pt-0 pb-2"},Re=t("thead",null,[t("tr",null,[t("th",{class:"text-left text-primary"},"#"),t("th",{class:"text-left text-primary"},"Image"),t("th",{class:"text-left text-primary"},"Title"),t("th",{class:"text-left text-primary"},"Vendor"),t("th",{class:"text-left text-primary"}," Warranty Start "),t("th",{class:"text-left text-primary"},"Warranty End"),t("th",{class:"text-left text-primary"},"AMC Start"),t("th",{class:"text-left text-primary"},"AMC End")])],-1),Oe=["onClick"],Pe=["onClick"],We=["onClick"],Fe=["onClick"],Ee=["onClick"],Le=["onClick"],Te=["onClick"],Be={class:"v-col-12 v-col-md-12 pt-0 pb-2"},Ke={class:"v-col-12 pt-0 pb-2 d-flex justify-end"},He={style:{height:"680px",width:"100%"},class:"d-flex align-center justify-center"},Je={__name:"AssetWarranties",props:{page:{type:String,default:"add"},asset:{type:Object,default:null}},setup(R){const _=R,z=ue(),I=pe(),Y=h(window.location.origin),e=h({}),r=h({status:!1,action:"add",loading:!1,data:{}}),y=h([]);Z(()=>_.asset,C=>{y.value=C.pivot_warranties,W()});const g=h(!1),i=h([]),M=h(1),V=(C,b)=>{i.value=C,M.value=b,g.value=!0},O=h(0),f=(C=null)=>{r.value.status=!0,C?(r.value.action="edit",r.value.data=Object.assign({},C),O.value=C.id):(r.value.action="add",r.value.data={})},P=async()=>{r.value.loading=!0;let C={id:r.value.data.id,asset_id:z.params.id,warranty_id:r.value.data.warranty_id,old_warranty_id:O.value};await te(I.token).post("/api/asset/save-warranty",C).then(b=>{j().then(()=>{e.value={status:!0,type:"success",text:b.data.message},r.value.loading=!1,r.value.status=!1})}).catch(b=>{r.value.loading=!1,e.value={status:!0,type:"eroor",text:"Error while saving warranty"},console.log("err",b)})},L=h([]),W=()=>{te(I.token).get("/api/fetch-warranties/non-paginated").then(C=>{L.value=C.data}).catch(C=>{r.value.loading=!1})},j=async()=>{await te(I.token).get("/api/asset/warranty/"+z.params.id).then(C=>{y.value=C.data,r.value.loading=!1}).catch(C=>{r.value.loading=!1})};return(C,b)=>(u(),x($,null,{default:o(()=>[t("div",qe,[d(z).name!="view-asset"?(u(),x(F,{key:0,onClick:b[0]||(b[0]=()=>f()),class:"mb-3",size:"small"},{default:o(()=>[U(" New Warranty "),s(G,{class:"ml-2",icon:d(ve)},null,8,["icon"])]),_:1})):N("",!0),s(E,null,{default:o(()=>{var k;return[s(ae,{density:"compact"},{default:o(()=>[Re,t("tbody",null,[(u(!0),S(T,null,B(y.value,(p,ee)=>(u(),S("tr",{key:p.id,class:"cursor-pointer table-cell-hover"},[t("td",{onClick:()=>f(p)},m(ee+1),9,Oe),t("td",null,[p.attachment.length>0?(u(),x(G,{key:0,icon:d(Ce),color:"success",onClick:ce=>V(p.attachment,ee)},null,8,["icon","onClick"])):N("",!0)]),t("td",{onClick:()=>f(p)},m(p.warranty_title),9,Pe),t("td",{onClick:()=>f(p)},m(p.vendor&&p.vendor.title),9,We),t("td",{onClick:()=>f(p)},m(p.warranty_start_date&&p.warranty_start_date!="0000-00-00"?d(X)(p.warranty_start_date).format("MMM. DD, YYYY"):""),9,Fe),t("td",{onClick:()=>f(p)},m(p.warranty_end_date&&p.warranty_end_date!="0000-00-00"?d(X)(p.warranty_end_date).format("MMM. DD, YYYY"):""),9,Ee),t("td",{onClick:()=>f(p)},m(p.amc_start_date&&p.amc_start_date!="0000-00-00"?d(X)(p.amc_start_date).format("MMM. DD, YYYY"):""),9,Le),t("td",{onClick:()=>f(p)},m(p.amc_end_date&&p.amc_end_date!="0000-00-00"?d(X)(p.amc_end_date).format("MMM. DD, YYYY"):""),9,Te)]))),128))])]),_:1}),((k=y.value)==null?void 0:k.length)==0?(u(),x(Q,{key:0,class:"pa-3 text-center"},{default:o(()=>[U("No record at the moment")]),_:1})):N("",!0)]}),_:1})]),s(ne,{modelValue:r.value.status,"onUpdate:modelValue":b[3]||(b[3]=k=>r.value.status=k),persistent:"",width:"600"},{default:o(()=>[s(E,null,{default:o(()=>[s(_e,{class:"text-capitalize mb-3 d-flex justify-space-between align-center"},{default:o(()=>[U(m(r.value.action+" Warranty")+" ",1),s(F,{icon:d(fe),variant:"flat",size:"small",onClick:b[1]||(b[1]=k=>r.value.status=!1)},null,8,["icon"])]),_:1}),s(ye,null,{default:o(()=>[s(d(be),{as:"v-form"},{default:o(()=>[s($,{class:"mb-0"},{default:o(()=>[t("div",Be,[s(J,{modelValue:r.value.data.warranty_id,"onUpdate:modelValue":b[2]||(b[2]=k=>r.value.data.warranty_id=k),items:L.value,"item-title":"warranty_title","item-value":"id",label:"Select Warranty",density:"compact",variant:"outlined"},null,8,["modelValue","items"])]),t("div",Ke,[s(F,{color:"primary",loading:r.value.loading,onClick:P,disabled:!r.value.data.warranty_id},{default:o(()=>[U("Save")]),_:1},8,["loading","disabled"])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),s(ne,{modelValue:g.value,"onUpdate:modelValue":b[5]||(b[5]=k=>g.value=k),width:"95%","max-width":"900"},{default:o(()=>[s(E,{class:"bg-black"},{default:o(()=>[s(ge,{"hide-delimiter-background":"","show-arrows":"hover",height:"680px",modelValue:M.value,"onUpdate:modelValue":b[4]||(b[4]=k=>M.value=k)},{default:o(()=>[(u(!0),S(T,null,B(i.value,(k,p)=>(u(),x(Ve,{key:p,"reverse-transition":"fade",transition:"fade"},{default:o(()=>[t("div",He,[s(de,{src:Y.value+"/file/"+k.path},null,8,["src"])])]),_:2},1024))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue"]),s(he,{options:e.value},null,8,["options"])]),_:1}))}},Xe={class:"v-col-12 pt-0 pb-2"},Ze=t("thead",null,[t("tr",null,[t("th",{class:"text-left text-primary"},"ISR ID"),t("th",{class:"text-left text-primary"},"Urgency"),t("th",{class:"text-left text-primary"},"Priority"),t("th",{class:"text-left text-primary"},"Reported by"),t("th",{class:"text-left text-primary"},"Handled by"),t("th",{class:"text-left text-primary"},"Date Reported"),t("th",{class:"text-left text-primary"},"Date Completed"),t("th",{class:"text-left text-primary"},"Status"),t("th",{class:"text-left text-primary"})])],-1),Ge={__name:"AssetMaintenances",props:{asset:{type:Object,default:null}},setup(R){const _=R,z=re(),I=ue(),Y=()=>{z.push({name:"NewMaintenance",query:{type:"details",asset_code:g.value.asset_code,asset_id:g.value.id,comp:g.value.company_id,loc:g.value.location_id,title:g.value.asset_name}})},e=i=>{z.push({name:"EditMaintenance",params:{id:i},query:{type:"details",pd:"ox2rKaIYFhBOQW31j6kkiMrJ4KfnYpLmwJhMzBFwPBlVjgGR4g",v:1,vv:"xK2sX1sDL1BBAvmuoPpWoNRgc4wzbdZ9F2OXAKrS3N2g65xNgy"}}).catch(M=>{console.log(M)})},r=i=>i?i==1?"Normal":i==2?"Medium":"High":"",y=(i,M=5)=>{let V="0000"+i;return V.substring(V.length-M)},g=h({});return Z(()=>_.asset,(i,M)=>{g.value=i,console.log("assetDetail.value",g.value)},{deep:!0}),(i,M)=>(u(),x($,null,{default:o(()=>[t("div",Xe,[g.value.status_id!=2&&d(I).name!="view-asset"?(u(),x(F,{key:0,onClick:Y,class:"mb-3",size:"small"},{default:o(()=>[U(" New Maintenance "),s(G,{class:"ml-2",icon:d(ve)},null,8,["icon"])]),_:1})):N("",!0),s(E,null,{default:o(()=>[s(ae,{density:"compact"},{default:o(()=>[Ze,t("tbody",null,[(u(!0),S(T,null,B(_.asset.maintenance,(V,O)=>{var f,P,L;return u(),S("tr",{key:V.id},[t("td",null,"ISR-2"+m(y(V.id)),1),t("td",null,m(r(V.urgency)),1),t("td",null,m(r(V.priority)),1),t("td",null,m((f=V.profile)==null?void 0:f.display_name),1),t("td",null,m((P=V.handle_by)==null?void 0:P.display_name),1),t("td",null,m(d(ie)(V.created_at)),1),t("td",null,m(V.date_closed?d(ie)(V.date_closed):""),1),t("td",null,m((L=V.status)==null?void 0:L.title),1),t("td",null,[s(F,{color:"info",size:"x-small",onClick:W=>e(V.id)},{default:o(()=>[U("Details")]),_:2},1032,["onClick"])])])}),128))])]),_:1}),_.asset.maintenance&&_.asset.maintenance.length==0?(u(),x(Q,{key:0,class:"pa-3 text-center"},{default:o(()=>[U("No record at the moment")]),_:1})):N("",!0)]),_:1})])]),_:1}))}},Qe={class:"v-col-12 pt-0 pb-2"},et=t("thead",null,[t("tr",null,[t("th",{class:"text-left text-primary"},"ISR ID"),t("th",{class:"text-left text-primary"},"Urgency"),t("th",{class:"text-left text-primary"},"Priority"),t("th",{class:"text-left text-primary"},"Reported by"),t("th",{class:"text-left text-primary"},"Handled by"),t("th",{class:"text-left text-primary"},"Date Reported"),t("th",{class:"text-left text-primary"},"Date Completed"),t("th",{class:"text-left text-primary"},"Status")])],-1),tt=["onClick"],at={__name:"AssetIncidents",props:{asset:{type:Object,default:null}},setup(R){const _=R,z=re(),I=y=>{z.push({name:"EditIncident",params:{id:y},query:{type:"details"}}).catch(g=>{console.log(g)})},Y=y=>y?y==1?"Normal":y==2?"Medium":"High":"",e=(y,g=5)=>{let i="0000"+y;return i.substring(i.length-g)},r=h({});return Z(()=>_.asset,(y,g)=>{r.value=y,console.log("assetDetail.value",r.value)},{deep:!0}),(y,g)=>(u(),x($,null,{default:o(()=>[t("div",Qe,[s(E,null,{default:o(()=>[s(ae,{density:"compact"},{default:o(()=>[et,t("tbody",null,[(u(!0),S(T,null,B(_.asset.incidents,(i,M)=>{var V,O,f,P;return u(),S("tr",{key:i.id},[t("td",{class:"text-decoration-underline d-flex align-center cursor-pointer",onClick:L=>I(i.id)},[U(" ISR-2"+m(e(i.id))+" ",1),s(G,{class:"ml-1",size:"small",icon:d(Se)},null,8,["icon"])],8,tt),t("td",null,m(i.urgency.title),1),t("td",null,m(i.priority?Y(i.priority):"-"),1),t("td",null,m((V=i.profile)==null?void 0:V.display_name),1),t("td",null,m((O=i.handle_by)!=null&&O.display_name?(f=i.handle_by)==null?void 0:f.display_name:"-"),1),t("td",null,m(i.created_at?d(X)(i.created_at).format("MMM. DD, YYYY"):"-"),1),t("td",null,m(i.date_closed?d(X)(i.date_closed).format("MMM. DD, YYYY"):"-"),1),t("td",null,m((P=i.status)==null?void 0:P.title),1)])}),128))])]),_:1}),_.asset.incidents&&_.asset.incidents.length==0?(u(),x(Q,{key:0,class:"pa-3 text-center"},{default:o(()=>[U("No record at the moment")]),_:1})):N("",!0)]),_:1})])]),_:1}))}},lt={class:"v-col-12 pt-0 pb-2"},st=t("thead",null,[t("tr",null,[t("th",{class:"text-left text-primary"},"#"),t("th",{class:"text-left text-primary"},"Transferred from"),t("th",{class:"text-left text-primary"},"Remarks"),t("th",{class:"text-left text-primary"},"Date")])],-1),ot={__name:"AssetAllotedLocations",props:{asset:{type:Object,default:null}},setup(R){const _=R;return(z,I)=>(u(),x($,null,{default:o(()=>[t("div",lt,[s(E,null,{default:o(()=>[s(ae,{density:"compact"},{default:o(()=>[st,t("tbody",null,[(u(!0),S(T,null,B(_.asset.allotted_informations,(Y,e)=>{var r;return u(),S("tr",{key:Y.id},[t("td",null,m(e+1),1),t("td",null,m((r=Y.location)==null?void 0:r.title),1),t("td",null,m(Y.remarks),1),t("td",null,m(d(ie)(Y.created_at)),1)])}),128))])]),_:1}),_.asset.allotted_informations&&_.asset.allotted_informations.length==0?(u(),x(Q,{key:0,class:"pa-3 text-center"},{default:o(()=>[U("No record at the moment")]),_:1})):N("",!0)]),_:1})])]),_:1}))}},nt={class:"text-primary text-capitalize"},dt={class:"d-flex align-center"},it=t("div",{class:"v-col-12 font-weight-bold"},"Asset Info",-1),ut={class:"v-col-12 v-col-md-6 pt-0 pb-2"},rt={class:"v-col-12 v-col-md-6 pt-0 pb-2"},ct={class:"v-col-12 v-col-md-6 pt-0 pb-2"},mt={class:"v-col-12 v-col-md-6 pt-0 pb-2"},pt={class:"v-col-12 v-col-md-6 pt-0 pb-2"},vt={class:"v-col-12 v-col-md-6 pt-0 pb-2"},_t={class:"v-col-12 v-col-md-6 pt-0 pb-2 d-flex align-start"},ft={class:"v-col-12 v-col-md-6 pt-0 pb-2"},yt={key:0,class:"v-col-12 pt-0 font-weight-bold"},gt={key:1,class:"v-col-12 pt-0"},Vt={class:"v-col-12 pt-0 text-capitalize"},bt={class:"v-col-12"},ht={key:0,class:"v-col-12 pt-0 d-flex justify-space-between"},xt=t("br",null,null,-1),kt={class:"v-col-12 v-col-md-6 pt-0 pb-2"},wt={class:"v-col-12 v-col-md-6 pt-0 pb-2"},Ct={class:"v-col-12 v-col-md-6 pt-0 pb-2"},St={class:"v-col-12 v-col-md-6 pt-0 pb-2"},Ut={class:"v-col-12 v-col-md-12 pt-0 pb-2"},At={class:"v-col-12"},Dt={class:"v-col-12 v-col-md-4 pt-0 pb-2"},Mt={class:"v-col-12 v-col-md-2 pt-0 pb-2"},$t={class:"v-col-12 v-col-md-6 pt-0 pb-2"},Nt={class:"v-col-12 v-col-md-6 pt-0 pb-2"},zt={class:"v-col-12 v-col-md-6 pt-0 pb-2"},Yt={class:"v-col-12"},It={class:"v-col-12 v-col-md-6 pt-0 pb-2"},jt={class:"v-col-12 v-col-md-6 pt-0 pb-2"},qt={class:"v-col-12 v-col-md-6 pt-0 pb-2"},Rt={class:"v-col-12 v-col-md-6 pt-0 pb-2"},Ot={class:"v-col-12 v-col-md-6 pt-0 pb-2"},Pt={class:"v-col-12 v-col-md-6 pt-0 pb-2"},Wt={class:"v-col-12 mb-6"},Ft={class:"v-col-12 mb-6"},Et={class:"v-col-12 mb-6"},Lt={class:"v-col-12 mb-6"},Tt=t("div",{class:"v-col-12 pt-0 font-weight-bold"},"Attachment",-1),Bt={class:"v-col-12 pt-0"},Kt={class:"v-col-12 pb-2"},Ht={style:{height:"680px",width:"100%"},class:"d-flex align-center justify-center"},Jt={class:"v-col-12 pt-0 pb-2"},na={__name:"AssetForm",props:{page:{type:String,default:"add"},asset:{type:Object,default:null}},setup(R){const _=R,z=re(),I=ue(),Y=h(["specification","purchase","financial","warranty","allotted","maintenance","incident"]),e=h({}),r=h({}),y=pe(),g=Ne();g.list.length==0&&g.getCompanies(y.token);const i=Ye();i.list.length==0&&i.getCategories(y.token);const M=ze();M.list.length==0&&M.getLocations(y.token);const V=Ie();V.list.length==0&&V.getVendors(y.token);const O=h(window.location.origin),f=h("specification"),P=c=>{f.value=c};let L=De({Name:q().required().max(150),"Serial Number":q().max(80).nullable(),"Asset Number":Me().typeError("Asset number must be a number").required(),"Section code":q().max(30).nullable(),Category:q().required(),Company:q().required(),Location:q().required(),"Asset Status":q().required(),Specification:q().max(120).nullable(),Brand:q().required(),Model:q().required(),Condition:q().required()});const W=h(!1),j=h([]),C=Ue(()=>j.value.map(c=>c.id)),b=c=>{e.value=Object.assign({},c);let a=(e.value.asset_code+"").split("-");e.value.company_code=a[0],e.value.category_code=a[1],e.value.asset_tag=a[2],j.value=c&&c.attachments?Object.assign([],c.attachments):[],c&&c.financial_information&&(e.value.capitalization_price=c.financial_information.capitalization_price,e.value.depreciation_percentage=c.financial_information.depreciation_percentage,e.value.scrap_value=c.financial_information.scrap_value,e.value.scrap_date=c.financial_information.scrap_date,e.value.capitalization_date=c.financial_information.capitalization_date,e.value.end_of_life=c.financial_information.end_of_life)};b(_.asset),Z(()=>_.asset,c=>{b(c)});const k=je();(k.list.length==0||k.conditions.length==0)&&k.getStatuses(y.token);const p=()=>{z.go(-1)};Z(()=>e.value.company_id,c=>{e.value.company_code=g.list.filter(l=>l.id==c)[0].code}),Z(()=>e.value.category_id,c=>{e.value.category_code=i.list.filter(l=>l.id==c)[0].code});const ee=async()=>{W.value=!0,e.value.file_ids=C.value,e.value.asset_code=e.value.company_code+"-"+e.value.category_code+"-"+e.value.asset_tag,e.value.financial_information_id=e.value.financial_information?e.value.financial_information.id:null,await te(y.token).post("/api/asset/save",e.value).then(c=>{r.value={status:!0,type:"success",text:c.data.message},W.value=!1,_.page=="add"&&z.push({name:"edit-asset",params:{id:c.data.asset.id}}).catch(l=>{console.log("router.push",l)})}).catch(c=>{console.log("saveAsset",c),r.value={status:!0,type:"error",text:"Error while saving asset"},W.value=!1})},ce=c=>{let l=null;c.map(a=>{l=j.value.find(n=>n.id==a.id),l||j.value.push(a)})},le=h(!1),se=h(1),xe=c=>{se.value=c,le.value=!0},ke=c=>{j.value=j.value.filter(l=>l.id!==c)};return(c,l)=>(u(),x(E,{loading:W.value,"max-width":"1600px",class:"mx-auto elevation-0"},{default:o(()=>[s(d(be),{as:"v-form","validation-schema":d(L)},{default:o(()=>[s(_e,{class:"pb-6 pt-3 d-flex align-center justify-space-between"},{default:o(()=>[t("div",nt,m(_.page+" Asset"),1),t("div",dt,[s(F,{color:"primary",class:"mr-4",loading:W.value,onClick:p},{default:o(()=>[U("Cancel")]),_:1},8,["loading"]),d(I).name!="view-asset"?(u(),x(F,{key:0,color:"primary",loading:W.value,onClick:ee},{default:o(()=>[U("Save")]),_:1},8,["loading"])):N("",!0)])]),_:1}),s(ye,null,{default:o(()=>[s($,null,{default:o(()=>[it,t("div",ut,[s(d(D),{name:"Name",modelValue:e.value.asset_name,"onUpdate:modelValue":l[1]||(l[1]=a=>e.value.asset_name=a)},{default:o(({field:a,errors:n})=>[s(w,A({modelValue:e.value.asset_name,"onUpdate:modelValue":l[0]||(l[0]=v=>e.value.asset_name=v)},a,{label:"Name*",variant:"outlined",density:"compact","error-messages":n}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])]),t("div",rt,[s(d(D),{name:"Serial Number",modelValue:e.value.serial_number,"onUpdate:modelValue":l[3]||(l[3]=a=>e.value.serial_number=a)},{default:o(({field:a,errors:n})=>[s(w,A({modelValue:e.value.serial_number,"onUpdate:modelValue":l[2]||(l[2]=v=>e.value.serial_number=v)},a,{label:"Serial Number(Optional)",variant:"outlined",density:"compact","error-messages":n}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])]),t("div",ct,[s(d(D),{name:"Section code",modelValue:e.value.section_code,"onUpdate:modelValue":l[5]||(l[5]=a=>e.value.section_code=a)},{default:o(({field:a,errors:n})=>[s(w,A({modelValue:e.value.section_code,"onUpdate:modelValue":l[4]||(l[4]=v=>e.value.section_code=v)},a,{label:"Section code (optional)",variant:"outlined",density:"compact","error-messages":n}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])]),t("div",mt,[s(J,{modelValue:e.value.category_id,"onUpdate:modelValue":l[6]||(l[6]=a=>e.value.category_id=a),items:d(i).list,"item-title":"title","item-value":"id",label:"Category*",density:"compact",variant:"outlined",rules:[a=>!!a||"Category is required"]},null,8,["modelValue","items","rules"])]),t("div",pt,[s(J,{modelValue:e.value.company_id,"onUpdate:modelValue":l[7]||(l[7]=a=>e.value.company_id=a),items:d(g).list,"item-title":"title","item-value":"id",label:"Company*",density:"compact",variant:"outlined",rules:[a=>!!a||"Company is required"]},null,8,["modelValue","items","rules"])]),t("div",vt,[s(J,{modelValue:e.value.location_id,"onUpdate:modelValue":l[8]||(l[8]=a=>e.value.location_id=a),items:d(M).list,"item-title":"title","item-value":"id",label:"Location*",density:"compact",variant:"outlined",rules:[a=>!!a||"Location is required"]},null,8,["modelValue","items","rules"])]),t("div",_t,[s(w,{style:{width:"33.33%"},modelValue:e.value.company_code,"onUpdate:modelValue":l[9]||(l[9]=a=>e.value.company_code=a),readonly:"",label:"Company Code",variant:"outlined",density:"compact",apped:d(oe)},null,8,["modelValue","apped"]),s(G,{icon:d(oe),class:"mt-3 mx-1"},null,8,["icon"]),s(w,{style:{width:"33.33%"},readonly:"",modelValue:e.value.category_code,"onUpdate:modelValue":l[10]||(l[10]=a=>e.value.category_code=a),label:"Asset Code",variant:"outlined",density:"compact"},null,8,["modelValue"]),s(G,{icon:d(oe),class:"mt-3 mx-1"},null,8,["icon"]),s(d(D),{name:"Asset Number",modelValue:e.value.asset_tag,"onUpdate:modelValue":l[12]||(l[12]=a=>e.value.asset_tag=a)},{default:o(({field:a,errors:n})=>[s(w,A({style:{width:"33.33%"}},a,{"error-messages":n,type:"number",modelValue:e.value.asset_tag,"onUpdate:modelValue":l[11]||(l[11]=v=>e.value.asset_tag=v),label:"Asset Number*",variant:"outlined",density:"compact"}),null,16,["error-messages","modelValue"])]),_:1},8,["modelValue"])]),t("div",ft,[s(J,{modelValue:e.value.status_id,"onUpdate:modelValue":l[13]||(l[13]=a=>e.value.status_id=a),items:d(k).assets,disabled:e.value.status_id==2,"item-title":"title","item-value":"id",label:"Asset Status*",density:"compact",variant:"outlined",rules:[a=>!!a||"Asset Status is required"]},null,8,["modelValue","items","disabled","rules"])])]),_:1}),s($,null,{default:o(()=>[_.page=="edit"||_.page=="view"?(u(),S("div",yt," Additional Info ")):N("",!0),_.page=="edit"||_.page=="view"?(u(),S("div",gt,[(u(!0),S(T,null,B(Y.value,(a,n)=>(u(),x(F,{key:n,class:"mr-2 mb-2",onClick:()=>P(a),color:f.value==a?"primary":"white"},{default:o(()=>[U(m(a),1)]),_:2},1032,["onClick","color"]))),128))])):N("",!0),t("div",Vt,m(f.value+" Information"),1),K(t("div",bt,[s($,null,{default:o(()=>{var a;return[_.page=="edit"||_.page=="view"?(u(),S("div",ht,[t("div",null,[U(" Date Created: "+m(d(me)(e.value.created_at)),1),xt,U(" Date Updated: "+m(d(me)(e.value.updated_at)),1)]),t("div",null,"UpdatedBy: "+m((a=e.value.last_updated_by)==null?void 0:a.display_name),1)])):N("",!0),t("div",kt,[s(d(D),{name:"Specification",modelValue:e.value.specification,"onUpdate:modelValue":l[15]||(l[15]=n=>e.value.specification=n)},{default:o(({field:n,errors:v})=>[s(w,A({modelValue:e.value.specification,"onUpdate:modelValue":l[14]||(l[14]=we=>e.value.specification=we)},n,{label:"Specification*",variant:"outlined",density:"compact","error-messages":v}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])]),t("div",wt,[s(w,{modelValue:e.value.model,"onUpdate:modelValue":l[16]||(l[16]=n=>e.value.model=n),label:"Model*",variant:"outlined",density:"compact"},null,8,["modelValue"])]),t("div",Ct,[s(w,{modelValue:e.value.brand,"onUpdate:modelValue":l[17]||(l[17]=n=>e.value.brand=n),label:"Brand*",variant:"outlined",density:"compact"},null,8,["modelValue"])]),t("div",St,[s(J,{modelValue:e.value.condition_id,"onUpdate:modelValue":l[18]||(l[18]=n=>e.value.condition_id=n),items:d(k).conditions,"item-title":"title","item-value":"id",label:"Condition*",density:"compact",variant:"outlined",rules:[n=>!!n||"Condition is required"]},null,8,["modelValue","items","rules"])]),t("div",Ut,[s(Ae,{modelValue:e.value.remarks,"onUpdate:modelValue":l[19]||(l[19]=n=>e.value.remarks=n),label:"Asset Remarks",density:"compact",variant:"outlined",rows:"2"},null,8,["modelValue"])])]}),_:1})],512),[[H,f.value=="specification"]]),K(t("div",At,[s($,null,{default:o(()=>[t("div",Dt,[s(d(D),{name:"Price",modelValue:e.value.price,"onUpdate:modelValue":l[21]||(l[21]=a=>e.value.price=a)},{default:o(({field:a,errors:n})=>[s(w,A({modelValue:e.value.price,"onUpdate:modelValue":l[20]||(l[20]=v=>e.value.price=v)},a,{label:"Price (Numeric Only)",variant:"outlined",density:"compact","error-messages":n}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])]),t("div",Mt,[s(d(D),{name:"Currency",modelValue:e.value.currency,"onUpdate:modelValue":l[23]||(l[23]=a=>e.value.currency=a)},{default:o(({field:a,errors:n})=>[s(w,A({modelValue:e.value.currency,"onUpdate:modelValue":l[22]||(l[22]=v=>e.value.currency=v)},a,{label:"Currency(AED/USD)",variant:"outlined",density:"compact","error-messages":n}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])]),t("div",$t,[s(J,{modelValue:e.value.vendor_id,"onUpdate:modelValue":l[24]||(l[24]=a=>e.value.vendor_id=a),items:d(V).list,"item-title":"title","item-value":"id",label:"Vendor",density:"compact",variant:"outlined",rules:[a=>!!a||"Vendor is required"]},null,8,["modelValue","items","rules"])]),t("div",Nt,[s(d(D),{name:"PO Number",modelValue:e.value.po_number,"onUpdate:modelValue":l[26]||(l[26]=a=>e.value.po_number=a)},{default:o(({field:a,errors:n})=>[s(w,A({modelValue:e.value.po_number,"onUpdate:modelValue":l[25]||(l[25]=v=>e.value.po_number=v)},a,{label:"PO Number",variant:"outlined",density:"compact","error-messages":n}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])]),t("div",zt,[s(d(D),{name:"Purchase Date",modelValue:e.value.purchased_date,"onUpdate:modelValue":l[28]||(l[28]=a=>e.value.purchased_date=a)},{default:o(({field:a,errors:n})=>[s(w,A({type:"date",modelValue:e.value.purchased_date,"onUpdate:modelValue":l[27]||(l[27]=v=>e.value.purchased_date=v)},a,{label:"Purchase Date",variant:"outlined",density:"compact","error-messages":n}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])])]),_:1})],512),[[H,f.value=="purchase"]]),K(t("div",Yt,[s($,null,{default:o(()=>[t("div",It,[s(d(D),{name:"Capitalization Price",modelValue:e.value.capitalization_price,"onUpdate:modelValue":l[30]||(l[30]=a=>e.value.capitalization_price=a)},{default:o(({field:a,errors:n})=>[s(w,A({modelValue:e.value.capitalization_price,"onUpdate:modelValue":l[29]||(l[29]=v=>e.value.capitalization_price=v)},a,{label:"Capitalization Price",variant:"outlined",density:"compact","error-messages":n}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])]),t("div",jt,[s(d(D),{name:"Depreciation Percentage",modelValue:e.value.depreciation_percentage,"onUpdate:modelValue":l[32]||(l[32]=a=>e.value.depreciation_percentage=a)},{default:o(({field:a,errors:n})=>[s(w,A({modelValue:e.value.depreciation_percentage,"onUpdate:modelValue":l[31]||(l[31]=v=>e.value.depreciation_percentage=v)},a,{label:"Depreciation Percentage",variant:"outlined",density:"compact","error-messages":n}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])]),t("div",qt,[s(d(D),{name:"Scrap Value",modelValue:e.value.scrap_value,"onUpdate:modelValue":l[34]||(l[34]=a=>e.value.scrap_value=a)},{default:o(({field:a,errors:n})=>[s(w,A({modelValue:e.value.scrap_value,"onUpdate:modelValue":l[33]||(l[33]=v=>e.value.scrap_value=v)},a,{label:"Scrap Value",variant:"outlined",density:"compact","error-messages":n}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])]),t("div",Rt,[s(d(D),{name:"Scrap Date",modelValue:e.value.scrap_date,"onUpdate:modelValue":l[36]||(l[36]=a=>e.value.scrap_date=a)},{default:o(({field:a,errors:n})=>[s(w,A({type:"date",modelValue:e.value.scrap_date,"onUpdate:modelValue":l[35]||(l[35]=v=>e.value.scrap_date=v)},a,{label:"Scrap Date",variant:"outlined",density:"compact","error-messages":n}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])]),t("div",Ot,[s(d(D),{name:"Capitalization Date",modelValue:e.value.capitalization_date,"onUpdate:modelValue":l[38]||(l[38]=a=>e.value.capitalization_date=a)},{default:o(({field:a,errors:n})=>[s(w,A({type:"date",modelValue:e.value.capitalization_date,"onUpdate:modelValue":l[37]||(l[37]=v=>e.value.capitalization_date=v)},a,{label:"Capitalization Date",variant:"outlined",density:"compact","error-messages":n}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])]),t("div",Pt,[s(d(D),{name:"End of Life",modelValue:e.value.end_of_life,"onUpdate:modelValue":l[40]||(l[40]=a=>e.value.end_of_life=a)},{default:o(({field:a,errors:n})=>[s(w,A({type:"date",modelValue:e.value.end_of_life,"onUpdate:modelValue":l[39]||(l[39]=v=>e.value.end_of_life=v)},a,{label:"End of Life",density:"compact",variant:"outlined","error-messages":n}),null,16,["modelValue","error-messages"])]),_:1},8,["modelValue"])])]),_:1})],512),[[H,f.value=="financial"]]),K(t("div",Wt,[_.page!="add"?(u(),x(Je,{key:0,asset:e.value,page:_.page},null,8,["asset","page"])):N("",!0)],512),[[H,f.value=="warranty"]]),K(t("div",Ft,[s(ot,{asset:e.value},null,8,["asset"])],512),[[H,f.value=="allotted"]]),K(t("div",Et,[s(Ge,{asset:e.value},null,8,["asset"])],512),[[H,f.value=="maintenance"]]),K(t("div",Lt,[s(at,{asset:e.value},null,8,["asset"])],512),[[H,f.value=="incident"]]),Tt,t("div",Bt,[s($,null,{default:o(()=>[t("div",Kt,[d(I).name!="view-asset"?(u(),x($e,{key:0,options:{multiSelect:!0},onSelect:ce})):N("",!0)])]),_:1}),j.value.length>0?(u(),x($,{key:0,class:"px-1"},{default:o(()=>[(u(!0),S(T,null,B(j.value,(a,n)=>(u(),S("div",{key:a.id,class:"v-col-12 v-col-md-2 pa-2",style:{position:"relative"}},[s(F,{style:{position:"absolute",top:"0",right:"0","z-index":"1"},icon:d(fe),size:"26px",color:"error",onClick:()=>ke(a.id)},null,8,["icon","onClick"]),s(E,{onClick:()=>xe(n)},{default:o(()=>[s(de,{src:O.value+"/file/"+a.path,cover:"","aspect-ratio":"1"},null,8,["src"])]),_:2},1032,["onClick"])]))),128)),s(ne,{modelValue:le.value,"onUpdate:modelValue":l[42]||(l[42]=a=>le.value=a),width:"95%","max-width":"900"},{default:o(()=>[s(E,{class:"bg-black"},{default:o(()=>[s(ge,{"hide-delimiter-background":"","show-arrows":"hover",height:"680px",modelValue:se.value,"onUpdate:modelValue":l[41]||(l[41]=a=>se.value=a)},{default:o(()=>[(u(!0),S(T,null,B(j.value,(a,n)=>(u(),x(Ve,{key:n,"reverse-transition":"fade",transition:"fade"},{default:o(()=>[t("div",Ht,[s(de,{src:O.value+"/file/"+a.path},null,8,["src"])])]),_:2},1024))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])]),_:1})):(u(),x($,{key:1},{default:o(()=>[t("div",Jt,[s(Q,{color:"grey-lighten-4",class:"pa-6 text-center"},{default:o(()=>[U(" Attachment is empty at the moment. ")]),_:1})])]),_:1}))])]),_:1})]),_:1})]),_:1},8,["validation-schema"]),s(he,{options:r.value},null,8,["options"])]),_:1},8,["loading"]))}};export{na as _};
